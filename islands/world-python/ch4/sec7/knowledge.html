<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬11-12å…³ è‡ªå®šä¹‰æ¸¸æˆç›®æ ‡</title>
    <style>
        /* --- 1. åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-wood: #5D4037;        /* æ·±æœ¨çº¹ */
            --paper-bg: #FFF3E0;       /* ç¾Šçš®çº¸ */
            --ink-color: #3E2723;      /* å¢¨æ°´è‰² */
            --primary: #D84315;        /* ç«æ¼†çº¢ */
            --accent: #FFB300;         /* é‡‘è‰² */
            --success: #2E7D32;        /* æˆåŠŸç»¿ */
            
            /* ä»£ç é«˜äº® */
            --code-bg: #263238;
            --code-fg: #ECEFF1;
            --tok-func: #82B1FF;       /* å‡½æ•° */
            --tok-str: #C3E88D;        /* å­—ç¬¦ä¸² */
            --tok-kw: #FF8A80;         /* å…³é”®å­— */
            --tok-num: #F48FB1;        /* æ•°å­— */
            --tok-var: #FFCB6B;        /* å˜é‡ */
            --tok-cm: #546E7A;         /* æ³¨é‡Š */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', 'Comic Sans MS', sans-serif;
            background-color: #3E2723;
            /* æœ¨çº¹èƒŒæ™¯ */
            background-image: 
                linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
        }

        /* --- 2. èˆå°å¸ƒå±€ --- */
        .stage {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 60px;
            width: 98vw;
            max-width: 1400px;
            position: relative;
            z-index: 10;
        }

        /* --- 3. ç«æ¼†å°ç« æŒ‰é’® (å¤–éƒ¨) --- */
        .nav-btn {
            width: 90px;
            height: 90px;
            background: #B71C1C;
            border: 4px solid #D32F2F;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            box-shadow: 
                inset 0 0 20px rgba(0,0,0,0.5),
                0 10px 20px rgba(0,0,0,0.5);
            transition: all 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFCDD2;
            font-size: 40px;
            font-weight: bold;
            /* ä¸è§„åˆ™è¾¹ç¼˜æ¨¡æ‹Ÿç«æ¼† */
            border-radius: 45% 55% 50% 50% / 50% 45% 55% 50%;
        }
        
        /* å†…éƒ¨å°è®° */
        .nav-btn::before {
            content: '';
            position: absolute;
            width: 70px; height: 70px;
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 50%;
        }

        .nav-btn:hover { transform: scale(1.05); background: #C62828; }
        .nav-btn:active { transform: scale(0.95); box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
        
        .disabled { opacity: 0.5; filter: grayscale(1); pointer-events: none; }

        /* --- 4. ä»»åŠ¡å…¬å‘Šæ¿å®¹å™¨ --- */
        .board-container {
            width: 960px;
            height: 600px;
            background: #6D4C41; /* æœ¨æ¿è‰² */
            border-radius: 15px;
            /* æœ¨è´¨è¾¹æ¡†æ•ˆæœ */
            border: 20px solid #4E342E;
            box-shadow: 
                inset 0 0 50px rgba(0,0,0,0.5),
                0 30px 60px rgba(0,0,0,0.7);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* æœ¨æ¿çº¹ç†å±‚ */
        .wood-texture {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: repeating-linear-gradient(90deg, transparent, transparent 50px, rgba(0,0,0,0.05) 50px, rgba(0,0,0,0.05) 53px);
            pointer-events: none; z-index: 0;
        }

        /* é¡¶éƒ¨æ ‡é¢˜çº¸æ¡ */
        .title-paper {
            position: absolute;
            top: 20px; left: 50%; transform: translateX(-50%) rotate(-2deg);
            background: #FFF9C4;
            padding: 10px 40px;
            color: #3E2723;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 20px;
            box-shadow: 2px 5px 10px rgba(0,0,0,0.3);
            z-index: 20;
            text-align: center;
        }
        /* å›¾é’‰ */
        .pin {
            width: 15px; height: 15px; background: #D32F2F; border-radius: 50%;
            position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        /* å¹»ç¯ç‰‡ï¼ˆä»»åŠ¡å•ï¼‰ */
        .slide {
            display: none;
            flex: 1;
            margin: 80px 40px 40px 40px;
            background: var(--paper-bg);
            padding: 40px 50px;
            box-shadow: 5px 10px 20px rgba(0,0,0,0.2);
            transform: rotate(1deg);
            z-index: 10;
            flex-direction: column;
            animation: paperFloat 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow-y: auto;
            position: relative;
        }
        .slide.active { display: flex; }

        @keyframes paperFloat { 
            0% { opacity: 0; transform: translateY(50px) rotate(5deg); } 
            100% { opacity: 1; transform: translateY(0) rotate(1deg); } 
        }

        /* å†…å®¹å¸ƒå±€ */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #8D6E63;
            padding-bottom: 10px;
        }
        .icon { font-size: 50px; margin-right: 20px; }
        h1 { margin: 0; color: #BF360C; font-size: 34px; letter-spacing: 1px; font-family: cursive; }

        .layout { display: flex; gap: 40px; height: 100%; }
        .col-text { flex: 1.1; font-size: 19px; line-height: 1.7; color: #3E2723; }
        .col-visual { 
            flex: 0.9; 
            background: rgba(0,0,0,0.05);
            border: 2px dashed #8D6E63;
            border-radius: 10px;
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative;
            overflow: hidden;
        }

        /* ä»£ç å— */
        .code-box {
            background: var(--code-bg);
            color: var(--code-fg);
            padding: 15px 20px;
            border-radius: 5px;
            font-family: 'Consolas', monospace;
            font-size: 17px;
            margin-top: 15px;
            border-left: 5px solid var(--accent);
            box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .k { color: var(--tok-kw); font-weight: bold; } 
        .f { color: var(--tok-func); } 
        .v { color: var(--tok-var); } 
        .s { color: var(--tok-str); } 
        .n { color: var(--tok-num); }
        .c { color: var(--tok-cm); font-style: italic; font-size: 0.9em; } 

        /* å¡ç‰‡ */
        .card {
            background: #FFF8E1;
            border-left: 5px solid var(--primary);
            color: #BF360C;
            padding: 15px 20px;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* --- 5. è§†è§‰åŒ–ç»„ä»¶ --- */
        
        /* ä»»åŠ¡ç›®æ ‡å¡ç‰‡ */
        .quest-card {
            width: 220px;
            background: white;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            transition: all 0.3s;
        }
        .quest-header { border-bottom: 2px solid #333; margin-bottom: 10px; padding-bottom: 5px; text-transform: uppercase; font-size: 14px; color: #555; }
        .quest-body { font-size: 16px; color: #333; margin-bottom: 10px; }
        .quest-status { display: flex; justify-content: flex-end; }
        .checkbox { width: 20px; height: 20px; border: 2px solid #333; display: flex; justify-content: center; align-items: center; }
        
        /* å®Œæˆå°ç«  */
        .stamp {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-20deg) scale(2);
            border: 5px solid var(--success);
            color: var(--success);
            padding: 10px 20px;
            font-size: 30px;
            font-weight: bold;
            text-transform: uppercase;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
            background: rgba(255,255,255,0.8);
        }
        .quest-card.completed .stamp { opacity: 1; transform: translate(-50%, -50%) rotate(-20deg) scale(1); }
        .quest-card.completed .checkbox::after { content: 'âœ”'; font-size: 20px; color: var(--success); }

        /* Boss æˆ˜æ–—æ¼”ç¤º */
        .boss-arena { width: 100%; height: 100%; position: relative; display: flex; justify-content: center; align-items: center; }
        .boss { font-size: 80px; cursor: pointer; transition: transform 0.1s; position: relative; }
        .boss:active { transform: scale(0.9); }
        .boss.dead { opacity: 0.3; filter: grayscale(1); transform: rotate(90deg); pointer-events: none; }
        .hit-effect { position: absolute; font-size: 40px; color: red; font-weight: bold; pointer-events: none; animation: flyUp 0.5s forwards; }

        /* ä¾¦å¯Ÿå…µè®¡æ•°æ¼”ç¤º */
        .scout-container { display: flex; gap: 20px; margin-bottom: 20px; }
        .scout { font-size: 50px; cursor: pointer; transition: all 0.2s; }
        .scout:hover { transform: scale(1.1); }
        .scout.defeated { opacity: 0.2; transform: scale(0.8); pointer-events: none; }
        .counter-display { font-size: 24px; background: #333; color: #fff; padding: 5px 15px; border-radius: 5px; margin-bottom: 10px; }

        /* æµç¨‹å›¾èŠ‚ç‚¹ */
        .flow-node {
            padding: 8px 15px; border-radius: 5px; color: white; font-weight: bold; margin: 8px 0; text-align: center; width: 220px; position: relative;
            font-size: 16px; box-shadow: 2px 2px 0 rgba(0,0,0,0.2);
        }
        .bg-manual { background: var(--primary); }
        .bg-check { background: #5D4037; }
        .bg-set { background: var(--success); }
        .arrow-down { font-size: 20px; color: #8D6E63; margin: 0; text-align: center; width: 100%; }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            height: 8px;
            background: rgba(0,0,0,0.1);
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.3s;
        }

        @keyframes flyUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-50px); opacity: 0; } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    </style>
</head>
<body>

<div class="stage">
    <!-- å·¦æŒ‰é’® -->
    <button class="nav-btn" id="btnPrev" onclick="moveSlide(-1)">â®</button>

    <!-- å…¬å‘Šæ¿å®¹å™¨ -->
    <div class="board-container">
        <div class="wood-texture"></div>
        <div class="title-paper">
            <div class="pin"></div>
            æ¸¸æˆå¼€å‘ 2 | ç¬¬ 11-12 å…³
        </div>

        <!-- Slide 1: å°é¢ -->
        <div class="slide active" style="justify-content: center; align-items: center; text-align: center;">
            <div style="font-size: 100px; margin-bottom: 20px; animation: float 3s infinite;">ğŸ“œ</div>
            <h1 style="font-size: 50px; margin: 10px 0; color: #3E2723;">è‡ªå®šä¹‰æ¸¸æˆç›®æ ‡</h1>
            <h2 style="font-size: 24px; color: #D84315; font-weight: bold; margin-top: 0; font-family: 'Courier New';">Custom Game Goals</h2>
            <div style="margin-top: 40px; display: flex; gap: 30px;">
                <div style="padding: 15px 30px; background: #FFECB3; color: #F57F17; border: 2px dashed #F57F17; border-radius: 5px; font-weight: bold; font-size: 20px;">âœï¸ æ‰‹åŠ¨æ·»åŠ </div>
                <div style="padding: 15px 30px; background: #C8E6C9; color: #2E7D32; border: 2px solid #2E7D32; border-radius: 5px; font-weight: bold; font-size: 20px;">âœ… æ ‡è®°å®Œæˆ</div>
            </div>
        </div>

        <!-- Slide 2: ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰ç›®æ ‡ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ¯</div>
                <h1>æ¸¸æˆç›®æ ‡ï¼šå†…ç½® vs è‡ªå®šä¹‰</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»¥å‰æˆ‘ä»¬ç”¨<b>å†…ç½®ç›®æ ‡</b>ï¼ˆç³»ç»Ÿå¸®æˆ‘ä»¬æ”¹ä½œä¸šï¼‰ï¼š</p>
                    <ul style="list-style: none; padding: 0; color: #795548;">
                        <li>ğŸ›¡ï¸ survive (æ´»ä¸‹æ¥)</li>
                        <li>âš”ï¸ defeat (æ‰“å€’å‡ ä¸ª)</li>
                        <li>ğŸ’ collect (æ”¶é›†å‡ ä¸ª)</li>
                    </ul>
                    <div class="card" style="background: #E1F5FE; border-color: #0288D1; color: #01579B;">
                        âœ¨ <b>è‡ªå®šä¹‰ç›®æ ‡ (Manual Goal)ï¼š</b><br>
                        ä½ è‡ªå·±å†™â€œä»»åŠ¡è¯´æ˜â€ï¼Œè‡ªå·±å†™ä»£ç åˆ¤æ–­â€œå®Œæˆæ²¡â€ã€‚<br>
                        å°±åƒä½ è‡ªå·±ç»™è‡ªå·±åˆ—çš„ä»»åŠ¡æ¸…å•ï¼
                    </div>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; gap: 20px; align-items: center;">
                        <div style="background: #EEE; padding: 10px; width: 200px; text-align: center; color: #999;">ç³»ç»Ÿè‡ªåŠ¨æ‰¹æ”¹</div>
                        <div style="font-size: 30px;">ğŸ†š</div>
                        <div class="quest-card">
                            <div class="quest-header">æˆ‘çš„ä»»åŠ¡å•</div>
                            <div class="quest-body">æ‰“è´¥é‚£ä¸ªå¤§é­”ç‹!</div>
                            <div class="quest-status"><div class="checkbox"></div></div>
                            <div style="position:absolute; right: -30px; bottom: -10px; transform: rotate(-15deg); font-size: 40px;">âœï¸</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: æ·»åŠ ç›®æ ‡ addManualGoal -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“Œ</div>
                <h1>æ·»åŠ ä»»åŠ¡å¡: addManualGoal</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æˆ‘ä»¬è¦å…ˆåœ¨å±å¹•ä¸Šè´´ä¸€å¼ â€œä»»åŠ¡å¡â€ã€‚</p>
                    <div class="code-box">
                        <span class="c"># è¿”å›ä¸€ä¸ªç›®æ ‡å¯¹è±¡(Goal Object)</span><br>
                        <span class="v">bossGoal</span> = <span class="v">game</span>.<span class="f">addManualGoal</span>(<span class="s">"æ‰“è´¥å¤§é­”ç‹!"</span>)
                    </div>
                    <p style="margin-top: 15px;">
                        1. æ˜¾ç¤ºæ–‡å­—ç»™ç©å®¶çœ‹ã€‚<br>
                        2. æŠŠè¿™å¼ â€œå¡â€å­˜åˆ°å˜é‡ <code>bossGoal</code> é‡Œï¼Œä»¥åè¦ç”¨å®ƒæ¥ç›–ç« ã€‚
                    </p>
                </div>
                <div class="col-visual">
                    <div class="quest-card" id="demoCard1">
                        <div class="quest-header">ä»»åŠ¡ç›®æ ‡</div>
                        <div class="quest-body">æ‰“è´¥å¤§é­”ç‹!</div>
                        <div class="quest-status"><div class="checkbox"></div></div>
                    </div>
                    <div style="position: absolute; bottom: 10px; font-size: 14px; color: #795548;">å˜é‡ bossGoal æ‹¿ç€è¿™å¼ å¡</div>
                </div>
            </div>
        </div>

        <!-- Slide 4: æ ‡è®°å®Œæˆ setGoalState -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’®</div>
                <h1>ç›–ç« ï¼šsetGoalState</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>å½“ä»»åŠ¡è¾¾æˆæ—¶ï¼Œæˆ‘ä»¬è¦å‘Šè¯‰æ¸¸æˆï¼šè¿™å¼ å¡å®Œæˆäº†ï¼</p>
                    <div class="code-box">
                        <span class="c"># ç›®æ ‡, çŠ¶æ€(True=å®Œæˆ)</span><br>
                        <span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">bossGoal</span>, <span class="k">True</span>)
                    </div>
                    <div class="card">
                        True = âœ… å®Œæˆ<br>
                        False = â¬œ æœªå®Œæˆ
                    </div>
                </div>
                <div class="col-visual">
                    <div class="quest-card" id="demoCard2" onclick="toggleStamp(this)" style="cursor: pointer;">
                        <div class="quest-header">ä»»åŠ¡ç›®æ ‡</div>
                        <div class="quest-body">æ‰“è´¥å¤§é­”ç‹!</div>
                        <div class="quest-status"><div class="checkbox"></div></div>
                        <div class="stamp">SUCCESS</div>
                    </div>
                    <div style="position: absolute; bottom: 10px; font-size: 14px; color: #795548;">ç‚¹å‡»å¡ç‰‡æ¨¡æ‹Ÿä»£ç æ‰§è¡Œ</div>
                    <script>
                        function toggleStamp(el) {
                            el.classList.toggle('completed');
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 5: å®ä¾‹ä¸€ï¼šæ‰“å…‰ä¾¦å¯Ÿå…µ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ¹</div>
                <h1>å®ä¾‹ Iï¼šæ‰“å…‰ä¾¦å¯Ÿå…µ (è®¡æ•°å™¨)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»»åŠ¡ï¼šæ‰“è´¥ 3 ä¸ªä¾¦å¯Ÿå…µã€‚</p>
                    <div class="code-box" style="font-size: 14px;">
                        <span class="v">count</span> = <span class="n">0</span><br>
                        <span class="k">def</span> <span class="f">onDefeat</span>(event):<br>
                        &nbsp;&nbsp;<span class="kw">if</span> event.target.type == <span class="s">"scout"</span>:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="v">count</span> += <span class="n">1</span><br>
                        &nbsp;&nbsp;<span class="kw">if</span> <span class="v">count</span> >= <span class="n">3</span>:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">scoutGoal</span>, <span class="k">True</span>)
                    </div>
                    <p style="margin-top: 10px;">æ¯æ¬¡æ‰“å€’ä¸€ä¸ªï¼Œè®¡æ•°å™¨ +1ï¼Œå¤Ÿäº†å°±ç›–ç« ï¼</p>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div class="counter-display">Defeated: <span id="scoutCount">0</span>/3</div>
                        <div class="scout-container">
                            <div class="scout" onclick="killScout(this)">ğŸ’‚â€â™‚ï¸</div>
                            <div class="scout" onclick="killScout(this)">ğŸ’‚â€â™‚ï¸</div>
                            <div class="scout" onclick="killScout(this)">ğŸ’‚â€â™‚ï¸</div>
                        </div>
                        <div class="quest-card" id="scoutCard" style="transform: scale(0.8);">
                            <div class="quest-body">æ¶ˆç­æ‰€æœ‰ä¾¦å¯Ÿå…µ</div>
                            <div class="quest-status"><div class="checkbox"></div></div>
                            <div class="stamp">SUCCESS</div>
                        </div>
                    </div>
                    <script>
                        let sCount = 0;
                        function killScout(el) {
                            if(el.classList.contains('defeated')) return;
                            el.classList.add('defeated');
                            sCount++;
                            document.getElementById('scoutCount').innerText = sCount;
                            if(sCount >= 3) {
                                document.getElementById('scoutCard').classList.add('completed');
                            }
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 6: å®ä¾‹äºŒï¼šæ‰“è´¥Boss -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ‘¹</div>
                <h1>å®ä¾‹ IIï¼šæ‰“è´¥å¤§ Boss</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»»åŠ¡ï¼šåªè¦æ‰“å€’é‚£ä¸ªå¤§å®¶ä¼™ï¼</p>
                    <div class="code-box" style="font-size: 14px;">
                        <span class="k">def</span> <span class="f">onDefeat</span>(event):<br>
                        &nbsp;&nbsp;<span class="v">unit</span> = event.target<br>
                        &nbsp;&nbsp;<span class="c"># æ£€æŸ¥ç±»å‹æ˜¯ä¸æ˜¯ Boss</span><br>
                        &nbsp;&nbsp;<span class="kw">if</span> <span class="v">unit</span>.type == <span class="s">"ogre"</span>:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">bossGoal</span>, <span class="k">True</span>)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="v">hero</span>.<span class="f">say</span>(<span class="s">"Bosså·²æ­»!"</span>)
                    </div>
                </div>
                <div class="col-visual">
                    <div class="boss-arena">
                        <div class="boss" onclick="killBoss(this)">ğŸ‘¹</div>
                        <div class="quest-card" id="bossCard" style="position: absolute; bottom: 10px; right: 10px; transform: scale(0.7);">
                            <div class="quest-body">å‡»è´¥ Boss</div>
                            <div class="quest-status"><div class="checkbox"></div></div>
                            <div class="stamp">SUCCESS</div>
                        </div>
                    </div>
                    <script>
                        function killBoss(el) {
                            if(el.classList.contains('dead')) return;
                            el.classList.add('dead');
                            
                            // é£˜å­—ç‰¹æ•ˆ
                            const hit = document.createElement('div');
                            hit.className = 'hit-effect';
                            hit.innerText = '-9999';
                            hit.style.left = '50%'; hit.style.top = '50%';
                            el.parentNode.appendChild(hit);
                            
                            setTimeout(() => {
                                document.getElementById('bossCard').classList.add('completed');
                                hit.remove();
                            }, 500);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 7: äº‹ä»¶é…å¯¹ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ”—</div>
                <h1>äº‹ä»¶é…å¯¹ï¼šå…¨å‘˜æ£€æŸ¥</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>åˆ«å¿˜äº†æŠŠæ£€æŸ¥é€»è¾‘æŒ‚åˆ°å•ä½èº«ä¸Šï¼</p>
                    <div class="code-box">
                        <span class="v">game</span>.<span class="f">setActionFor</span>(<span class="s">"scout"</span>, <span class="s">"defeat"</span>, onDefeat)<br>
                        <span class="v">game</span>.<span class="f">setActionFor</span>(<span class="s">"ogre"</span>, <span class="s">"defeat"</span>, onDefeat)
                    </div>
                    <p style="margin-top: 20px;">
                        "æ— è®ºæ˜¯è°å€’ä¸‹ï¼Œéƒ½è¦æ‹¿ç€â€˜æ­»äº¡è¯æ˜â€™å»æ‰¾ <code>onDefeat</code> æ£€æŸ¥ä¸€ä¸‹ï¼šæ˜¯ä¸æ˜¯ä»»åŠ¡ç›®æ ‡ï¼Ÿ"
                    </p>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div style="font-size: 40px;">ğŸ’€</div>
                        <div class="arrow-down">â¬‡ï¸ è§¦å‘ defeat</div>
                        <div class="flow-node bg-check">onDefeat æ£€æŸ¥</div>
                        <div class="arrow-down">â¬‡ï¸ è¾¾æˆæ¡ä»¶</div>
                        <div class="flow-node bg-set">setGoalState(True)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: æ€»ç»“ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“œ</div>
                <h1>ä»»åŠ¡å¤§å¸ˆå£è¯€</h1>
            </div>
            <div class="layout">
                <div class="col-text" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                    <div class="card" style="background: #FFF3E0; border-color: #FF9800; color: #E65100;">
                        "å…ˆå†™ <b>ManualGoal</b> ä»»åŠ¡å¡ï¼Œ<br>
                        å†™ä¸Šè¯´æ˜æŒ‚å¢™ä¸Šã€‚"
                    </div>
                    <div class="card" style="background: #E8F5E9; border-color: #4CAF50; color: #1B5E20; margin-top: 20px;">
                        "å†™å¥½åˆ¤æ–­ <b>if</b> æ¡ä»¶ï¼Œ<br>
                        è¾¾æˆæ¡ä»¶ <b>True</b> ç›–ç« ï¼"
                    </div>
                </div>
                <div class="col-visual" style="border: none; background: transparent; box-shadow: none;">
                    <div style="font-size: 120px; animation: paperFloat 3s infinite;">ğŸ…</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨è¿›åº¦æ¡ -->
        <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

    </div>

    <!-- å³æŒ‰é’® -->
    <button class="nav-btn" id="btnNext" onclick="moveSlide(1)">â¯</button>

</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const progressBar = document.getElementById('progressBar');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    function updateUI() {
        slides.forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });

        btnPrev.classList.toggle('disabled', currentSlide === 0);
        btnNext.classList.toggle('disabled', currentSlide === totalSlides - 1);

        const percentage = ((currentSlide + 1) / totalSlides) * 100;
        progressBar.style.width = `${percentage}%`;
    }

    function moveSlide(dir) {
        const nextIndex = currentSlide + dir;
        if (nextIndex >= 0 && nextIndex < totalSlides) {
            currentSlide = nextIndex;
            updateUI();
        }
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') moveSlide(-1);
        if (e.key === 'ArrowRight') moveSlide(1);
    });

    updateUI();
</script>

</body>
</html>