<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬15-16å…³ æ¸¸æˆäº‹ä»¶ï¼šcollect</title>
    <style>
        /* --- 1. åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-cave: #263238;        /* æ´ç©´æ·±è‰² */
            --board-bg: #FFF8E1;       /* ç¾Šçš®çº¸è‰² */
            --gold: #FFC107;           /* é‡‘å¸é»„ */
            --gem-red: #FF5252;        /* å®çŸ³çº¢ */
            --gem-blue: #448AFF;       /* å®çŸ³è“ */
            --text-main: #3E2723;      /* æ·±è¤æ–‡å­— */
            --text-sub: #5D4037;
            
            /* ä»£ç é«˜äº® */
            --code-bg: #212121;
            --code-fg: #EEEEEE;
            --tok-def: #BA68C8;        /* def */
            --tok-func: #42A5F5;       /* å‡½æ•°å */
            --tok-var: #FFCA28;        /* å˜é‡ */
            --tok-prop: #66BB6A;       /* å±æ€§ */
            --tok-num: #FF7043;        /* æ•°å­— */
            --tok-str: #26A69A;        /* å­—ç¬¦ä¸² */
            --tok-cm: #90A4AE;         /* æ³¨é‡Š */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', 'Comic Sans MS', sans-serif;
            background-color: var(--bg-cave);
            /* å®è—èƒŒæ™¯ */
            background-image: 
                radial-gradient(#FFD54F 15%, transparent 16%),
                radial-gradient(#FFD54F 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
        }

        /* é—ªçƒæ˜Ÿæ˜ŸåŠ¨ç”» */
        @keyframes sparkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0.3; transform: scale(0.8); }
        }
        .sparkle {
            position: absolute; width: 5px; height: 5px; background: white; border-radius: 50%;
            box-shadow: 0 0 5px white; animation: sparkle 2s infinite;
        }

        /* --- 2. èˆå°å¸ƒå±€ --- */
        .stage {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 60px;
            width: 98vw;
            max-width: 1400px;
            position: relative;
            z-index: 10;
        }

        /* --- 3. å®çŸ³æŒ‰é’® (å¤–éƒ¨) --- */
        .nav-btn {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #81D4FA, #0288D1);
            border: 4px solid #B3E5FC;
            border-radius: 20px; /* å®çŸ³åˆ‡è§’ */
            transform: rotate(45deg);
            cursor: pointer;
            position: relative;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-btn span {
            transform: rotate(-45deg);
            font-size: 40px;
            color: white;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .nav-btn:hover { transform: rotate(45deg) scale(1.1); background: linear-gradient(135deg, #4FC3F7, #0277BD); }
        .nav-btn:active { transform: rotate(45deg) scale(0.95); box-shadow: 0 5px 10px rgba(0,0,0,0.5); }
        
        .btn-prev { background: linear-gradient(135deg, #FFCC80, #F57C00); border-color: #FFE0B2; }
        
        .disabled { opacity: 0.5; filter: grayscale(1); pointer-events: none; }

        /* --- 4. è—å®å›¾å®¹å™¨ --- */
        .map-container {
            width: 960px;
            height: 600px;
            background: #5D4037; /* çš®é©è‰² */
            border-radius: 30px;
            border: 15px solid #3E2723;
            box-shadow: 
                inset 0 0 50px rgba(0,0,0,0.5),
                0 30px 60px rgba(0,0,0,0.6);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* é‡‘å±è§’è£…é¥° */
        .corner {
            position: absolute; width: 60px; height: 60px;
            background: linear-gradient(135deg, #FFD700, #FFA000);
            border-radius: 5px;
            z-index: 20;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }
        .corner-tl { top: 0; left: 0; border-bottom-right-radius: 30px; }
        .corner-tr { top: 0; right: 0; border-bottom-left-radius: 30px; }
        .corner-bl { bottom: 0; left: 0; border-top-right-radius: 30px; }
        .corner-br { bottom: 0; right: 0; border-top-left-radius: 30px; }

        /* é¡¶éƒ¨æ ‡é¢˜åŒº */
        .map-header {
            height: 60px;
            background: #4E342E;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 80px; /* é¿å¼€è§’ */
            color: #FFD54F;
            font-family: monospace;
            font-weight: bold;
            font-size: 20px;
            border-bottom: 4px solid #3E2723;
            z-index: 10;
        }
        .map-title-tag { background: #3E2723; padding: 5px 15px; border-radius: 10px; border: 1px solid #FFD54F; }

        /* å¹»ç¯ç‰‡ (ç¾Šçš®çº¸) */
        .slide {
            display: none;
            flex: 1;
            padding: 50px 70px;
            flex-direction: column;
            animation: paperUnfold 0.6s ease-out;
            overflow-y: auto;
            background-color: var(--board-bg);
            /* çº¸å¼ çº¹ç† */
            background-image: url('data:image/svg+xml;utf8,<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.05"/></svg>');
        }
        .slide.active { display: flex; }

        @keyframes paperUnfold { 
            0% { opacity: 0; transform: scaleY(0.1); } 
            100% { opacity: 1; transform: scaleY(1); } 
        }

        /* å†…å®¹å¸ƒå±€ */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 3px dashed #8D6E63;
            padding-bottom: 10px;
        }
        .icon { font-size: 50px; margin-right: 20px; filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.2)); }
        h1 { margin: 0; color: #BF360C; font-size: 34px; letter-spacing: 1px; font-weight: 800; }

        .layout { display: flex; gap: 40px; height: 100%; }
        .col-text { flex: 1.1; font-size: 19px; line-height: 1.7; color: var(--text-main); }
        .col-visual { 
            flex: 0.9; 
            background: #FFF;
            border-radius: 15px; 
            border: 4px solid #8D6E63; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.1);
        }

        /* ä»£ç å— */
        .code-box {
            background: var(--code-bg);
            color: var(--code-fg);
            padding: 15px 20px;
            border-radius: 5px;
            font-family: 'Consolas', monospace;
            font-size: 17px;
            margin-top: 15px;
            border-left: 5px solid var(--gold);
            box-shadow: 3px 3px 10px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .k { color: var(--tok-def); font-weight: bold; } 
        .f { color: var(--tok-func); } 
        .v { color: var(--tok-var); } 
        .p { color: var(--tok-prop); } 
        .n { color: var(--tok-num); }
        .s { color: var(--tok-str); } 
        .c { color: var(--tok-cm); font-style: italic; font-size: 0.9em; } 

        /* å¡ç‰‡ */
        .card {
            background: #FFF3E0;
            border-left: 5px solid #FF6F00;
            color: #E65100;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 0 10px 10px 0;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* --- 5. è§†è§‰åŒ–ç»„ä»¶ --- */
        
        /* æ”¶é›†æ¼”ç¤ºåŠ¨ç”» */
        .collect-scene {
            width: 100%; height: 100%; position: relative;
            background: #4E342E;
        }
        .hero {
            font-size: 60px; position: absolute; bottom: 20px; left: 20px; transition: all 0.5s; z-index: 10;
        }
        .item {
            font-size: 40px; position: absolute; cursor: pointer; transition: transform 0.2s;
            animation: floatItem 2s infinite ease-in-out;
        }
        .item:hover { transform: scale(1.2); }
        
        @keyframes floatItem { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        /* UI é¢æ¿æ¨¡æ‹Ÿ */
        .ui-panel {
            position: absolute; top: 10px; left: 10px; right: 10px;
            background: rgba(0,0,0,0.6); padding: 5px 15px; border-radius: 10px;
            color: white; font-family: monospace; font-weight: bold; font-size: 18px;
            display: flex; justify-content: space-between;
        }
        .stat-val { color: var(--gold); }
        
        /* é£˜å­—åŠ¨ç”» */
        .float-text {
            position: absolute; font-weight: bold; color: var(--gold); font-size: 24px;
            animation: floatUp 1s forwards; pointer-events: none; z-index: 20;
        }
        @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-50px); opacity: 0; } }

        /* éª°å­éšæœºæ¼”ç¤º */
        .dice-box {
            display: flex; flex-direction: column; align-items: center; gap: 20px;
        }
        .dice {
            width: 80px; height: 80px; background: white; border-radius: 15px;
            display: flex; justify-content: center; align-items: center;
            font-size: 40px; border: 2px solid #333; box-shadow: 5px 5px 0 #ccc;
            font-weight: bold; color: #333;
        }
        .result-box {
            width: 200px; padding: 15px; text-align: center; border-radius: 10px;
            font-weight: bold; color: white; font-size: 20px;
            transition: all 0.3s; opacity: 0;
        }
        .btn-roll {
            padding: 10px 20px; background: var(--gold); border: none; border-radius: 50px;
            font-weight: bold; cursor: pointer; font-size: 18px; color: #3E2723;
            box-shadow: 0 4px 0 #FF8F00;
        }
        .btn-roll:active { transform: translateY(4px); box-shadow: none; }

        /* æµç¨‹å›¾èŠ‚ç‚¹ */
        .flow-node {
            padding: 8px 15px; border-radius: 20px; color: white; font-weight: bold; margin: 8px 0; text-align: center; width: 220px; position: relative; font-size: 16px;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }
        .bg-blue { background: #42A5F5; }
        .bg-orange { background: #FFA726; }
        .bg-green { background: #66BB6A; }
        .arrow-down { font-size: 20px; color: #BCAAA4; margin: 0; text-align: center; width: 100%; }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            height: 8px;
            background: #D7CCC8;
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--gem-red));
            width: 0%;
            transition: width 0.3s;
        }

        /* åŠ¨ç”» */
        @keyframes pop { 0% { transform: scale(0); } 80% { transform: scale(1.2); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

<div class="stage">
    <!-- å·¦æŒ‰é’® -->
    <button class="nav-btn btn-prev" id="btnPrev" onclick="moveSlide(-1)">
        <span>ğŸ’</span>
    </button>

    <!-- è—å®å›¾å®¹å™¨ -->
    <div class="map-container">
        <div class="corner corner-tl"></div>
        <div class="corner corner-tr"></div>
        <div class="corner corner-bl"></div>
        <div class="corner corner-br"></div>
        
        <div class="map-header">
            <div class="map-title-tag">ğŸ—ºï¸ æ¸¸æˆå¼€å‘ 2</div>
            <div>ç¬¬ 15-16 å…³</div>
        </div>

        <!-- Slide 1: å°é¢ -->
        <div class="slide active" style="justify-content: center; align-items: center; text-align: center;">
            <div style="font-size: 100px; margin-bottom: 20px; animation: floatItem 3s infinite;">ğŸ’°</div>
            <h1 style="font-size: 50px; margin: 10px 0; color: #3E2723;">æ¸¸æˆäº‹ä»¶ï¼šCollect</h1>
            <h2 style="font-size: 26px; color: #E65100; font-weight: bold; margin-top: 0;">æ”¶é›†å®è—çš„é­”æ³•</h2>
            <div style="margin-top: 40px; display: flex; gap: 30px;">
                <div style="padding: 15px 30px; background: #FFECB3; color: #F57F17; border: 2px dashed #F57F17; border-radius: 10px; font-weight: bold; font-size: 20px;">âœ¨ ç‰©å“ä»·å€¼</div>
                <div style="padding: 15px 30px; background: #B2DFDB; color: #00695C; border: 2px solid #00695C; border-radius: 10px; font-weight: bold; font-size: 20px;">ğŸ² éšæœºæ‰è½</div>
            </div>
        </div>

        <!-- Slide 2: ä»€ä¹ˆæ˜¯ collect -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’</div>
                <h1>ä»€ä¹ˆæ˜¯ "collect" äº‹ä»¶ï¼Ÿ</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>å½“ç©å®¶<b>â€œè¸©åˆ°â€</b>ä¸€ä¸ªç‰©å“ï¼ˆé‡‘å¸ã€å®çŸ³ã€è¯æ°´ï¼‰æ—¶ï¼Œå°±ä¼šè§¦å‘ <b>collect</b> äº‹ä»¶ã€‚</p>
                    <p>æ¸¸æˆä¼šå–Šï¼šâ€œå®ï¼æ¡åˆ°å®å•¦ï¼â€</p>
                    <div class="card">
                        <b>ä¸»è§’ä»‹ç»ï¼š</b><br>
                        ğŸ¤  <b>collector</b> (event.target): è°æ¡çš„ï¼Ÿ<br>
                        ğŸ’ <b>item</b> (event.other): æ¡äº†å•¥ï¼Ÿ
                    </div>
                </div>
                <div class="col-visual">
                    <div style="font-size: 60px; display: flex; gap: 20px; align-items: center;">
                        <div style="text-align:center;">ğŸ¤ <br><span style="font-size:14px; color:#555;">target</span></div>
                        <div>â¡ï¸</div>
                        <div style="text-align:center;">ğŸ’<br><span style="font-size:14px; color:#555;">other</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: onCollect å‡½æ•° -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“œ</div>
                <h1>onCollectï¼šå¤„ç†å‡½æ•°</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æˆ‘ä»¬è¦å†™ä¸€ä¸ªå‡½æ•°æ¥å¤„ç†â€œæ¡åˆ°ä¸œè¥¿â€è¿™ä»¶äº‹ã€‚</p>
                    <div class="code-box">
                        <span class="k">def</span> <span class="f">onCollect</span>(event):<br>
                        &nbsp;&nbsp;<span class="c"># èµ·ä¸ªå¥½åå­—</span><br>
                        &nbsp;&nbsp;<span class="v">collector</span> = event.<span class="p">target</span><br>
                        &nbsp;&nbsp;<span class="v">item</span> = event.<span class="p">other</span><br>
                        <br>
                        &nbsp;&nbsp;<span class="c"># åŠ åˆ†åŠ è¡€...</span>
                    </div>
                    <p style="margin-top: 10px;">æŠŠç”Ÿç¡¬çš„ä»£ç åå­—ï¼Œå˜æˆå¥½æ‡‚çš„â€œæ”¶é›†è€…â€å’Œâ€œç‰©å“â€ã€‚</p>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div class="flow-node bg-blue">äº‹ä»¶è§¦å‘ (ding!)</div>
                        <div class="arrow-down">â¬‡ï¸</div>
                        <div class="flow-node bg-orange">onCollect(event)</div>
                        <div class="arrow-down">â¬‡ï¸</div>
                        <div class="flow-node bg-green">è°? (collector)<br>å•¥? (item)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: ç‰©å“ä»·å€¼ item.value -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’²</div>
                <h1>item.valueï¼šç‰©å“çš„ä»·å€¼</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä¸åŒå®ç‰©å€¼ä¸åŒçš„é’±ï¼š</p>
                    <ul style="list-style: none; padding: 0; color: #5D4037;">
                        <li>ğŸŸ¤ é“œå¸ (Bronze) = å°</li>
                        <li>ğŸŸ¡ é‡‘å¸ (Gold) = ä¸­</li>
                        <li>ğŸ’ å®çŸ³ (Gem) = å¤§</li>
                    </ul>
                    <div class="code-box">
                        <span class="k">if</span> <span class="v">item</span>.<span class="p">value</span>:<br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="p">score</span> += <span class="v">item</span>.<span class="p">value</span><br>
                        &nbsp;&nbsp;<span class="v">collector</span>.<span class="p">health</span> += <span class="v">item</span>.<span class="p">value</span>
                    </div>
                    <p><b>+=</b>ï¼šåœ¨åŸæ¥åŸºç¡€ä¸Šå¢åŠ ã€‚æ¡å¤šå°‘ï¼ŒåŠ å¤šå°‘ï¼</p>
                </div>
                <div class="col-visual">
                    <div class="collect-scene" id="valueDemo">
                        <div class="ui-panel">
                            <div>â¤ï¸ <span id="hpVal" class="stat-val">100</span></div>
                            <div>ğŸ† <span id="scoreVal" class="stat-val">0</span></div>
                        </div>
                        <div class="hero" style="left: 20px;">ğŸ¤ </div>
                        
                        <!-- ç‚¹å‡»äº’åŠ¨çš„å®ç‰© -->
                        <div class="item" onclick="collectItem(this, 10)" style="top: 60%; left: 40%;">ğŸŸ¤<br><span style="font-size:12px; color:#fff;">10</span></div>
                        <div class="item" onclick="collectItem(this, 20)" style="top: 40%; left: 60%;">ğŸŸ¡<br><span style="font-size:12px; color:#fff;">20</span></div>
                        <div class="item" onclick="collectItem(this, 50)" style="top: 70%; left: 80%;">ğŸ’<br><span style="font-size:12px; color:#fff;">50</span></div>
                    </div>
                    <script>
                        let hp = 100;
                        let score = 0;
                        function collectItem(el, val) {
                            if(el.style.opacity === '0') return;
                            
                            // æ›´æ–°æ•°æ®
                            hp += val;
                            score += val;
                            document.getElementById('hpVal').innerText = hp;
                            document.getElementById('scoreVal').innerText = score;
                            
                            // åŠ¨ç”»
                            el.style.transition = 'all 0.2s';
                            el.style.transform = 'scale(1.5)';
                            el.style.opacity = '0';
                            
                            // é£˜å­—
                            const floatText = document.createElement('div');
                            floatText.className = 'float-text';
                            floatText.innerText = '+' + val;
                            floatText.style.left = el.style.left;
                            floatText.style.top = el.style.top;
                            el.parentNode.appendChild(floatText);
                            setTimeout(() => floatText.remove(), 1000);

                            // é‡ç½®
                            setTimeout(() => {
                                el.style.transform = 'scale(1)';
                                el.style.opacity = '1';
                            }, 2000);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 5: ç»‘å®šäº‹ä»¶ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ”—</div>
                <h1>ç»‘å®šäº‹ä»¶ï¼šplayer.on</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>åˆ«å¿˜äº†å‘Šè¯‰ä¸»è§’è¿™æ¡è§„çŸ©ï¼</p>
                    <div class="code-box">
                        <span class="o">player</span>.<span class="f">on</span>(<span class="s">"collect"</span>, onCollect)
                    </div>
                    <p style="margin-top: 20px;">
                        å«ä¹‰ï¼š<br>
                        "å˜¿ playerï¼Œæ¯å½“ä½ æ¡åˆ°ä¸œè¥¿ (collect)ï¼Œå°±å»æ‰§è¡Œ onCollect å‡½æ•°ï¼Œç»™ä½ åŠ åˆ†ï¼"
                    </div>
                <div class="col-visual">
                    <div style="font-size: 80px;">ğŸ¤</div>
                    <div style="position: absolute; bottom: 20px; font-weight: bold; color: #5D4037;">è¾¾æˆåè®®</div>
                </div>
            </div>
        </div>

        <!-- Slide 6: éšæœºç”Ÿæˆå®ç‰© -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ²</div>
                <h1>å®ç‰©ä»å“ªæ¥ï¼Ÿéšæœºæ•°!</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ç”¨éª°å­å†³å®šç”Ÿæˆä»€ä¹ˆï¼š</p>
                    <div class="code-box">
                        <span class="v">n</span> = <span class="v">game</span>.<span class="f">randomInteger</span>(<span class="n">1</span>, <span class="n">3</span>)<br>
                        <span class="k">if</span> <span class="v">n</span> == <span class="n">1</span>:<br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"bronze-coin"</span>, ...)<br>
                        <span class="k">elif</span> <span class="v">n</span> == <span class="n">2</span>:<br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"gold-coin"</span>, ...)<br>
                        <span class="k">else</span>:<br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"gem"</span>, ...)
                    </div>
                </div>
                <div class="col-visual">
                    <div class="dice-box">
                        <div class="dice" id="diceVal">?</div>
                        <div class="result-box" id="resBox">ç‚¹å‡»ç”Ÿæˆ</div>
                        <button class="btn-roll" onclick="rollDice()">æ·éª°å­ (1-3)</button>
                    </div>
                    <script>
                        function rollDice() {
                            const d = document.getElementById('diceVal');
                            const r = document.getElementById('resBox');
                            
                            // åŠ¨ç”»æ•ˆæœ
                            let count = 0;
                            let interval = setInterval(() => {
                                d.innerText = Math.floor(Math.random() * 3) + 1;
                                count++;
                                if(count > 10) {
                                    clearInterval(interval);
                                    const val = Math.floor(Math.random() * 3) + 1;
                                    d.innerText = val;
                                    r.style.opacity = 1;
                                    if(val === 1) {
                                        r.innerText = "ğŸŸ¤ é“œå¸"; r.style.background = "#8D6E63";
                                    } else if(val === 2) {
                                        r.innerText = "ğŸŸ¡ é‡‘å¸"; r.style.background = "#FFC107";
                                    } else {
                                        r.innerText = "ğŸ’ å®çŸ³"; r.style.background = "#29B6F6";
                                    }
                                }
                            }, 50);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 7: éšæœºä½ç½® -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“</div>
                <h1>éšæœºä½ç½® (Coordinate)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä¸ä»…ç§ç±»éšæœºï¼Œåœ°ç‚¹ä¹Ÿéšæœºï¼</p>
                    <div class="code-box">
                        <span class="v">x</span> = <span class="v">game</span>.<span class="f">randomInteger</span>(<span class="n">12</span>, <span class="n">68</span>)<br>
                        <span class="v">y</span> = <span class="v">game</span>.<span class="f">randomInteger</span>(<span class="n">12</span>, <span class="n">56</span>)<br>
                        <span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"gem"</span>, <span class="v">x</span>, <span class="v">y</span>)
                    </div>
                    <div class="card" style="margin-top: 15px;">
                        æ•°å­¦åæ ‡ + éšæœºæ•° = <br>
                        <b>æ»¡å±æƒŠå–œï¼</b>
                    </div>
                </div>
                <div class="col-visual">
                    <div style="width: 100%; height: 100%; position: relative; background: #333;">
                        <!-- ç½‘æ ¼ -->
                        <div style="position: absolute; width: 100%; height: 1px; top: 20%; background: rgba(255,255,255,0.2);"></div>
                        <div style="position: absolute; width: 100%; height: 1px; top: 50%; background: rgba(255,255,255,0.2);"></div>
                        <div style="position: absolute; width: 100%; height: 1px; top: 80%; background: rgba(255,255,255,0.2);"></div>
                        <div style="position: absolute; height: 100%; width: 1px; left: 20%; background: rgba(255,255,255,0.2);"></div>
                        <div style="position: absolute; height: 100%; width: 1px; left: 50%; background: rgba(255,255,255,0.2);"></div>
                        <div style="position: absolute; height: 100%; width: 1px; left: 80%; background: rgba(255,255,255,0.2);"></div>
                        
                        <!-- éšæœºç‚¹ -->
                        <div style="position: absolute; top: 30%; left: 25%; font-size: 30px;">ğŸ’</div>
                        <div style="position: absolute; top: 60%; left: 70%; font-size: 30px;">ğŸŸ¡</div>
                        <div style="position: absolute; top: 80%; left: 40%; font-size: 30px;">ğŸŸ¤</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: é€šå…³æ£€æŸ¥ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ†</div>
                <h1>èƒœåˆ©æ¡ä»¶ï¼šæ£€æŸ¥åˆ†æ•°</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æ¯ä¸€å¸§éƒ½è¦æ£€æŸ¥ï¼šåˆ†å¤Ÿäº†å—ï¼Ÿ</p>
                    <div class="code-box">
                        <span class="v">requiredScore</span> = <span class="n">220</span><br>
                        <br>
                        <span class="k">def</span> <span class="f">checkGoals</span>():<br>
                        &nbsp;&nbsp;<span class="k">if</span> <span class="v">game</span>.<span class="p">score</span> >= <span class="v">requiredScore</span>:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">goldGoal</span>, <span class="k">True</span>)
                    </div>
                    <p style="margin-top: 15px;">
                        æ¡ä¸œè¥¿ -> <b>collect</b> è§¦å‘ -> åˆ†æ•° <b>+=</b> -> <b>check</b> æ£€æŸ¥ -> <b>True</b> èƒœåˆ©ï¼
                    </p>
                </div>
                <div class="col-visual">
                    <div style="text-align: center;">
                        <div style="font-size: 40px; margin-bottom: 10px;">ğŸ“Š</div>
                        <div style="font-size: 24px; font-weight: bold; color: #2E7D32;">220 / 220</div>
                        <div style="font-size: 60px; margin-top: 10px;">âœ…</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: æ€»ç»“ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“</div>
                <h1>å¯»å®å£è¯€</h1>
            </div>
            <div class="layout">
                <div class="col-text" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                    <div class="card" style="background: #E0F7FA; border-color: #006064; color: #006064;">
                        "target æ¡äº† otherï¼Œ<br>
                        æœ‰ value æ‰åŠ åˆ†ï¼"
                    </div>
                    <div class="card" style="background: #FFF8E1; border-color: #FF6F00; color: #E65100; margin-top: 20px;">
                        "ç»™ä¸»è§’ç»‘ä¸Š onCollectï¼Œ<br>
                        åˆ†æ•°åˆ°äº†å°±é€šå…³ï¼"
                    </div>
                </div>
                <div class="col-visual" style="border: none; background: transparent; box-shadow: none;">
                    <div style="font-size: 120px; animation: floatItem 3s infinite;">ğŸ…</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨è¿›åº¦æ¡ -->
        <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

    </div>

    <!-- å³æŒ‰é’® -->
    <button class="nav-btn" id="btnNext" onclick="moveSlide(1)">
        <span>ğŸ’</span>
    </button>

</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const progressBar = document.getElementById('progressBar');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    function updateUI() {
        slides.forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });

        btnPrev.classList.toggle('disabled', currentSlide === 0);
        btnNext.classList.toggle('disabled', currentSlide === totalSlides - 1);

        const percentage = ((currentSlide + 1) / totalSlides) * 100;
        progressBar.style.width = `${percentage}%`;
    }

    function moveSlide(dir) {
        const nextIndex = currentSlide + dir;
        if (nextIndex >= 0 && nextIndex < totalSlides) {
            currentSlide = nextIndex;
            updateUI();
        }
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') moveSlide(-1);
        if (e.key === 'ArrowRight') moveSlide(1);
    });

    updateUI();
</script>

</body>
</html>