<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’£ å˜èº«æ‰«é›·å°èƒ½æ‰‹ï¼| è¶£å‘³ç®—æ³•æŒ‘æˆ˜</title>
    <style>
        :root {
            --primary-primary: #FF6B6B;
            --primary-secondary: #4ECDC4;
            --bg-color: #F7FFF7;
            --card-bg: #FFFFFF;
            --text-main: #2F2F2F;
            --accent-yellow: #FFE66D;
            --code-bg: #282C34;
        }

        body {
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* æ ‡é¢˜æ ·å¼ */
        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--primary-primary), var(--primary-secondary));
            border-radius: 20px;
            color: white;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .subtitle { font-size: 1.2em; opacity: 0.9; }

        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 15px rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: transform 0.3s;
        }

        .card:hover { transform: translateY(-5px); }
        .card-title {
            display: flex;
            align-items: center;
            font-size: 1.5em;
            color: var(--primary-primary);
            margin-bottom: 15px;
            font-weight: bold;
        }

        .card-title::before {
            content: 'ğŸŒŸ';
            margin-right: 10px;
        }

        /* æ­¥éª¤ç›’å­ */
        .step-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .step-item {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 12px;
            border-left: 5px solid var(--primary-secondary);
        }

        /* æ ·ä¾‹å±•ç¤º */
        .example-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background: #fff9db;
            padding: 15px;
            border-radius: 12px;
        }

        pre.code-text {
            background: #333;
            color: #fff;
            padding: 10px;
            border-radius: 8px;
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
        }

        /* æ ‡ç­¾é¡µåˆ‡æ¢ */
        .tab-wrapper {
            margin-top: 20px;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: -2px;
        }

        .tab-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            background: #ddd;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: var(--code-bg);
            color: #61dafb;
        }

        .code-container {
            background: var(--code-bg);
            border-radius: 0 15px 15px 15px;
            padding: 20px;
            overflow-x: auto;
        }

        /* è¯­æ³•é«˜äº®ï¼ˆé€‚åˆå°æœ‹å‹çš„é²œè‰³è‰²ï¼‰ */
        .code-content { color: #abb2bf; font-family: 'Consolas', monospace; }
        .c-keyword { color: #c678dd; } /* ç´«è‰² */
        .c-func { color: #61afef; }    /* è“è‰² */
        .c-string { color: #98c379; }  /* ç»¿è‰² */
        .c-comment { color: #5c6370; font-style: italic; } /* ç°è‰² */
        .c-num { color: #d19a66; }     /* æ©™è‰² */
        .c-op { color: #56b6c2; }      /* é’è‰² */

        /* è§£é‡Šæ–‡å­— */
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 10px;
            font-size: 0.95em;
        }

        /* é¡µè„š */
        footer {
            text-align: center;
            padding: 40px;
            color: #888;
            font-size: 1.1em;
        }

        @media (max-width: 600px) {
            .example-box { grid-template-columns: 1fr; }
            h1 { font-size: 1.8em; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ’£ å˜èº«æ‰«é›·å°èƒ½æ‰‹ï¼</h1>
        <p class="subtitle">å­¦ä¼šç”¨è®¡ç®—æœºçš„çœ¼ç›è§‚å¯Ÿåœ°é›·å›¾</p>
    </header>

    <div class="card" style="border-color: var(--accent-yellow);">
        <div class="card-title">æˆ‘ä»¬è¦å®Œæˆä»€ä¹ˆä»»åŠ¡ï¼Ÿ</div>
        <p>å˜¿ï¼å°ä¼™ä¼´ä»¬ï¼Œä½ ä»¬ç©è¿‡æ‰«é›·å—ï¼Ÿæˆ‘ä»¬è¦å†™ä¸€ä¸ªå°ç¨‹åºï¼ŒæŠŠä¸€ä¸ªæ»¡æ˜¯ <code>?</code>ï¼ˆç¥ç§˜åŒºåŸŸï¼‰å’Œ <code>*</code>ï¼ˆå±é™©åœ°é›·ï¼‰çš„åœ°å›¾ï¼Œå˜æˆä¸€å¼ æ ‡æ»¡æ•°å­—çš„å®‰å…¨åœ°å›¾ï¼</p>
        <p><strong>è§„åˆ™å¾ˆç®€å•ï¼š</strong> æ¯ä¸€ä¸ª <code>?</code> éƒ½è¦å˜æˆå®ƒå‘¨å›´ <strong>8ä¸ªæ ¼å­</strong> é‡Œåœ°é›·çš„æ€»æ•°ã€‚å¦‚æœæ˜¯åœ°é›·æœ¬èº«ï¼Œå°±ä¿æŒ <code>*</code> ä¸å˜ã€‚</p>
    </div>

    <div class="card">
        <div class="card-title">ä¾¦æ¢ç ´è§£æ€è·¯</div>
        <div class="step-container">
            <div class="step-item">
                <strong>ç¬¬ä¸€æ­¥ï¼šçœ‹æ¸…åœ°å›¾ (è¯»å–)</strong><br>
                å…ˆæŠŠæ•´ä¸ªåœ°å›¾å­˜è¿›ç”µè„‘çš„â€œå°æ–¹æ ¼é˜µâ€ï¼ˆäºŒç»´æ•°ç»„ï¼‰é‡Œã€‚
            </div>
            <div class="step-item">
                <strong>ç¬¬äºŒæ­¥ï¼šæŒ¨ä¸ªæ£€æŸ¥ (éå†)</strong><br>
                åƒå·¡é€»å…µä¸€æ ·ï¼Œä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹æ£€æŸ¥æ¯ä¸€ä¸ªæ ¼å­ã€‚
            </div>
            <div class="step-item">
                <strong>ç¬¬ä¸‰æ­¥ï¼šæ•°æ•°å°èƒ½æ‰‹ (ç»Ÿè®¡)</strong><br>
                å¦‚æœä½ ç«™åœ¨ä¸€ä¸ª <code>?</code> æ ¼å­ä¸Šï¼Œå°±çœ‹çœ‹ä½ å‘¨å›´çš„ 8 ä¸ªé‚»å±…ã€‚æ•°ä¸€æ•°é‚»å±…é‡Œæœ‰å‡ ä¸ª <code>*</code>ã€‚
            </div>
            <div class="step-item">
                <strong>ç¬¬å››æ­¥ï¼šå®‰å…¨é˜²çº¿ (è¾¹ç•Œ)</strong><br>
                æ³¨æ„å“¦ï¼å¦‚æœä½ åœ¨åœ°å›¾è¾¹ç¼˜ï¼Œé‚»å±…å¯èƒ½ä¼šå°‘ä¸€äº›ï¼Œåƒä¸‡åˆ«æ•°åˆ°åœ°å›¾å¤–é¢å»å•¦ï¼
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-title">å®æˆ˜æ¼”ç»ƒï¼ˆæ ·ä¾‹æ‹†è§£ï¼‰</div>
        
        <h3>ğŸŒˆ æ ·ä¾‹ 1ï¼š3x3 å°è¯•ç‰›åˆ€</h3>
        <div class="example-box">
            <div><strong>è¾“å…¥å›¾ï¼š</strong><pre class="code-text">*??<br>???<br>?*?</pre></div>
            <div><strong>ç”Ÿæˆå›¾ï¼š</strong><pre class="code-text">*10<br>221<br>1*1</pre></div>
        </div>
        <p>ğŸ’¡ <strong>è¯¦è§£ï¼š</strong> ä¸­å¿ƒä½ç½® (1,1) çš„å‘¨å›´æœ‰å·¦ä¸Šè§’ (0,0) å’Œæ­£ä¸‹æ–¹ (2,1) ä¸¤ä¸ªé›·ï¼Œæ‰€ä»¥å®ƒå˜æˆäº† <strong>2</strong>ï¼</p>

        <hr style="border: 1px dashed #ddd; margin: 20px 0;">

        <h3>ğŸŒˆ æ ·ä¾‹ 2ï¼š4x4 è¿›é˜¶æŒ‘æˆ˜</h3>
        <div class="example-box">
            <div><strong>è¾“å…¥å›¾ï¼š</strong><pre class="code-text">?*??<br>*???<br>??*?<br>????</pre></div>
            <div><strong>ç”Ÿæˆå›¾ï¼š</strong><pre class="code-text">2*10<br>*321<br>12*1<br>0111</pre></div>
        </div>
        <p>ğŸ’¡ <strong>è¯¦è§£ï¼š</strong> ç¬¬ä¸€è¡Œç¬¬ä¸€ä¸ªæ ¼å­å‘¨å›´åªæœ‰ä¸€ä¸ªåœ°é›·ï¼ˆåœ¨å®ƒä¸‹é¢ï¼‰ï¼Œæ‰€ä»¥æ˜¾ç¤º <strong>2</strong>ï¼ˆå…¶å®æ˜¯ç¨‹åºæ£€æŸ¥äº†å‘¨å›´æ‰€æœ‰æœ‰æ•ˆæ ¼å­åçš„ç»“æœï¼‰ã€‚</p>

        <hr style="border: 1px dashed #ddd; margin: 20px 0;">

        <h3>ğŸŒˆ æ ·ä¾‹ 3ï¼šå…¨å‘˜å®‰å…¨</h3>
        <div class="example-box">
            <div><strong>è¾“å…¥å›¾ï¼š</strong><pre class="code-text">??<br>??</pre></div>
            <div><strong>ç”Ÿæˆå›¾ï¼š</strong><pre class="code-text">00<br>00</pre></div>
        </div>
        <p>ğŸ’¡ <strong>è¯¦è§£ï¼š</strong> åœ°å›¾é‡Œä¸€ä¸ªé›·éƒ½æ²¡æœ‰ï¼Œå¤§å®¶éƒ½æ ‡ä¸Š <strong>0</strong>ï¼ŒçœŸæ˜¯å¤ªå®‰å…¨å•¦ï¼</p>
    </div>

    <div class="card">
        <div class="card-title">é­”æ³•å’’è¯­ï¼ˆç¨‹åºä»£ç ï¼‰</div>
        <div class="tab-wrapper">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('cpp')">C++ å’’è¯­</button>
                <button class="tab-btn" onclick="switchTab('py')">Python å’’è¯­</button>
            </div>

            <div id="cpp-tab" class="code-container">
                <pre class="code-content">
<span class="c-keyword">#include</span> <span class="c-string">&lt;iostream&gt;</span>
<span class="c-keyword">using namespace</span> std;

<span class="c-keyword">char</span> mp[<span class="c-num">105</span>][<span class="c-num">105</span>]; <span class="c-comment">// åœ°å›¾å£è¢‹</span>
<span class="c-keyword">int</span> dx[] = {<span class="c-num">-1</span>, <span class="c-num">-1</span>, <span class="c-num">-1</span>, <span class="c-num">0</span>, <span class="c-num">0</span>, <span class="c-num">1</span>, <span class="c-num">1</span>, <span class="c-num">1</span>}; <span class="c-comment">// 8ä¸ªæ–¹å‘çš„å°é›·è¾¾</span>
<span class="c-keyword">int</span> dy[] = {<span class="c-num">-1</span>, <span class="c-num">0</span>, <span class="c-num">1</span>, <span class="c-num">-1</span>, <span class="c-num">1</span>, <span class="c-num">-1</span>, <span class="c-num">0</span>, <span class="c-num">1</span>};

<span class="c-keyword">int</span> <span class="c-func">main</span>() {
    <span class="c-keyword">int</span> n, m;
    cin >> n >> m; <span class="c-comment">// å‘Šè¯‰ç”µè„‘åœ°å›¾æœ‰å¤šå¤§</span>

    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-num">1</span>; i <= n; i++)
        <span class="c-keyword">for</span> (<span class="c-keyword">int</span> j = <span class="c-num">1</span>; j <= m; j++)
            cin >> mp[i][j]; <span class="c-comment">// æŠŠåœ°å›¾ç”»è¿›æ•°ç»„é‡Œ</span>

    <span class="c-keyword">for</span> (<span class="c-keyword">int</span> i = <span class="c-num">1</span>; i <= n; i++) {
        <span class="c-keyword">for</span> (<span class="c-keyword">int</span> j = <span class="c-num">1</span>; j <= m; j++) {
            <span class="c-keyword">if</span> (mp[i][j] == <span class="c-string">'*'</span>) cout << <span class="c-string">'*'</span>; <span class="c-comment">// çœ‹åˆ°é›·ç›´æ¥è¾“å‡º</span>
            <span class="c-keyword">else</span> {
                <span class="c-keyword">int</span> cnt = <span class="c-num">0</span>;
                <span class="c-keyword">for</span> (<span class="c-keyword">int</span> k = <span class="c-num">0</span>; k < <span class="c-num">8</span>; k++) {
                    <span class="c-keyword">int</span> ni = i + dx[k], nj = j + dy[k];
                    <span class="c-comment">// æ£€æŸ¥è¿™ä¸ªé‚»å±…æ˜¯ä¸æ˜¯åœ¨åœ°å›¾é‡Œï¼Œè€Œä¸”æ˜¯ä¸æ˜¯åœ°é›·</span>
                    <span class="c-keyword">if</span> (ni >= <span class="c-num">1</span> && ni <= n && nj >= <span class="c-num">1</span> && nj <= m) {
                        <span class="c-keyword">if</span> (mp[ni][nj] == <span class="c-string">'*'</span>) cnt++;
                    }
                }
                cout << cnt; <span class="c-comment">// è¾“å‡ºæ•°å‡ºæ¥çš„é›·æ•°</span>
            }
        }
        cout << endl; <span class="c-comment">// æ¢ä¸€è¡Œç»§ç»­</span>
    }
    <span class="c-keyword">return</span> <span class="c-num">0</span>;
}</pre>
                <div class="explanation">
                    <strong>ğŸ’¡ C++ ä»£ç ç§˜ç±ï¼š</strong>
                    æˆ‘ä»¬ç”¨äº† <code>dx</code> å’Œ <code>dy</code> è¿™ä¸¤ä¸ªâ€œæ–¹å‘æ•°ç»„â€ï¼Œå®ƒä»¬å°±åƒé›·è¾¾ä¸€æ ·ï¼Œèƒ½å¸®æˆ‘ä»¬å¿«é€Ÿå®šä½å‘¨å›´ 8 ä¸ªå°ä¼™ä¼´çš„åæ ‡ï¼Œæ—¢çœæ—¶åˆä¸å®¹æ˜“å‡ºé”™ï¼
                </div>
            </div>

            <div id="py-tab" class="code-container" style="display:none;">
                <pre class="code-content">
<span class="c-comment"># 1. è¯»å–åœ°å›¾å¤§å°</span>
n, m = <span class="c-func">map</span>(<span class="c-func">int</span>, <span class="c-func">input</span>().split())

<span class="c-comment"># 2. æŠŠåœ°å›¾å­˜è¿›åˆ—è¡¨é‡Œ</span>
grid = []
<span class="c-keyword">for</span> _ <span class="c-keyword">in</span> <span class="c-func">range</span>(n):
    grid.<span class="c-func">append</span>(<span class="c-func">list</span>(<span class="c-func">input</span>().strip()))

<span class="c-comment"># 3. å‡†å¤‡å¥½8ä¸ªæ¢æµ‹æ–¹å‘</span>
directions = [
    (<span class="c-num">-1</span>, <span class="c-num">-1</span>), (<span class="c-num">-1</span>, <span class="c-num">0</span>), (<span class="c-num">-1</span>, <span class="c-num">1</span>),
    (<span class="c-num">0</span>, <span class="c-num">-1</span>),           (<span class="c-num">0</span>, <span class="c-num">1</span>),
    (<span class="c-num">1</span>, <span class="c-num">-1</span>),  (<span class="c-num">1</span>, <span class="c-num">0</span>),  (<span class="c-num">1</span>, <span class="c-num">1</span>)
]

<span class="c-comment"># 4. å¼€å¯å·¡é€»æ¨¡å¼</span>
<span class="c-keyword">for</span> i <span class="c-keyword">in</span> <span class="c-func">range</span>(n):
    <span class="c-keyword">for</span> j <span class="c-keyword">in</span> <span class="c-func">range</span>(m):
        <span class="c-keyword">if</span> grid[i][j] == <span class="c-string">'*'</span>:
            <span class="c-func">print</span>(<span class="c-string">'*'</span>, end=<span class="c-string">''</span>)
        <span class="c-keyword">else</span>:
            cnt = <span class="c-num">0</span>
            <span class="c-keyword">for</span> dx, dy <span class="c-keyword">in</span> directions:
                ni, nj = i + dx, j + dy
                <span class="c-comment"># ç¡®ä¿æ¢æµ‹çš„åœ°æ–¹æ²¡å‡ºç•Œ</span>
                <span class="c-keyword">if</span> <span class="c-num">0</span> <= ni < n <span class="c-keyword">and</span> <span class="c-num">0</span> <= nj < m:
                    <span class="c-keyword">if</span> grid[ni][nj] == <span class="c-string">'*'</span>:
                        cnt += <span class="c-num">1</span>
            <span class="c-func">print</span>(cnt, end=<span class="c-string">''</span>)
    <span class="c-func">print</span>() <span class="c-comment"># æ¯ä¸€è¡Œç”»å®Œè®°å¾—æ·±å‘¼å¸ï¼ˆæ¢è¡Œï¼‰</span></pre>
                <div class="explanation">
                    <strong>ğŸ’¡ Python ä»£ç ç§˜ç±ï¼š</strong>
                    Python çš„ <code>if 0 <= ni < n</code> è¿™ç§å†™æ³•è¶…çº§é…·ï¼Œå°±åƒè¯´è‹±è¯­ä¸€æ ·è‡ªç„¶ã€‚æˆ‘ä»¬ç”¨ <code>print(..., end='')</code> ä¿è¯æ•°å­—èƒ½æ’æˆæ•´é½çš„ä¸€è¡Œã€‚
                </div>
            </div>
        </div>
    </div>

    <div class="card" style="background: var(--primary-secondary); color: white; text-align: center;">
        <h2 style="margin: 0;">ğŸ‰ å¤ªæ£’äº†ï¼ä½ å·²ç»æŒæ¡äº†æ‰«é›·åœ°å›¾çš„ç§˜å¯†ï¼</h2>
        <p>ç¼–ç¨‹å°±åƒæ­ç§¯æœ¨ï¼Œåªè¦é€»è¾‘é€šé¡ºï¼Œä½ å°±èƒ½åˆ›é€ å‡ºå±äºè‡ªå·±çš„å¥‡å¦™ä¸–ç•Œï¼åŠ æ²¹ï¼Œæœªæ¥çš„å·¥ç¨‹å¸ˆï¼</p>
    </div>

    <footer>
        æ·»åŠ æ¥è‡ªæ‰£å“’ä¸–ç•Œæ•™ç ”å›¢é˜Ÿ
    </footer>
</div>

<script>
    function switchTab(lang) {
        const cppTab = document.getElementById('cpp-tab');
        const pyTab = document.getElementById('py-tab');
        const btns = document.querySelectorAll('.tab-btn');

        if (lang === 'cpp') {
            cppTab.style.display = 'block';
            pyTab.style.display = 'none';
            btns[0].classList.add('active');
            btns[1].classList.remove('active');
        } else {
            cppTab.style.display = 'none';
            pyTab.style.display = 'block';
            btns[0].classList.remove('active');
            btns[1].classList.add('active');
        }
    }
</script>

</body>
</html>