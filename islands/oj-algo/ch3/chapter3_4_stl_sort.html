<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.5 æ’åºç¥å™¨ - C++ sort ä¸ Python sort</title>
    <style>
        /* ================= æ ¸å¿ƒé£æ ¼ï¼šè¶…çº§å·¥å…·ç®± ================= */
        :root {
            --cpp-blue: #1976d2;     /* C++ è“ */
            --py-yellow: #ffc107;    /* Python é»„ */
            --py-blue: #306998;      /* Python è“ */
            --tool-dark: #37474f;    /* å·¥å…·ç° */
            --bg-color: #f5f7fa;     /* ç§‘æŠ€ç™½ */
            --code-bg: #282c34;
            --text-main: #2c3e50;
        }

        body {
            font-family: "Verdana", "YouYuan", "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(90deg, rgba(200,200,200,0.1) 1px, transparent 1px),
                linear-gradient(rgba(200,200,200,0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            color: var(--text-main);
            margin: 0;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            border-top: 10px solid var(--cpp-blue);
        }

        /* ================= æ ‡é¢˜ä¸æ’ç‰ˆ ================= */
        h1 {
            text-align: center;
            color: var(--tool-dark);
            font-size: 3.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 #cfd8dc;
        }

        .subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #78909c;
            margin-bottom: 40px;
            font-weight: bold;
        }

        h2 {
            display: inline-block;
            margin-top: 50px;
            margin-bottom: 25px;
            font-size: 1.8em;
            padding: 10px 30px;
            border-radius: 50px;
            color: white;
            box-shadow: 3px 3px 10px rgba(0,0,0,0.2);
        }

        .h2-cpp { background: var(--cpp-blue); }
        .h2-py { background: linear-gradient(135deg, var(--py-blue), var(--py-yellow)); }
        .h2-pk { background: #e91e63; }

        p { font-size: 1.15em; margin-bottom: 20px; }

        /* ================= é‡ç‚¹å¼ºè°ƒ ================= */
        .highlight {
            font-weight: bold;
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            border-bottom: 2px solid var(--cpp-blue);
            color: var(--tool-dark);
        }
        
        .highlight-py {
            background: #fff8e1;
            border-bottom: 2px solid var(--py-yellow);
        }

        .intro-box {
            background: #e0f7fa;
            border-left: 8px solid var(--cpp-blue);
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            position: relative;
        }
        .intro-box::before {
            content: "ğŸ› ï¸";
            font-size: 40px;
            position: absolute;
            top: -20px;
            left: -20px;
            background: white;
            border-radius: 50%;
            padding: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* ================= å›¾è§£åŒºåŸŸ ================= */
        .illustration-panel {
            background: white;
            border: 2px dashed #b0bec5;
            border-radius: 15px;
            margin: 30px 0;
            padding: 30px;
            text-align: center;
            overflow: hidden;
        }

        /* ================= ä»£ç å—ä¸Tabs ================= */
        .code-wrapper {
            background: var(--code-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            margin-top: 20px;
        }

        .tab-bar {
            display: flex;
            background: #1c2025;
        }

        .tab-btn {
            flex: 1;
            padding: 18px;
            background: transparent;
            color: #90a4ae;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: 0.3s;
        }
        .tab-btn:hover { background: #37474f; color: white; }
        .tab-btn.active { 
            background: var(--code-bg); 
            color: #64b5f6; 
            border-top: 4px solid #64b5f6; 
        }

        .code-view {
            display: none;
            padding: 25px;
            color: #eceff1;
            font-family: "Consolas", "Monaco", monospace;
            white-space: pre-wrap;
            line-height: 1.6;
            font-size: 15px;
        }
        .code-view.active { display: block; }

        /* è¯­æ³•é«˜äº® */
        .cpp-k { color: #c678dd; font-weight: bold; } 
        .cpp-t { color: #e5c07b; } 
        .cpp-n { color: #d19a66; } 
        .cpp-s { color: #98c379; } 
        .cpp-c { color: #7f848e; font-style: italic; } 
        .cpp-f { color: #61afef; } 

        .py-k { color: #c678dd; font-weight: bold; }
        .py-f { color: #61afef; }
        .py-s { color: #98c379; }
        .py-c { color: #7f848e; font-style: italic;}
        .py-n { color: #d19a66; }

    </style>
</head>
<body>

<div class="container">

    <div style="text-align: center;">
        <svg width="300" height="120" viewBox="0 0 300 120">
            <g transform="translate(150, 60)">
                <circle cx="0" cy="0" r="40" fill="none" stroke="#37474f" stroke-width="8" stroke-dasharray="10, 10">
                    <animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="8s" repeatCount="indefinite"/>
                </circle>
                <circle cx="0" cy="0" r="30" fill="#eceff1" />
                <text x="0" y="8" text-anchor="middle" font-size="20" font-weight="bold" fill="#37474f">SORT</text>
            </g>
            <rect x="50" y="40" width="40" height="40" fill="#1976d2" rx="5">
                <animate attributeName="x" values="20;90" dur="1s" fill="freeze" />
                <animate attributeName="opacity" values="0;1" dur="0.5s" />
            </rect>
            <text x="50" y="100" fill="#1976d2" font-weight="bold">C++</text>
            
            <rect x="210" y="40" width="40" height="40" fill="#ffc107" rx="5">
                <animate attributeName="x" values="240;170" dur="1s" fill="freeze" />
                <animate attributeName="opacity" values="0;1" dur="0.5s" />
            </rect>
            <text x="220" y="100" fill="#e65100" font-weight="bold">Python</text>
        </svg>
    </div>

    <h1>æ’åºç¥å™¨è¯¦è§£</h1>
    <p class="subtitle">å‘Šåˆ«æ‰‹å†™å†’æ³¡ï¼Œæ‹¥æŠ±è‡ªåŠ¨åŒ–ï¼ğŸš€</p>

    <div class="intro-box">
        <h3>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç”¨å†…ç½®å‡½æ•°ï¼Ÿ</h3>
        <p>è™½ç„¶æˆ‘ä»¬å­¦äº†å†’æ³¡ã€é€‰æ‹©ã€æ’å…¥æ’åºï¼Œä½†åœ¨çœŸæ­£çš„æ¯”èµ›å’Œå·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ä»æ¥ä¸æ‰‹å†™å®ƒä»¬ï¼å› ä¸ºï¼š</p>
        <ol>
            <li><strong>é€Ÿåº¦æå¿«ï¼š</strong> å®ƒä»¬é€šå¸¸åŸºäºå¿«é€Ÿæ’åºä¼˜åŒ–ï¼Œé€Ÿåº¦æ˜¯ <span class="highlight">O(nlogn)</span>ã€‚</li>
            <li><strong>ä¸ä¼šå†™é”™ï¼š</strong> å¤§ä½¬å†™å¥½çš„ä»£ç ï¼Œç»å¯¹æ²¡æœ‰ Bugã€‚</li>
            <li><strong>åŠŸèƒ½å¼ºå¤§ï¼š</strong> åªè¦ä½ å®šå¥½è§„åˆ™ï¼Œæƒ³æ€ä¹ˆæ’å°±æ€ä¹ˆæ’ã€‚</li>
        </ol>
    </div>

    <h2 class="h2-cpp">Part 1: C++ std::sort</h2>
    
    <p>åœ¨ C++ ä¸­ï¼Œ<code>sort</code> å‡½æ•°ä½åœ¨ <code>&lt;algorithm&gt;</code> å¤´æ–‡ä»¶é‡Œã€‚å®ƒåƒä¸€ä¸ªæœºå™¨äººï¼Œä½ éœ€è¦å‘Šè¯‰å®ƒä¸¤ä¸ªåæ ‡ï¼š<strong>ä»å“ªé‡Œå¼€å§‹ï¼Œåˆ°å“ªé‡Œç»“æŸ</strong>ã€‚</p>

    <div class="illustration-panel">
        <h4 style="margin-top:0; color:#1976d2;">ğŸ“ å·¦é—­å³å¼€åŒºé—´ [begin, end)</h4>
        <svg width="600" height="150" viewBox="0 0 600 150">
            <rect x="50" y="50" width="500" height="50" fill="#e3f2fd" stroke="#1976d2" rx="5"/>
            
            <line x1="150" y1="50" x2="150" y2="100" stroke="#bbdefb"/>
            <line x1="250" y1="50" x2="250" y2="100" stroke="#bbdefb"/>
            <line x1="350" y1="50" x2="350" y2="100" stroke="#bbdefb"/>
            <line x1="450" y1="50" x2="450" y2="100" stroke="#bbdefb"/>

            <text x="100" y="80" text-anchor="middle">a[0]</text>
            <text x="200" y="80" text-anchor="middle">a[1]</text>
            <text x="300" y="80" text-anchor="middle">...</text>
            <text x="400" y="80" text-anchor="middle">a[n-1]</text>
            <text x="500" y="80" text-anchor="middle" fill="#ccc">ç©º</text>

            <line x1="50" y1="20" x2="50" y2="50" stroke="#d84315" stroke-width="3" marker-end="url(#arrow-red)"/>
            <text x="50" y="15" text-anchor="middle" font-weight="bold" fill="#d84315">a (å¼€å§‹)</text>

            <line x1="450" y1="20" x2="450" y2="50" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrow-green)"/>
            <text x="450" y="15" text-anchor="middle" font-weight="bold" fill="#2e7d32">a + n (ç»“æŸ)</text>

            <path d="M 50 110 L 50 120 L 450 120 L 450 110" stroke="#1976d2" fill="none" stroke-width="2"/>
            <text x="250" y="140" text-anchor="middle" fill="#1976d2" font-weight="bold">æ’åºèŒƒå›´ï¼šåŒ…å«å¼€å¤´ï¼Œä¸åŒ…å«ç»“å°¾</text>

            <defs>
                <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="#d84315" /></marker>
                <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="#2e7d32" /></marker>
            </defs>
        </svg>
        <p>å‘½ä»¤æ ¼å¼ï¼š<code>sort(å¼€å§‹åœ°å€, ç»“æŸåœ°å€, æ¯”è¾ƒè§„åˆ™);</code></p>
    </div>

    <h2 class="h2-py">Part 2: Python sort & sorted</h2>
    
    <p>Python æä¾›äº†ä¸¤ä¸ªæ³•å®ï¼Œåƒä¸‡åˆ«ææ··äº†ï¼</p>
    <ul>
        <li><code class="highlight highlight-py">list.sort()</code>ï¼š<strong>æ•´ç†ä¹¦æ¶</strong>ã€‚ç›´æ¥æŠŠåŸæ¥çš„åˆ—è¡¨æ”¹äº†ï¼Œä¸ä¼šç”Ÿæˆæ–°çš„ã€‚</li>
        <li><code class="highlight highlight-py">sorted(list)</code>ï¼š<strong>å¤å°æ–‡ä»¶</strong>ã€‚åŸæ¥çš„åˆ—è¡¨ä¸åŠ¨ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ’å¥½åºçš„åˆ—è¡¨ç»™ä½ ã€‚</li>
    </ul>

    <div class="illustration-panel">
        <svg width="600" height="200" viewBox="0 0 600 200">
            <g transform="translate(50, 20)">
                <text x="80" y="-5" font-weight="bold" fill="#d84315">list.sort()</text>
                <rect x="0" y="10" width="160" height="80" fill="#ffe0b2" stroke="#ef6c00" rx="5"/>
                <text x="80" y="55" text-anchor="middle">åŸæ¥çš„åˆ—è¡¨</text>
                
                <text x="80" y="120" text-anchor="middle" fill="#ef6c00">ç›´æ¥å˜èº«!</text>
                <path d="M 80 80 L 80 100" stroke="#ef6c00" stroke-width="3" marker-end="url(#arrow-org)"/>
                
                <rect x="0" y="110" width="160" height="80" fill="#ffe0b2" stroke="#ef6c00" rx="5"/>
                <text x="80" y="155" text-anchor="middle" font-weight="bold">åŸæ¥çš„åˆ—è¡¨(å·²å˜)</text>
            </g>

            <line x1="250" y1="20" x2="250" y2="180" stroke="#ccc" stroke-dasharray="5,5"/>

            <g transform="translate(350, 20)">
                <text x="80" y="-5" font-weight="bold" fill="#1976d2">b = sorted(a)</text>
                <rect x="0" y="10" width="160" height="80" fill="#bbdefb" stroke="#1976d2" rx="5"/>
                <text x="80" y="55" text-anchor="middle">åŸæ¥çš„åˆ—è¡¨ a</text>
                
                <text x="190" y="55" text-anchor="middle" fill="#1976d2">äº§ç”Ÿæ–°å®å®</text>
                <path d="M 160 50 L 220 50 L 220 110 L 160 110" stroke="#1976d2" stroke-width="3" fill="none" marker-end="url(#arrow-blue)"/>
                
                <rect x="0" y="110" width="160" height="80" fill="#e1bee7" stroke="#7b1fa2" rx="5"/>
                <text x="80" y="155" text-anchor="middle" font-weight="bold">æ–°åˆ—è¡¨ b</text>
            </g>

            <defs>
                <marker id="arrow-org" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="#ef6c00" /></marker>
                <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="#7b1fa2" /></marker>
            </defs>
        </svg>
    </div>

    <h2 class="h2-pk">Part 3: ç¼–ç¨‹å®éªŒå®¤</h2>
    <p><strong>å®æˆ˜åœºæ™¯ï¼š</strong> ç­çº§è€ƒè¯•æ’åã€‚</p>
    <ul>
        <li>è§„åˆ™1ï¼šæ€»åˆ†é«˜çš„æ’å‰é¢ï¼ˆé™åºï¼‰ã€‚</li>
        <li>è§„åˆ™2ï¼šå¦‚æœæ€»åˆ†ä¸€æ ·ï¼Œå­¦å·å°çš„æ’å‰é¢ï¼ˆå‡åºï¼‰ã€‚</li>
    </ul>

    <div class="code-wrapper">
        <div class="tab-bar">
            <button class="tab-btn active" onclick="switchTab('cpp')">C++ é¢˜è§£</button>
            <button class="tab-btn" onclick="switchTab('py')">Python é¢˜è§£</button>
        </div>

        <div id="cpp" class="code-view active">
<span class="cpp-k">#include</span> <span class="cpp-s">&lt;iostream&gt;</span>
<span class="cpp-k">#include</span> <span class="cpp-s">&lt;algorithm&gt;</span> <span class="cpp-c">// å¿…é¡»åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶!</span>
<span class="cpp-k">#include</span> <span class="cpp-s">&lt;vector&gt;</span>
<span class="cpp-k">using namespace</span> std;

<span class="cpp-k">struct</span> Student {
    <span class="cpp-t">int</span> id;
    <span class="cpp-t">int</span> score;
};

<span class="cpp-c">// è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•° cmp</span>
<span class="cpp-c">// å¦‚æœè¿”å› trueï¼Œè¡¨ç¤º a åº”è¯¥æ’åœ¨ b å‰é¢</span>
<span class="cpp-t">bool</span> <span class="cpp-f">cmp</span>(Student a, Student b) {
    <span class="cpp-k">if</span> (a.score != b.score) {
        <span class="cpp-k">return</span> a.score > b.score; <span class="cpp-c">// åˆ†æ•°ä¸åŒï¼Œå¤§çš„åœ¨å‰</span>
    }
    <span class="cpp-k">return</span> a.id < b.id; <span class="cpp-c">// åˆ†æ•°ç›¸åŒï¼Œå­¦å·å°çš„åœ¨å‰</span>
}

<span class="cpp-t">int</span> <span class="cpp-f">main</span>() {
    <span class="cpp-t">int</span> n = 3;
    Student students[] = {{1, 80}, {2, 90}, {3, 90}};

    <span class="cpp-c">// ä½¿ç”¨ sort(å¼€å§‹, ç»“æŸ, è§„åˆ™)</span>
    <span class="cpp-f">sort</span>(students, students + n, cmp);

    <span class="cpp-k">for</span>(<span class="cpp-t">int</span> i = 0; i < n; i++) {
        <span class="cpp-f">cout</span> << <span class="cpp-s">"ID:"</span> << students[i].id << <span class="cpp-s">" Score:"</span> << students[i].score << endl;
    }
    <span class="cpp-k">return</span> 0;
}
        </div>

        <div id="py" class="code-view">
<span class="py-k">class</span> Student:
    <span class="py-k">def</span> __init__(self, id, score):
        self.id = id
        self.score = score
    
    <span class="py-k">def</span> __repr__(self):
        <span class="py-k">return</span> f<span class="py-s">"ID:{self.id} Score:{self.score}"</span>

<span class="py-n">students</span> = [
    Student(1, 80),
    Student(2, 90),
    Student(3, 90)
]

<span class="py-c"># æ–¹æ³•ï¼šä½¿ç”¨ key (å…³é”®å­—)</span>
<span class="py-c"># lambda x: (...) æ˜¯å‘Šè¯‰pythonæŒ‰ä»€ä¹ˆç‰¹å¾æ’</span>
<span class="py-c"># æŠ€å·§ï¼šæƒ³é™åºå°±åŠ è´Ÿå· -x.score (å‰ææ˜¯æ•°å­—)</span>
<span class="py-c"># å…ƒç»„è§„åˆ™ï¼šå…ˆæ¯”ç¬¬1ä¸ªï¼Œå†æ¯”ç¬¬2ä¸ª...</span>
<span class="py-n">students</span>.<span class="py-f">sort</span>(key=<span class="py-k">lambda</span> x: (-x.score, x.id))

<span class="py-f">print</span>(students)

<span class="py-c"># ä¹Ÿå¯ä»¥ç”¨ sorted ç”Ÿæˆæ–°çš„</span>
<span class="py-c"># new_list = sorted(students, key=lambda x: (-x.score, x.id))</span>
        </div>
    </div>

</div>

<script>
    function switchTab(lang) {
        // éšè—æ‰€æœ‰ä»£ç å—
        document.getElementById('cpp').classList.remove('active');
        document.getElementById('py').classList.remove('active');
        
        // ç§»é™¤æŒ‰é’®æ¿€æ´»çŠ¶æ€
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(btn => btn.classList.remove('active'));

        // æ¿€æ´»é€‰ä¸­çš„
        document.getElementById(lang).classList.add('active');
        event.currentTarget.classList.add('active');
    }
</script>

</body>
</html>