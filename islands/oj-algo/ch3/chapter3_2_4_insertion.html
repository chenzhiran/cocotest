<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.4 æ’å…¥æ’åº - ç®—æ³•è¯¦è§£</title>
    <style>
        /* ================= æ ¸å¿ƒé£æ ¼ï¼šæ‰‘å…‹ç‰Œæ¡Œ ================= */
        :root {
            --table-green: #2e7d32;  /* ç‰Œæ¡Œæ·±ç»¿ */
            --card-red: #d32f2f;     /* æ‰‘å…‹çº¢ */
            --card-black: #212121;   /* æ‰‘å…‹é»‘ */
            --gold: #fbc02d;         /* è£…é¥°é‡‘ */
            --bg-color: #f1f8e9;     /* æµ…ç»¿èƒŒæ™¯ */
            --text-main: #1b5e20;    /* æ·±ç»¿æ–‡å­— */
            --code-bg: #263238;
        }

        body {
            font-family: "Comic Sans MS", "YouYuan", "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            /* è±å½¢çº¹ç†èƒŒæ™¯ */
            background-image: linear-gradient(135deg, #dcedc8 25%, transparent 25%), linear-gradient(225deg, #dcedc8 25%, transparent 25%), linear-gradient(45deg, #dcedc8 25%, transparent 25%), linear-gradient(315deg, #dcedc8 25%, transparent 25%);
            background-position: 10px 0, 10px 0, 0 0, 0 0;
            background-size: 20px 20px;
            background-repeat: repeat;
            color: var(--text-main);
            margin: 0;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 20px 50px rgba(46, 125, 50, 0.3);
            border: 6px solid var(--table-green);
        }

        /* ================= æ ‡é¢˜ä¸æ’ç‰ˆ ================= */
        h1 {
            text-align: center;
            color: var(--table-green);
            font-size: 3.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 #a5d6a7;
            letter-spacing: 2px;
        }

        .subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #558b2f;
            margin-bottom: 40px;
            font-weight: bold;
        }

        h2 {
            background: var(--table-green);
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            display: inline-block;
            margin-top: 50px;
            margin-bottom: 25px;
            font-size: 1.8em;
            box-shadow: 0 5px 0 #1b5e20;
            transform: skew(-10deg);
        }
        h2 span {
            display: inline-block;
            transform: skew(10deg); /* æ–‡å­—è½¬å›æ¥ */
        }

        p { font-size: 1.15em; margin-bottom: 20px; }

        /* ================= é‡ç‚¹å¼ºè°ƒ ================= */
        .highlight {
            color: var(--card-red);
            font-weight: bold;
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            border-bottom: 2px solid var(--card-red);
        }

        .analogy-box {
            background: #fffdeb;
            border: 3px dashed var(--gold);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            position: relative;
        }
        
        .analogy-box::before {
            content: "ğŸƒ";
            font-size: 50px;
            position: absolute;
            top: -30px;
            left: 20px;
            background: white;
            border-radius: 50%;
            padding: 5px;
        }

        /* ================= å›¾è§£åŒºåŸŸ ================= */
        .illustration-card {
            background: white;
            border: 2px solid #ccc;
            border-radius: 15px;
            margin: 30px 0;
            padding: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .step-label {
            font-weight: bold;
            color: white;
            background: var(--card-red);
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 10px;
            display: inline-block;
        }

        /* ================= ä»£ç å—ä¸Tabs ================= */
        .code-wrapper {
            background: var(--code-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            margin-top: 20px;
            border-top: 5px solid var(--gold);
        }

        .tab-bar {
            display: flex;
            background: #37474f;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            background: transparent;
            color: #cfd8dc;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: 0.3s;
        }
        .tab-btn:hover { background: #455a64; color: white; }
        .tab-btn.active { 
            background: var(--code-bg); 
            color: var(--gold); 
            border-bottom: 3px solid var(--gold); 
        }

        .code-view {
            display: none;
            padding: 25px;
            color: #eceff1;
            font-family: Consolas, monospace;
            white-space: pre-wrap;
            line-height: 1.6;
            font-size: 15px;
        }
        .code-view.active { display: block; }

        /* è¯­æ³•é«˜äº® */
        .k { color: #c678dd; font-weight: bold; } 
        .t { color: #ffca28; } 
        .n { color: #ef5350; } 
        .s { color: #9ccc65; } 
        .c { color: #90a4ae; font-style: italic; } 
        .f { color: #42a5f5; } 

    </style>
</head>
<body>

<div class="container">

    <div style="text-align: center;">
        <svg width="250" height="120" viewBox="0 0 250 120">
            <g transform="translate(125, 150)">
                <rect x="-60" y="-120" width="40" height="60" rx="5" fill="white" stroke="#333" transform="rotate(-30)"/>
                <rect x="-30" y="-130" width="40" height="60" rx="5" fill="white" stroke="#333" transform="rotate(-15)"/>
                <rect x="0" y="-135" width="40" height="60" rx="5" fill="white" stroke="#333" transform="rotate(0)"/>
                <rect x="30" y="-130" width="40" height="60" rx="5" fill="#ef5350" stroke="#b71c1c" transform="rotate(15)">
                    <animate attributeName="y" values="-130;-150;-130" dur="2s" repeatCount="indefinite"/>
                </rect>
            </g>
            <text x="125" y="110" text-anchor="middle" font-weight="bold" fill="#333">Organizing Cards...</text>
        </svg>
    </div>

    <h1>2.4 æ’å…¥æ’åº</h1>
    <p class="subtitle">Insertion Sortï¼šåƒæŠ“æ‰‘å…‹ç‰Œä¸€æ ·ç†ç‰Œ â™ ï¸â™¥ï¸</p>

    <div class="analogy-box">
        <p><strong>ğŸ§  æƒ³è±¡ä¸€ä¸‹ï¼š</strong></p>
        <p>ä½ åœ¨ç©æ–—åœ°ä¸»ã€‚ä½ çš„å·¦æ‰‹æ‹¿ç€å‡ å¼ å·²ç»æ’å¥½åºçš„ç‰Œï¼ˆæ¯”å¦‚ 3, 5, 8ï¼‰ã€‚</p>
        <p>è¿™æ—¶å€™ï¼Œä½ çš„å³æ‰‹åˆæ‘¸åˆ°äº†ä¸€å¼ æ–°ç‰Œï¼ˆæ¯”å¦‚ 4ï¼‰ã€‚ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p>
        <p>ä½ ä¼šæŠŠè¿™å¼  4 ä»å³å¾€å·¦æ‰«è§†ï¼Œå‘ç°å®ƒæ¯” 8 å°ï¼Œæ¯” 5 å°ï¼Œä½†æ¯” 3 å¤§ã€‚äºæ˜¯ï¼Œä½ æŠŠ 8 å’Œ 5 <span class="highlight">å¾€åæŒªä¸€æŒª</span>ï¼Œè…¾å‡ºä¸ªç©ºä½ï¼ŒæŠŠ 4 <span class="highlight">æ’è¿›å»</span>ï¼</p>
    </div>

    <h2><span>ğŸ¨ è¯¦ç»†å›¾è§£æ­¥éª¤</span></h2>
    <p>å‡è®¾æˆ‘ä»¬è¦æ’åºè¿™ç»„æ•°å­—ï¼š<span style="font-size:1.4em; font-weight:bold; color:#d32f2f;">[ 5, 2, 4, 6 ]</span></p>

    <div class="illustration-card">
        <div class="step-label">ç¬¬ä¸€å›åˆï¼šå¤„ç†æ•°å­— 2</div>
        <p>ç¬¬ä¸€ä¸ªæ•°å­— 5 é»˜è®¤å½“æˆå·²ç»æ’å¥½çš„æ‰‹ç‰Œã€‚</p>
        <svg width="600" height="180" viewBox="0 0 600 180">
            <rect x="0" y="20" width="600" height="140" fill="#e8f5e9" rx="10"/>

            <g transform="translate(100, 60)">
                <rect x="0" y="0" width="60" height="80" rx="5" fill="#fff" stroke="#2e7d32" stroke-width="2"/>
                <text x="30" y="50" text-anchor="middle" font-size="24" font-weight="bold">5</text>
                <text x="30" y="95" text-anchor="middle" font-size="12" fill="#2e7d32">å·²æ’åº</text>
            </g>

            <g transform="translate(180, 40)">
                <rect x="0" y="0" width="60" height="80" rx="5" fill="#ffcdd2" stroke="#c62828" stroke-width="3"/>
                <text x="30" y="50" text-anchor="middle" font-size="24" font-weight="bold" fill="#c62828">2</text>
                <text x="30" y="-10" text-anchor="middle" font-size="14" fill="#c62828" font-weight="bold">æ–°ç‰Œ(Key)</text>
                <animateTransform attributeName="transform" type="translate" from="180,40" to="60,60" dur="2s" fill="freeze" begin="1s"/>
            </g>

            <path d="M 130 100 L 170 100" stroke="#2e7d32" stroke-width="3" marker-end="url(#arrow-green)"/>
            <text x="350" y="90" font-size="16" fill="#1b5e20">1. æŠŠ 2 æ‹¿å‡ºæ¥ã€‚</text>
            <text x="350" y="115" font-size="16" fill="#1b5e20">2. 5 æ¯” 2 å¤§ï¼Œ5 å¾€åæŒªï¼</text>
            <text x="350" y="140" font-size="16" fill="#1b5e20">3. 2 æ’åˆ°å‰é¢ã€‚</text>

            <defs>
                <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#2e7d32" />
                </marker>
            </defs>
        </svg>
    </div>

    <div class="illustration-card">
        <div class="step-label">ç¬¬äºŒå›åˆï¼šå¤„ç†æ•°å­— 4</div>
        <p>ç°åœ¨æ‰‹ç‰Œæ˜¯ [2, 5]ã€‚æ–°æ‘¸åˆ°äº† 4ã€‚</p>
        <svg width="600" height="180" viewBox="0 0 600 180">
            <rect x="0" y="20" width="600" height="140" fill="#e8f5e9" rx="10"/>

            <g transform="translate(100, 60)">
                <rect x="0" y="0" width="60" height="80" rx="5" fill="#fff" stroke="#2e7d32" stroke-width="2"/>
                <text x="30" y="50" text-anchor="middle" font-size="24" font-weight="bold">2</text>
            </g>
            <g transform="translate(170, 60)">
                <rect x="0" y="0" width="60" height="80" rx="5" fill="#fff" stroke="#2e7d32" stroke-width="2"/>
                <text x="30" y="50" text-anchor="middle" font-size="24" font-weight="bold">5</text>
                <animate attributeName="fill" values="#fff;#ffecb3;#fff" dur="2s" repeatCount="indefinite"/>
            </g>

            <g transform="translate(240, 40)">
                <rect x="0" y="0" width="60" height="80" rx="5" fill="#ffcdd2" stroke="#c62828" stroke-width="3"/>
                <text x="30" y="50" text-anchor="middle" font-size="24" font-weight="bold" fill="#c62828">4</text>
                
                <path d="M 30 80 Q 30 150 -60 100" stroke="#c62828" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
            </g>

            <text x="350" y="80" font-size="16" fill="#1b5e20">æ¯” 5 å°å—ï¼Ÿæ˜¯çš„ â†’ 5 åç§»ã€‚</text>
            <text x="350" y="110" font-size="16" fill="#1b5e20">æ¯” 2 å°å—ï¼Ÿä¸æ˜¯ â†’ åœï¼</text>
            <text x="350" y="140" font-weight="bold" fill="#d32f2f">æ’åœ¨ 2 å’Œ 5 ä¸­é—´ï¼</text>
        </svg>
    </div>

    <h2><span>ğŸ’» ç¼–ç¨‹æ—¶é—´ï¼</span></h2>
    <p>ä»£ç é‡Œçš„ <code>key</code> å°±æ˜¯ä½ å³æ‰‹åˆšæ‘¸åˆ°çš„ç‰Œï¼Œ<code>while</code> å¾ªç¯å°±æ˜¯â€œå¾€å·¦è¾¹æ‰¾ä½ç½®å¹¶æŒªç‰Œâ€çš„è¿‡ç¨‹ã€‚</p>

    <div class="code-wrapper">
        <div class="tab-bar">
            <button class="tab-btn active" onclick="switchTab('cpp')">C++ ä»£ç </button>
            <button class="tab-btn" onclick="switchTab('py')">Python ä»£ç </button>
        </div>

        <div id="cpp" class="code-view active">
<span class="k">#include</span> <span class="s">&lt;iostream&gt;</span>
<span class="k">using namespace</span> std;

<span class="k">int</span> <span class="f">main</span>() {
    <span class="k">int</span> a[] = {5, 2, 4, 6, 1}; 
    <span class="k">int</span> n = 5;

    <span class="c">// i ä» 1 å¼€å§‹ï¼Œå› ä¸ºæˆ‘ä»¬é»˜è®¤ç¬¬0å¼ ç‰Œå·²ç»æ’å¥½äº†</span>
    <span class="k">for</span>(<span class="k">int</span> i = 1; i < n; i++) {
        
        <span class="c">// 1. æ‹¿èµ·è¿™å¼ æ–°ç‰Œ (key)</span>
        <span class="k">int</span> key = a[i];
        
        <span class="c">// 2. çœ‹å·¦æ‰‹è¾¹çš„ç‰Œ (j)</span>
        <span class="k">int</span> j = i - 1;

        <span class="c">// 3. å¦‚æœå·¦è¾¹çš„ç‰Œæ¯” key å¤§ï¼Œå°±æŠŠå®ƒå¾€åæŒªä¸€æ ¼ (è…¾ä½ç½®)</span>
        <span class="k">while</span>(j >= 0 && a[j] > key) {
            a[j + 1] = a[j]; <span class="c">// å¾€åæŒª</span>
            j--;             <span class="c">// å†çœ‹æ›´å·¦è¾¹çš„ä¸€å¼ </span>
        }

        <span class="c">// 4. æ‰¾åˆ°ä½ç½®äº† (æˆ–è€…æ¯”ä¸è¿‡äº†)ï¼ŒæŠŠ key æ’è¿›å»</span>
        <span class="c">// æ³¨æ„ï¼šj åœ¨ while é‡Œå¤šå‡äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ’åœ¨ j+1</span>
        a[j + 1] = key;
    }

    <span class="c">// è¾“å‡ºç»“æœ</span>
    <span class="k">for</span>(<span class="k">int</span> i = 0; i < n; i++) <span class="f">cout</span> << a[i] << <span class="s">" "</span>;
    <span class="k">return</span> 0;
}
        </div>

        <div id="py" class="code-view">
<span class="k">def</span> <span class="f">insertion_sort</span>(arr):
    n = <span class="f">len</span>(arr)
    
    <span class="c"># ä»ç¬¬ 1 å¼ ç‰Œå¼€å§‹æ‘¸</span>
    <span class="k">for</span> i <span class="k">in</span> <span class="f">range</span>(1, n):
        
        <span class="c"># 1. æ‹¿èµ·æ–°ç‰Œ</span>
        key = arr[i]
        
        <span class="c"># 2. å‡†å¤‡æ¯”è¾ƒå·¦è¾¹çš„ç‰Œ</span>
        j = i - 1
        
        <span class="c"># 3. åªè¦å·¦è¾¹çš„ç‰Œæ¯” key å¤§ï¼Œå°±å¾€åæŒª</span>
        <span class="k">while</span> j >= 0 <span class="k">and</span> arr[j] > key:
            arr[j + 1] = arr[j]  <span class="c"># æŒªä½ç½®</span>
            j -= 1               <span class="c"># ç»§ç»­å¾€å·¦çœ‹</span>
            
        <span class="c"># 4. æ’å…¥æ–°ç‰Œ</span>
        arr[j + 1] = key

<span class="c"># æµ‹è¯•ä¸€ä¸‹</span>
data = [5, 2, 4, 6, 1]
<span class="f">insertion_sort</span>(data)
<span class="f">print</span>(<span class="s">"æ’åºç»“æœ:"</span>, data)
        </div>
    </div>

    <h2><span>ğŸŒŸ å°ç§˜å¯†ï¼šä»€ä¹ˆæ—¶å€™ç”¨å®ƒï¼Ÿ</span></h2>
    <div style="display: flex; gap: 20px; flex-wrap: wrap; margin-top: 20px;">
        <div style="flex:1; background: #fff; border: 2px solid #81c784; border-radius: 10px; padding: 15px;">
            <h3 style="color: #2e7d32; margin-top:0;">âœ… æœ€ä½³æ—¶æœº</h3>
            <p>å¦‚æœæ•°æ®<strong>æœ¬æ¥å°±å·®ä¸å¤šæœ‰åº</strong>ï¼ˆæ¯”å¦‚ [1, 2, 3, 5, 4]ï¼‰ï¼Œå®ƒè·‘å¾—é£å¿«ï¼å› ä¸ºå‡ ä¹ä¸éœ€è¦æ€ä¹ˆæŒªä½ç½®ã€‚æ¯”å†’æ³¡æ’åºå’Œé€‰æ‹©æ’åºéƒ½è¦å¿«ã€‚</p>
        </div>
        <div style="flex:1; background: #fff; border: 2px solid #e57373; border-radius: 10px; padding: 15px;">
            <h3 style="color: #c62828; margin-top:0;">âŒ ç³Ÿç³•æ—¶æœº</h3>
            <p>å¦‚æœæ•°æ®æ˜¯<strong>å®Œå…¨å€’åº</strong>çš„ï¼ˆæ¯”å¦‚ [9, 8, 7, 6...]ï¼‰ï¼Œé‚£å¯æƒ¨äº†ï¼Œæ¯ä¸€æ¬¡éƒ½è¦æŠŠæ‰€æœ‰ç‰Œå¾€åæŒªï¼Œæ…¢å¾—åƒèœ—ç‰›ã€‚ğŸŒ</p>
        </div>
    </div>

</div>

<script>
    function switchTab(lang) {
        // éšè—æ‰€æœ‰ä»£ç å—
        document.getElementById('cpp').classList.remove('active');
        document.getElementById('py').classList.remove('active');
        
        // ç§»é™¤æŒ‰é’®æ¿€æ´»çŠ¶æ€
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(btn => btn.classList.remove('active'));

        // æ¿€æ´»é€‰ä¸­çš„
        document.getElementById(lang).classList.add('active');
        event.currentTarget.classList.add('active');
    }
</script>

</body>
</html>