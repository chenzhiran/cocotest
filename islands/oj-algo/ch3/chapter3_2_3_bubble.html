<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.3 å†’æ³¡æ’åº - ç®—æ³•è¯¦è§£</title>
    <style>
        /* ================= æ ¸å¿ƒé£æ ¼ï¼šæµ·åº•ä¸–ç•Œ ================= */
        :root {
            --ocean-dark: #0277bd;   /* æ·±æµ·è“ */
            --ocean-light: #e1f5fe;  /* æµ…æ°´è“ */
            --bubble: #4fc3f7;       /* æ°”æ³¡è“ */
            --coral: #ff7043;        /* çŠç‘šçº¢ (é‡ç‚¹) */
            --weed: #66bb6a;         /* æµ·è‰ç»¿ (æˆåŠŸ) */
            --text-main: #01579b;    /* æ–‡å­—è‰² */
            --bg-color: #e0f7fa;     /* æ•´ä½“èƒŒæ™¯ */
            --code-bg: #263238;      /* ä»£ç æ·±è‰²èƒŒæ™¯ */
        }

        body {
            font-family: "Comic Sans MS", "YouYuan", "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            /* æ¨¡æ‹Ÿæ³¢æµªèƒŒæ™¯ */
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255,255,255,0.4) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255,255,255,0.4) 0%, transparent 20%);
            background-attachment: fixed;
            color: var(--text-main);
            margin: 0;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 15px 35px rgba(1, 87, 155, 0.15);
            border: 5px solid #b3e5fc;
        }

        /* ================= æ ‡é¢˜ä¸æ’ç‰ˆ ================= */
        h1 {
            text-align: center;
            color: var(--ocean-dark);
            font-size: 3.2em;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0 #81d4fa;
        }

        .subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #0288d1;
            margin-bottom: 40px;
            font-weight: bold;
        }

        h2 {
            background: linear-gradient(to right, #4fc3f7, #29b6f6);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 50px;
            margin-bottom: 25px;
            font-size: 1.8em;
            box-shadow: 3px 5px 10px rgba(0,0,0,0.1);
            border-bottom: 4px solid #0277bd;
        }

        p { font-size: 1.15em; margin-bottom: 20px; }

        /* ================= é‡ç‚¹å¼ºè°ƒ ================= */
        .highlight {
            color: #d84315;
            font-weight: bold;
            background: #ffccbc;
            padding: 2px 8px;
            border-radius: 10px;
            border-bottom: 2px solid #bf360c;
        }

        .story-box {
            background: #fff9c4;
            border: 3px dashed #fbc02d;
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            position: relative;
        }
        
        .story-box::after {
            content: "ğŸŸ";
            font-size: 40px;
            position: absolute;
            top: -20px;
            right: -10px;
            animation: swim 3s infinite ease-in-out;
        }

        @keyframes swim {
            0%, 100% { transform: rotate(0deg) translateY(0); }
            50% { transform: rotate(10deg) translateY(-10px); }
        }

        /* ================= å›¾è§£åŒºåŸŸ ================= */
        .illustration {
            background: white;
            border: 3px solid #b3e5fc;
            border-radius: 15px;
            margin: 30px 0;
            padding: 20px;
            text-align: center;
            overflow: hidden;
        }

        .step-badge {
            background: var(--ocean-dark);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            margin-bottom: 10px;
            display: inline-block;
        }

        /* ================= ä»£ç å—ä¸Tabs ================= */
        .code-wrapper {
            background: var(--code-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            margin-top: 20px;
            border: 2px solid #546e7a;
        }

        .tab-bar {
            display: flex;
            background: #37474f;
            border-bottom: 2px solid #263238;
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            background: transparent;
            color: #cfd8dc;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: 0.3s;
        }
        .tab-btn:hover { background: #455a64; color: white; }
        .tab-btn.active { 
            background: var(--code-bg); 
            color: #80cbc4; 
            border-top: 4px solid #80cbc4; 
        }

        .code-view {
            display: none;
            padding: 25px;
            color: #eceff1;
            font-family: Consolas, monospace;
            white-space: pre-wrap;
            line-height: 1.6;
            font-size: 15px;
        }
        .code-view.active { display: block; }

        /* è¯­æ³•é«˜äº® */
        .k { color: #ba68c8; font-weight: bold; } /* keyword - ç´«è‰² */
        .t { color: #ffb74d; } /* type - æ©™è‰² */
        .n { color: #f06292; } /* number - ç²‰è‰² */
        .s { color: #aed581; } /* string - æµ…ç»¿ */
        .c { color: #90a4ae; font-style: italic; } /* comment - ç°è‰² */
        .f { color: #4fc3f7; } /* function - äº®è“ */

    </style>
</head>
<body>

<div class="container">

    <div style="text-align: center; margin-bottom: 20px;">
        <svg width="300" height="120" viewBox="0 0 300 120">
            <circle cx="50" cy="100" r="10" fill="#4fc3f7" opacity="0.6">
                <animate attributeName="cy" values="120;0" dur="3s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="0.6;0" dur="3s" repeatCount="indefinite" />
            </circle>
            <circle cx="150" cy="80" r="15" fill="#4fc3f7" opacity="0.5">
                <animate attributeName="cy" values="120;0" dur="4s" repeatCount="indefinite" begin="1s"/>
            </circle>
            <circle cx="250" cy="110" r="8" fill="#4fc3f7" opacity="0.7">
                <animate attributeName="cy" values="120;0" dur="2.5s" repeatCount="indefinite" begin="0.5s"/>
            </circle>
            
            <g>
                <circle cx="100" cy="60" r="25" fill="#0288d1" stroke="white" stroke-width="2"/>
                <text x="100" y="68" text-anchor="middle" fill="white" font-weight="bold" font-size="20">8</text>
                <animateTransform attributeName="transform" type="translate" values="0,0; 0,-10; 0,0" dur="2s" repeatCount="indefinite"/>
            </g>
            <g>
                <circle cx="180" cy="60" r="20" fill="#29b6f6" stroke="white" stroke-width="2"/>
                <text x="180" y="68" text-anchor="middle" fill="white" font-weight="bold" font-size="16">5</text>
                <animateTransform attributeName="transform" type="translate" values="0,0; 0,-15; 0,0" dur="2.5s" repeatCount="indefinite"/>
            </g>
        </svg>
    </div>

    <h1>2.3 å†’æ³¡æ’åº</h1>
    <p class="subtitle">Bubble Sortï¼šåƒé±¼åæ³¡æ³¡ä¸€æ ·æ¼‚èµ·æ¥ ğŸ«§</p>

    <div class="story-box">
        <h3>ğŸ“– ä»€ä¹ˆæ˜¯â€œå†’æ³¡â€ï¼Ÿ</h3>
        <p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€æ’è£…æ»¡æ°´çš„æ¯å­ï¼Œé‡Œé¢æœ‰å¤§æ³¡æ³¡å’Œå°æ³¡æ³¡ã€‚<strong>å¤§æ³¡æ³¡æ¯”è¾ƒé‡ï¼ˆæˆ–è€…è¯´æµ®åŠ›å¤§ï¼‰ï¼Œå®ƒæ€»æƒ³å¾€ä¸Šè·‘ã€‚</strong></p>
        <p>å†’æ³¡æ’åºå°±æ˜¯ï¼šè®©è¿™ä¸€æ’æ•°å­—é‡Œï¼Œ<span class="highlight">ç›¸é‚»çš„ä¸¤ä¸ªæ•°å­—äº’ç›¸æ¯”è¾ƒ</span>ã€‚å¦‚æœå·¦è¾¹çš„å¤§ï¼Œå³è¾¹çš„å°ï¼Œå®ƒä¿©å°±<strong>äº¤æ¢ä½ç½®</strong>ã€‚è¿™æ ·ä¸€è½®ä¸‹æ¥ï¼Œæœ€å¤§çš„é‚£ä¸ªæ•°å­—ï¼ˆæœ€å¤§çš„æ³¡æ³¡ï¼‰å°±ä¼šä¸€è·¯â€œå†’â€åˆ°é˜Ÿä¼çš„æœ€åé¢ï¼</p>
    </div>

    <h2>ğŸ¨ è¯¦ç»†å›¾è§£æ­¥éª¤</h2>
    <p>æˆ‘ä»¬æ¥æ’åºè¿™ç»„æ•°å­—ï¼š<span style="font-size:1.4em; font-weight:bold; color:#0277bd;">[ 5, 2, 9, 1 ]</span></p>

    <div class="illustration">
        <div class="step-badge">ç¬¬ä¸€è½®ï¼šç¬¬ 1 æ¬¡æ¯”è¾ƒ</div>
        <svg width="600" height="150" viewBox="0 0 600 150">
            <rect x="50" y="40" width="80" height="80" rx="10" fill="#ff7043" stroke="#d84315" stroke-width="3"/>
            <text x="90" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">5</text>
            
            <rect x="150" y="40" width="80" height="80" rx="10" fill="#4fc3f7" stroke="#0277bd" stroke-width="3"/>
            <text x="190" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">2</text>
            
            <rect x="250" y="50" width="70" height="70" rx="10" fill="#eee" stroke="#ccc"/>
            <text x="285" y="95" text-anchor="middle" fill="#999" font-size="24">9</text>
            
            <rect x="340" y="50" width="70" height="70" rx="10" fill="#eee" stroke="#ccc"/>
            <text x="375" y="95" text-anchor="middle" fill="#999" font-size="24">1</text>

            <path d="M 90 40 Q 140 -10 190 40" stroke="#d84315" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
            <text x="300" y="30" fill="#d84315" font-weight="bold">5 æ¯” 2 å¤§ï¼Œäº¤æ¢ï¼</text>
            
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#d84315" />
                </marker>
            </defs>
        </svg>
        <p>çœ‹æœ€å·¦è¾¹ä¸¤ä¸ªã€‚5 å’Œ 2ã€‚å› ä¸º <strong>5 > 2</strong>ï¼Œæ‰€ä»¥ 5 è¦å¾€åèµ°ï¼Œå®ƒä¿©æ¢ä½ç½®ã€‚</p>
    </div>

    <div class="illustration">
        <div class="step-badge">ç¬¬ä¸€è½®ï¼šç¬¬ 2 æ¬¡æ¯”è¾ƒ</div>
        <svg width="600" height="150" viewBox="0 0 600 150">
            <rect x="50" y="50" width="70" height="70" rx="10" fill="#e1f5fe" stroke="#ccc"/>
            <text x="85" y="95" text-anchor="middle" fill="#999" font-size="24">2</text>
            
            <rect x="140" y="40" width="80" height="80" rx="10" fill="#4fc3f7" stroke="#0277bd" stroke-width="3"/>
            <text x="180" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">5</text>
            
            <rect x="240" y="40" width="80" height="80" rx="10" fill="#ff7043" stroke="#d84315" stroke-width="3"/>
            <text x="280" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">9</text>
            
            <rect x="340" y="50" width="70" height="70" rx="10" fill="#eee" stroke="#ccc"/>
            <text x="375" y="95" text-anchor="middle" fill="#999" font-size="24">1</text>

            <text x="450" y="80" fill="#0277bd" font-weight="bold">5 æ¯” 9 å°ï¼Œä¸åŠ¨ï¼</text>
        </svg>
        <p>æ¥ä¸‹æ¥çœ‹ 5 å’Œ 9ã€‚å› ä¸º <strong>5 < 9</strong>ï¼Œé¡ºåºæ˜¯å¯¹çš„ï¼Œä¸ç”¨æ¢ã€‚5 ä¼‘æ¯ï¼Œ9 ç»§ç»­å¾€åæ¯”ã€‚</p>
    </div>

    <div class="illustration">
        <div class="step-badge">ç¬¬ä¸€è½®ï¼šç¬¬ 3 æ¬¡æ¯”è¾ƒ</div>
        <svg width="600" height="150" viewBox="0 0 600 150">
            <rect x="50" y="50" width="70" height="70" rx="10" fill="#eee" stroke="#ccc"/>
            <text x="85" y="95" text-anchor="middle" fill="#999" font-size="24">2</text>
            
            <rect x="140" y="50" width="70" height="70" rx="10" fill="#eee" stroke="#ccc"/>
            <text x="175" y="95" text-anchor="middle" fill="#999" font-size="24">5</text>
            
            <rect x="230" y="40" width="80" height="80" rx="10" fill="#ff7043" stroke="#d84315" stroke-width="3"/>
            <text x="270" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">9</text>
            
            <rect x="330" y="40" width="80" height="80" rx="10" fill="#4fc3f7" stroke="#0277bd" stroke-width="3"/>
            <text x="370" y="90" text-anchor="middle" fill="white" font-size="30" font-weight="bold">1</text>

             <path d="M 270 40 Q 320 -10 370 40" stroke="#d84315" stroke-width="3" fill="none" marker-end="url(#arrow)"/>

             <circle cx="500" cy="80" r="30" fill="#66bb6a" />
             <text x="500" y="85" text-anchor="middle" fill="white" font-weight="bold">9</text>
             <text x="500" y="130" text-anchor="middle" fill="#66bb6a" font-weight="bold">å½’ä½!</text>
        </svg>
        <p>æœ€åçœ‹ 9 å’Œ 1ã€‚9 æ¯” 1 å¤§ï¼Œ<strong>äº¤æ¢ï¼</strong> æ­¤æ—¶ 9 åˆ°äº†æœ€åé¢ã€‚<br><span class="highlight">æ­å–œï¼æœ€å¤§çš„æ•°å­— 9 å·²ç»å†’æ³¡åˆ°äº†é¡¶ç«¯ï¼ŒæŠŠå®ƒå›ºå®šä½ï¼</span></p>
    </div>

    <h2>ğŸ’» ç¼–ç¨‹å®éªŒå®¤</h2>
    <p>ä»£ç çš„æ ¸å¿ƒå°±æ˜¯ï¼š<strong>ä¸¤å±‚å¾ªç¯</strong>ã€‚å¤–å±‚å†³å®šå†’å‡ æ¬¡æ³¡ï¼Œå†…å±‚è´Ÿè´£ä¸¤ä¸¤æ¯”è¾ƒã€‚</p>

    <div class="code-wrapper">
        <div class="tab-bar">
            <button class="tab-btn active" onclick="switchTab('cpp')">C++ ä»£ç </button>
            <button class="tab-btn" onclick="switchTab('py')">Python ä»£ç </button>
        </div>

        <div id="cpp" class="code-view active">
<span class="k">#include</span> <span class="s">&lt;iostream&gt;</span>
<span class="k">#include</span> <span class="s">&lt;algorithm&gt;</span> <span class="c">// swapå‡½æ•°</span>
<span class="k">using namespace</span> std;

<span class="k">int</span> <span class="f">main</span>() {
    <span class="k">int</span> a[] = {5, 2, 9, 1, 6}; 
    <span class="k">int</span> n = 5; <span class="c">// æ•°ç»„é•¿åº¦</span>

    <span class="c">// å¤–å±‚å¾ªç¯ï¼ši ä»£è¡¨å·²ç»æ’å¥½äº†å‡ ä¸ª"å¤§æ³¡æ³¡"</span>
    <span class="k">for</span>(<span class="k">int</span> i = 0; i < n - 1; i++) {
        
        <span class="c">// å†…å±‚å¾ªç¯ï¼šj è´Ÿè´£ä»å¤´èµ°åˆ°å°¾ï¼Œä¸¤ä¸¤æ¯”è¾ƒ</span>
        <span class="c">// ä¸ºä»€ä¹ˆè¦ n-1-i ï¼Ÿå› ä¸ºæœ€åé¢ i ä¸ªå·²ç»æ’å¥½äº†ï¼Œä¸ç”¨å†æ¯”äº†</span>
        <span class="k">for</span>(<span class="k">int</span> j = 0; j < n - 1 - i; j++) {
            
            <span class="c">// å¦‚æœå·¦è¾¹(j) æ¯” å³è¾¹(j+1) å¤§ï¼Œå°±äº¤æ¢</span>
            <span class="k">if</span>(a[j] > a[j+1]) {
                <span class="f">swap</span>(a[j], a[j+1]);
            }
        }
    }

    <span class="c">// è¾“å‡ºç»“æœ</span>
    <span class="k">for</span>(<span class="k">int</span> i = 0; i < n; i++) <span class="f">cout</span> << a[i] << <span class="s">" "</span>;
    <span class="k">return</span> 0;
}
        </div>

        <div id="py" class="code-view">
<span class="k">def</span> <span class="f">bubble_sort</span>(arr):
    n = <span class="f">len</span>(arr)
    
    <span class="c"># å¤–å±‚å¾ªç¯ï¼šå†³å®šè¦è¿›è¡Œå‡ è½®å†’æ³¡</span>
    <span class="k">for</span> i <span class="k">in</span> <span class="f">range</span>(n - 1):
        
        <span class="c"># å†…å±‚å¾ªç¯ï¼šä¸¤ä¸¤æ¯”è¾ƒ</span>
        <span class="c"># range(n - 1 - i) æ˜¯ä¸ºäº†ä¸ç¢°æœ€åé‚£äº›å·²ç»æ’å¥½çš„æ³¡æ³¡</span>
        <span class="k">for</span> j <span class="k">in</span> <span class="f">range</span>(n - 1 - i):
            
            <span class="c"># å¦‚æœå·¦è¾¹æ¯”å³è¾¹å¤§</span>
            <span class="k">if</span> arr[j] > arr[j+1]:
                <span class="c"># äº¤æ¢ä½ç½® (Python äº¤æ¢è¶…çº§ç®€å•ï¼)</span>
                arr[j], arr[j+1] = arr[j+1], arr[j]

<span class="c"># æµ‹è¯•ä¸€ä¸‹</span>
data = [5, 2, 9, 1, 6]
<span class="f">bubble_sort</span>(data)
<span class="f">print</span>(<span class="s">"æ’åºç»“æœ:"</span>, data)
        </div>
    </div>

    <h2>ğŸ¤« åªæœ‰é«˜æ‰‹çŸ¥é“çš„ä¼˜åŒ–</h2>
    <div style="background: white; border-radius: 15px; padding: 20px; border-left: 5px solid #ff7043; margin-top: 30px;">
        <h3 style="color: #bf360c; margin-top: 0;">å¦‚æœæ•°ç»„å·²ç»æ’å¥½äº†æ€ä¹ˆåŠï¼Ÿ</h3>
        <p>å‡è®¾æ•°ç»„æ˜¯ <code>[1, 2, 3, 4, 5]</code>ï¼Œå†’æ³¡æ’åºå‚»ä¹ä¹çš„ï¼Œè¿˜ä¼šä¸€ç›´æ¯”è¾ƒã€‚</p>
        <p><strong>ä¼˜åŒ–ç»æ‹›ï¼š</strong> æˆ‘ä»¬å¯ä»¥è®¾ç«‹ä¸€ä¸ªâ€œæ——å­â€ (flag)ã€‚<br>
        åœ¨è¿™ä¸€è½®æ¯”è¾ƒå¼€å§‹å‰ï¼Œæ——å­ç«‹èµ·æ¥ã€‚å¦‚æœåœ¨è¿™ä¸€è½®é‡Œï¼Œ<span class="highlight">ä¸€æ¬¡äº¤æ¢éƒ½æ²¡æœ‰å‘ç”Ÿ</span>ï¼Œè¯´æ˜å¤§å®¶éƒ½ç«™å¥½ä½ç½®äº†ï¼è¿™æ—¶å€™å°±å¯ä»¥ç›´æ¥åœæ­¢ï¼Œæå‰ä¸‹è¯¾å•¦ï¼</p>
    </div>

</div>

<script>
    function switchTab(lang) {
        // éšè—æ‰€æœ‰ä»£ç å—
        document.getElementById('cpp').classList.remove('active');
        document.getElementById('py').classList.remove('active');
        
        // ç§»é™¤æŒ‰é’®æ¿€æ´»çŠ¶æ€
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(btn => btn.classList.remove('active'));

        // æ¿€æ´»é€‰ä¸­çš„
        document.getElementById(lang).classList.add('active');
        event.currentTarget.classList.add('active');
    }
</script>

</body>
</html>