<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.1 è®¡æ•°æ’åº - ç®—æ³•è¯¦è§£</title>
    <style>
        /* ================= æ ¸å¿ƒé…è‰² (ä¿æŒé£æ ¼ä¸€è‡´) ================= */
        :root {
            --primary: #4fc3f7;      /* å¤©è“ */
            --primary-dark: #0288d1;
            --secondary: #ffb74d;    /* æ©˜é»„ */
            --accent: #ba68c8;       /* ç´«è‰² */
            --bg-color: #fffdf0;     /* ç±³é»„åº•è‰² */
            --text-main: #37474f;
            --code-bg: #282c34;
        }

        body {
            font-family: "Comic Sans MS", "YouYuan", "Microsoft YaHei", sans-serif; /* åœ†æ¶¦å­—ä½“ */
            background-color: var(--bg-color);
            background-image: radial-gradient(#ddd 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-main);
            margin: 0;
            padding: 40px 20px;
            line-height: 1.8;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            border: 4px solid #b3e5fc;
        }

        /* ================= æ ‡é¢˜æ ·å¼ ================= */
        h1 {
            text-align: center;
            color: var(--primary-dark);
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 3px 3px 0 #b3e5fc;
        }

        h2 {
            background: linear-gradient(90deg, var(--secondary), #ffcc80);
            color: white;
            padding: 10px 30px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 50px;
            margin-bottom: 20px;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.1);
            font-size: 1.8em;
        }

        h3 {
            color: var(--accent);
            border-bottom: 3px dashed var(--accent);
            padding-bottom: 10px;
            margin-top: 40px;
        }

        p { font-size: 1.1em; }

        /* ================= é‡ç‚¹å¼ºè°ƒ ================= */
        .highlight {
            color: #d84315;
            font-weight: bold;
            background: #ffecb3;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .note-box {
            background-color: #e1f5fe;
            border-left: 8px solid var(--primary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        /* ================= å›¾è§£åŒºåŸŸ ================= */
        .illustration {
            text-align: center;
            margin: 30px 0;
            background: white;
            padding: 20px;
            border-radius: 20px;
            border: 2px dashed #ccc;
        }

        .step-list {
            list-style: none;
            padding: 0;
        }
        .step-list li {
            margin-bottom: 20px;
            padding-left: 60px;
            position: relative;
        }
        .step-list li::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 1.2em;
        }
        body { counter-reset: step-counter; }

        /* ================= ä»£ç å—ä¸Tabs (å¤ç”¨æ ·å¼) ================= */
        .code-container {
            border: 3px solid #ffcc80;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            background: var(--code-bg);
            box-shadow: 5px 5px 15px rgba(0,0,0,0.2);
        }

        .tab-header {
            display: flex;
            background: #37474f;
        }

        .tab-btn {
            padding: 15px 30px;
            color: #cfd8dc;
            cursor: pointer;
            background: transparent;
            border: none;
            font-weight: bold;
            font-size: 16px;
            flex: 1;
            transition: 0.3s;
        }

        .tab-btn:hover { background: #455a64; }

        .tab-btn.active {
            background: var(--code-bg);
            color: var(--secondary);
            border-top: 4px solid var(--secondary);
        }

        .code-content {
            display: none;
            padding: 20px;
            color: #abb2bf;
            font-family: "Consolas", "Courier New", monospace;
            white-space: pre-wrap;
            font-size: 15px;
            line-height: 1.5;
        }
        .code-content.active { display: block; }

        /* è¯­æ³•é«˜äº® */
        .cpp-kw { color: #c678dd; font-weight: bold; } 
        .cpp-type { color: #e5c07b; } 
        .cpp-num { color: #d19a66; }
        .cpp-str { color: #98c379; } 
        .cpp-com { color: #999; font-style: italic; } 
        
        .py-kw { color: #c678dd; font-weight: bold; }
        .py-def { color: #61afef; }
        .py-com { color: #999; font-style: italic;}
    </style>
</head>
<body>

<div class="container">

    <div class="illustration" style="border:none;">
        <svg width="200" height="120" viewBox="0 0 200 120">
            <path d="M40 40 L60 110 L140 110 L160 40 Z" fill="#b3e5fc" stroke="#0288d1" stroke-width="3"/>
            <ellipse cx="100" cy="40" rx="60" ry="10" fill="#e1f5fe" stroke="#0288d1" stroke-width="3"/>
            <text x="100" y="30" text-anchor="middle" font-size="20" fill="#d84315" font-weight="bold">
                <animate attributeName="y" values="0;80;80" keyTimes="0;0.6;1" dur="1.5s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="0;1;0" keyTimes="0;0.6;1" dur="1.5s" repeatCount="indefinite" />
                1, 2, 3...
            </text>
            <text x="100" y="100" text-anchor="middle" font-size="14" fill="#0277bd">è®¡æ•°ä¸­...</text>
        </svg>
    </div>

    <h1>2.1 è®¡æ•°æ’åº (Counting Sort)</h1>
    
    <div class="note-box">
        <p>ğŸ‘‹ <strong>å°æœ‹å‹ä»¬å¥½ï¼</strong> æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ‰‹é‡Œæœ‰ä¸€æŠŠä¹±ä¸ƒå…«ç³Ÿçš„æ‰‘å…‹ç‰Œï¼Œæˆ–è€…ä¸€å †ä¸åŒé¢œè‰²çš„ä¹é«˜ç§¯æœ¨ã€‚å¦‚æœè®©ä½ æŠŠå®ƒä»¬ä»å°åˆ°å¤§æ’å¥½ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p>
        <p>å¦‚æœä½ ä¸æƒ³æ¯”è¾ƒâ€œè¿™å¼ ç‰Œå¤§â€è¿˜æ˜¯â€œé‚£å¼ ç‰Œå¤§â€ï¼Œä½ å¯ä»¥ç›´æ¥å‡†å¤‡å‡ ä¸ª<strong>å¸¦æœ‰ç¼–å·çš„ç›’å­</strong>ï¼ŒæŠŠæ¯å¼ ç‰Œç›´æ¥æ‰”è¿›å¯¹åº”çš„ç›’å­é‡Œï¼è¿™ï¼Œå°±æ˜¯<span class="highlight">è®¡æ•°æ’åº</span>çš„é­”æ³•ï¼âœ¨</p>
    </div>

    <h2>ğŸ¨ è¯¦ç»†å›¾è§£æ­¥éª¤</h2>
    <p>å‡è®¾æˆ‘ä»¬è¦æ’åºè¿™ç»„æ•°å­—ï¼š<span style="font-size:1.5em; font-family:monospace; background:#eee; padding:5px;">2, 5, 3, 0, 2, 3, 0, 3</span></p>

    <div class="illustration">
        <svg width="800" height="450" viewBox="0 0 800 450">
            <defs>
                <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                    <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)" />

            <text x="50" y="30" font-weight="bold" fill="#333" font-size="18">Step 1: æ‰¾å‡ºæœ€å¤§çš„æ•°æ˜¯5ï¼Œæ‰€ä»¥å‡†å¤‡ 0~5 å·ç›’å­</text>
            
            <g transform="translate(100, 80)">
                <rect x="0" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="30" y="100" text-anchor="middle">0å·</text>
                <circle cx="30" cy="40" r="15" fill="#ffd54f"/>
                <text x="30" y="45" text-anchor="middle" font-weight="bold">2ä¸ª</text>

                <rect x="80" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="110" y="100" text-anchor="middle">1å·</text>
                <text x="110" y="45" text-anchor="middle" fill="#ccc">ç©º</text>

                <rect x="160" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="190" y="100" text-anchor="middle">2å·</text>
                <circle cx="190" cy="40" r="15" fill="#ffd54f"/>
                <text x="190" y="45" text-anchor="middle" font-weight="bold">2ä¸ª</text>

                <rect x="240" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="270" y="100" text-anchor="middle">3å·</text>
                <circle cx="270" cy="40" r="15" fill="#ffd54f"/>
                <text x="270" y="45" text-anchor="middle" font-weight="bold">3ä¸ª</text>

                <rect x="320" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="350" y="100" text-anchor="middle">4å·</text>
                <text x="350" y="45" text-anchor="middle" fill="#ccc">ç©º</text>

                <rect x="400" y="0" width="60" height="80" fill="#fff" stroke="#333" stroke-width="2" rx="5"/>
                <text x="430" y="100" text-anchor="middle">5å·</text>
                <circle cx="430" cy="40" r="15" fill="#ffd54f"/>
                <text x="430" y="45" text-anchor="middle" font-weight="bold">1ä¸ª</text>
            </g>

            <path d="M 330 200 L 330 240 L 320 230 M 330 240 L 340 230" stroke="#ba68c8" stroke-width="3" fill="none"/>

            <text x="50" y="270" font-weight="bold" fill="#333" font-size="18">Step 2: æŒ‰ç…§ç›’å­é¡ºåºæŠŠçƒå€’å‡ºæ¥</text>
            
            <g transform="translate(50, 300)">
                <circle cx="30" cy="30" r="20" fill="#4fc3f7"/><text x="30" y="35" text-anchor="middle" fill="white">0</text>
                <circle cx="80" cy="30" r="20" fill="#4fc3f7"/><text x="80" y="35" text-anchor="middle" fill="white">0</text>
                <circle cx="130" cy="30" r="20" fill="#81c784"/><text x="130" y="35" text-anchor="middle" fill="white">2</text>
                <circle cx="180" cy="30" r="20" fill="#81c784"/><text x="180" y="35" text-anchor="middle" fill="white">2</text>
                <circle cx="230" cy="30" r="20" fill="#ffb74d"/><text x="230" y="35" text-anchor="middle" fill="white">3</text>
                <circle cx="280" cy="30" r="20" fill="#ffb74d"/><text x="280" y="35" text-anchor="middle" fill="white">3</text>
                <circle cx="330" cy="30" r="20" fill="#ffb74d"/><text x="330" y="35" text-anchor="middle" fill="white">3</text>
                <circle cx="380" cy="30" r="20" fill="#ba68c8"/><text x="380" y="35" text-anchor="middle" fill="white">5</text>
            </g>

            <text x="550" y="335" fill="#d84315" font-weight="bold" font-size="20">æ’å¥½å•¦ï¼ğŸ‰</text>
        </svg>
    </div>

    <ul class="step-list">
        <li>
            <strong>ç¬¬ä¸€æ­¥ï¼šæ‰¾è€å¤§ (Find Max)</strong><br>
            å…ˆçœ‹çœ‹è¿™å †æ•°å­—é‡Œæœ€å¤§çš„æ˜¯å‡ ï¼Ÿå¦‚æœæ˜¯ 5ï¼Œæˆ‘ä»¬å°±éœ€è¦å‡†å¤‡ 0, 1, 2, 3, 4, 5 å·ï¼Œä¸€å…± 6 ä¸ªç›’å­ã€‚
        </li>
        <li>
            <strong>ç¬¬äºŒæ­¥ï¼šæŠ•ç¥¨è¿›æ¡¶ (Counting)</strong><br>
            æ‹¿èµ·ä¸€ä¸ªæ•°å­—ï¼Œå®ƒæ˜¯å‡ ï¼Œå°±å¾€å‡ å·ç›’å­é‡ŒæŠ•ä¸€ç¥¨ï¼ˆæˆ–è€…æ”¾ä¸€é¢—ç³–ï¼‰ã€‚<br>
            <span class="highlight">å…³é”®ç‚¹ï¼šæ•°å­—æœ¬èº« = ç›’å­çš„ç¼–å· (ä¸‹æ ‡)</span>ã€‚
        </li>
        <li>
            <strong>ç¬¬ä¸‰æ­¥ï¼šä¾æ¬¡ç‚¹å (Output)</strong><br>
            ä» 0 å·ç›’å­å¼€å§‹æ£€æŸ¥ã€‚0 å·ç›’å­é‡Œæœ‰ 2 ç¥¨ï¼Œå°±å†™ä¸¤ä¸ª 0ï¼›1 å·ç›’å­æ˜¯ç©ºçš„ï¼Œè·³è¿‡ï¼›2 å·ç›’å­é‡Œæœ‰ 2 ç¥¨ï¼Œå°±å†™ä¸¤ä¸ª 2â€¦â€¦ä¸€ç›´å†™åˆ°æœ€åã€‚
        </li>
    </ul>

    <h2>ğŸ’» ç¼–ç¨‹æ—¶é—´ï¼</h2>
    <p>çœ‹çœ‹åœ¨ç”µè„‘é‡Œæ€ä¹ˆå®ç°è¿™ä¸ªè¿‡ç¨‹å§ã€‚æ³¨æ„çœ‹æ³¨é‡Šå“¦ï¼</p>

    <div class="code-container">
        <div class="tab-header">
            <button class="tab-btn active" onclick="openTab(event, 'c1')">C++ ä»£ç  (è¯¦ç»†ç‰ˆ)</button>
            <button class="tab-btn" onclick="openTab(event, 'p1')">Python ä»£ç  (ç®€æ´ç‰ˆ)</button>
        </div>

        <div id="c1" class="code-content active">
<span class="cpp-kw">#include</span> <span class="cpp-str">&lt;iostream&gt;</span>
<span class="cpp-kw">#include</span> <span class="cpp-str">&lt;vector&gt;</span>
<span class="cpp-kw">#include</span> <span class="cpp-str">&lt;algorithm&gt;</span> <span class="cpp-com">// maxå‡½æ•°åœ¨è¿™é‡Œ</span>
<span class="cpp-kw">using namespace</span> std;

<span class="cpp-kw">int</span> <span class="cpp-kw">main</span>() {
    <span class="cpp-com">// 1. å‡†å¤‡ä¸€å †ä¹±åºçš„æ•°å­—</span>
    <span class="cpp-kw">int</span> a[] = {2, 5, 3, 0, 2, 3, 0, 3};
    <span class="cpp-kw">int</span> n = 8; <span class="cpp-com">// ä¸€å…±æœ‰8ä¸ªæ•°å­—</span>

    <span class="cpp-com">// 2. æ‰¾å‡ºæœ€å¤§çš„æ•°å­— (ä¸ºäº†çŸ¥é“è¦å‡†å¤‡å¤šå°‘ä¸ªç›’å­)</span>
    <span class="cpp-kw">int</span> max_val = 0;
    <span class="cpp-kw">for</span>(<span class="cpp-kw">int</span> i = 0; i < n; i++) {
        <span class="cpp-kw">if</span>(a[i] > max_val) max_val = a[i];
    }
    
    <span class="cpp-com">// 3. å‡†å¤‡ç›’å­ (è®¡æ•°æ•°ç»„)</span>
    <span class="cpp-com">// åªè¦æœ€å¤§å€¼æ˜¯5ï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ°ä¸‹æ ‡5ï¼Œæ‰€ä»¥å¤§å°è¦æ˜¯ max_val + 1</span>
    <span class="cpp-com">// vectorè‡ªåŠ¨æŠŠæ‰€æœ‰ç›’å­åˆå§‹åŒ–ä¸º0 (éƒ½æ˜¯ç©ºçš„)</span>
    vector&lt;<span class="cpp-kw">int</span>&gt; count(max_val + 1, 0);

    <span class="cpp-com">// 4. å¼€å§‹è®¡æ•° (æ ¸å¿ƒæ­¥éª¤ï¼)</span>
    <span class="cpp-kw">for</span>(<span class="cpp-kw">int</span> i = 0; i < n; i++) {
        <span class="cpp-kw">int</span> num = a[i]; <span class="cpp-com">// æ‹¿åˆ°è¿™ä¸ªæ•°å­—</span>
        count[num]++;   <span class="cpp-com">// å¯¹åº”ç¼–å·çš„ç›’å­æ•°é‡ +1</span>
    }

    <span class="cpp-com">// 5. å€’å‡ºæ¥ (è¾“å‡º)</span>
    <span class="cpp-kw">cout</span> << <span class="cpp-str">"æ’åºç»“æœ: "</span>;
    <span class="cpp-kw">for</span>(<span class="cpp-kw">int</span> i = 0; i <= max_val; i++) {
        <span class="cpp-com">// åªè¦ç›’å­ä¸ä¸ºç©ºï¼Œå°±ä¸€ç›´å€’å‡ºæ¥</span>
        <span class="cpp-kw">while</span>(count[i] > 0) {
            <span class="cpp-kw">cout</span> << i << <span class="cpp-str">" "</span>;
            count[i]--; <span class="cpp-com">// å€’å‡ºæ¥ä¸€ä¸ªï¼Œå°‘ä¸€ä¸ª</span>
        }
    }
    
    <span class="cpp-kw">return</span> 0;
}
        </div>

        <div id="p1" class="code-content">
<span class="py-def">def</span> counting_sort(arr):
    <span class="py-com"># 1. æ‰¾å‡ºæœ€å¤§å€¼</span>
    <span class="py-kw">if not</span> arr: <span class="py-kw">return</span> []
    max_val = <span class="py-def">max</span>(arr)
    
    <span class="py-com"># 2. å‡†å¤‡ç›’å­ (åˆ—è¡¨)ï¼Œé•¿åº¦è¦æ˜¯ æœ€å¤§å€¼+1</span>
    <span class="py-com"># [0] * 6 å°±ä¼šç”Ÿæˆ [0, 0, 0, 0, 0, 0]</span>
    count = [0] * (max_val + 1)
    
    <span class="py-com"># 3. ç»Ÿè®¡æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°</span>
    <span class="py-kw">for</span> num <span class="py-kw">in</span> arr:
        count[num] += 1
        
    <span class="py-com"># 4. æŠŠå®ƒä»¬æŒ‰é¡ºåºå€’å›åˆ°åŸæ•°ç»„ (æˆ–è€…ç”Ÿæˆæ–°æ•°ç»„)</span>
    output = []
    <span class="py-kw">for</span> i <span class="py-kw">in</span> <span class="py-def">range</span>(max_val + 1):
        <span class="py-com"># å¦‚æœ i å·ç›’å­é‡Œæœ‰ count[i] ä¸ªçƒ</span>
        <span class="py-com"># æˆ‘ä»¬å°±è¿½åŠ  count[i] ä¸ª i</span>
        <span class="py-kw">while</span> count[i] > 0:
            output.append(i)
            count[i] -= 1
            
    <span class="py-kw">return</span> output

<span class="py-com"># æµ‹è¯•ä¸€ä¸‹</span>
data = [2, 5, 3, 0, 2, 3, 0, 3]
result = counting_sort(data)
<span class="py-def">print</span>(<span class="py-str">"æ’åºç»“æœ:"</span>, result)
        </div>
    </div>

    <h2>ğŸš€ åªæœ‰èªæ˜äººæ‰çŸ¥é“çš„å°ç§˜å¯†</h2>
    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 300px; background: #e8f5e9; padding: 20px; border-radius: 15px;">
            <h3 style="color: #2e7d32; border-color: #2e7d32; margin-top:0;">ğŸŒŸ ä¼˜ç‚¹ï¼šè¶…çº§å¿«ï¼</h3>
            <p>å®ƒä¸éœ€è¦åƒå†’æ³¡æ’åºé‚£æ ·ä¸¤ä¸ªä¸¤ä¸ªæ¯”æ¥æ¯”å»ã€‚åªè¦æ‰«ä¸€éæ•°æ®ï¼Œæ”¾è¿›æ¡¶é‡Œï¼Œå†å€’å‡ºæ¥å°±å¥½äº†ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯ <span class="highlight">O(n+k)</span>ï¼Œæ¯”å¿«é€Ÿæ’åºè¿˜è¦å¿«ï¼</p>
        </div>
        <div style="flex: 1; min-width: 300px; background: #ffebee; padding: 20px; border-radius: 15px;">
            <h3 style="color: #c62828; border-color: #c62828; margin-top:0;">âš ï¸ ç¼ºç‚¹ï¼šå¤ªè´¹åœ°å„¿ï¼</h3>
            <p>å¦‚æœæˆ‘ä»¬è¦æ’çš„æ•°å­—é‡Œæœ‰ä¸€ä¸ªæ˜¯ <strong>1äº¿</strong>ï¼Œé‚£æˆ‘ä»¬å°±å¾—å‡†å¤‡ 1äº¿ä¸ªç›’å­ï¼è¿™å¤ªæµªè´¹ç©ºé—´äº†ã€‚è€Œä¸”ï¼Œå®ƒåªèƒ½æ’<span class="highlight">æ•´æ•°</span>ï¼Œä¸èƒ½æ’å°æ•°å“¦ã€‚</p>
        </div>
    </div>

</div>

<script>
function openTab(evt, tabName) {
    var i, content, links;
    content = document.getElementsByClassName("code-content");
    for (i = 0; i < content.length; i++) {
        content[i].style.display = "none";
        content[i].classList.remove("active");
    }
    links = document.getElementsByClassName("tab-btn");
    for (i = 0; i < links.length; i++) {
        links[i].className = links[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>

</body>
</html>