<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ å­—ç¬¦ä¸²æ¢é™©å®å…¸ ğŸ—ï¸</title>
    <style>
        :root {
            --bg-color: #FFF9E6; /* æŸ”å’Œç±³é»„ */
            --card-bg: #FFFFFF;
            --primary-color: #FF9F43; /* æ©™è‰² */
            --secondary-color: #54A0FF; /* è“è‰² */
            --danger-color: #ff6b6b; /* çº¢è‰² */
            --success-color: #1dd1a1; /* ç»¿è‰² */
            --text-color: #2F3542;
            --code-bg: #282c34;
            --border-radius: 16px;
        }

        body {
            font-family: "Microsoft YaHei", "Segoe UI", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
        }

        /* å¤´éƒ¨ */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            background-image: linear-gradient(120deg, #fff 0%, #fdfbf7 100%);
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.05);
        }

        .intro { font-size: 1.1rem; color: #57606f; }

        /* å¯¼èˆªç›®å½• */
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 40px;
        }
        .nav-btn {
            background: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            text-decoration: none;
            color: var(--secondary-color);
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        .nav-btn:hover {
            transform: translateY(-3px);
            border-color: var(--secondary-color);
            background: #f0f9ff;
        }

        /* é€šç”¨å¡ç‰‡ */
        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 35px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
            border-left: 6px solid var(--secondary-color);
        }

        .card-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            border-bottom: 2px dashed #f1f2f6;
            padding-bottom: 15px;
        }
        .card-title .icon { margin-right: 12px; font-size: 1.8rem; }

        /* --- å±æ€§è¡¨æ ¼ (è€ƒç‚¹åˆ†æ) --- */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        .stat-name { font-weight: bold; color: #57606f; display: block; margin-bottom: 5px; }
        .stat-stars { color: #f1c40f; letter-spacing: 2px; }
        .stat-tag { 
            display: inline-block; 
            font-size: 0.8rem; 
            padding: 2px 8px; 
            border-radius: 4px; 
            background: #e17055; 
            color: white; 
            float: right;
        }
        .tag-high { background: #ff7675; }
        .tag-mid { background: #74b9ff; }
        .tag-low { background: #55efc4; color: #2d3436; }

        /* --- çŸ¥è¯†ç‚¹å†…å®¹æ ·å¼ --- */
        h3 { color: var(--secondary-color); margin-top: 25px; border-left: 4px solid var(--primary-color); padding-left: 10px; }
        
        .concept-box {
            background: #f1f2f6;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.95rem;
        }

        /* é­”æ³•å£è¯€ (é»„é‡‘æ³•åˆ™) */
        .magic-rule {
            background: #fff8e1;
            border: 2px solid #ffeaa7;
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            color: #d35400;
        }
        .magic-title { font-weight: bold; display: block; margin-bottom: 5px; }

        /* åœ°é›·åŒº (æ˜“é”™ç‚¹) */
        .mine-field {
            background: #ffecec;
            border: 2px solid #fab1a0;
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            color: #c0392b;
        }

        /* è§†è§‰åŒ–å›¾è§£åŒºåŸŸ */
        .visual-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            padding: 20px;
            margin: 15px 0;
            border: 2px dashed #bdc3c7;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        /* å†…å­˜æ¡å›¾è§£ */
        .memory-bar { display: flex; }
        .memory-cell {
            width: 40px; height: 40px;
            border: 1px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: monospace;
            font-weight: bold;
            background: #fff;
        }
        .cell-null { background: #dfe6e9; color: #636e72; font-size: 0.8rem; }
        .cell-index {
            width: 40px; text-align: center; font-size: 0.8rem; color: #999; margin-top: 5px;
        }

        /* ä»£ç å— */
        pre {
            background-color: var(--code-bg);
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 1rem;
            position: relative;
            margin-top: 10px;
            border: 1px solid #ddd;
        }
        /* ç®€å•çš„æ ‡ç­¾è£…é¥° */
        pre::before {
            content: "C++ ä»£ç ";
            position: absolute;
            top: 0;
            right: 0;
            background: #3b4048;
            color: #888;
            font-size: 0.75rem;
            padding: 2px 8px;
            border-bottom-left-radius: 8px;
        }

        /* è¯­æ³•é«˜äº®é¢œè‰² */
        .hljs-keyword { color: #c678dd; font-weight: bold; }
        .hljs-built_in { color: #e5c07b; }
        .hljs-string { color: #98c379; }
        .hljs-comment { color: #7f848e; font-style: italic; }
        .hljs-number { color: #d19a66; }
        .hljs-meta { color: #61afef; }
        .hljs-type { color: #e06c75; }

        /* è¡¨æ ¼æ ·å¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
        }
        .data-table th, .data-table td {
            border: 1px solid #dfe6e9;
            padding: 10px;
            text-align: center;
        }
        .data-table th { background: #f1f2f6; color: #2c3e50; }

        footer { text-align: center; margin-top: 50px; color: #a4b0be; padding-bottom: 20px;}

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .card { padding: 15px; }
            .memory-cell { width: 30px; height: 30px; }
            .cell-index { width: 30px; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ—ºï¸ C++ å­—ç¬¦ä¸²æ¢é™©å®å…¸</h1>
        <p class="intro">å¸¦ä¸Šè¿™å¼ è—å®å›¾ï¼Œæå®šæ‰€æœ‰å­—ç¬¦ä¸²éš¾é¢˜ï¼<br>åŒ…å«æ ¸å¿ƒæ¦‚å¿µã€å¸¸ç”¨é­”æ³•ï¼ˆç®—æ³•ï¼‰å’Œé¿å‘æŒ‡å—ã€‚</p>
    </header>

    <div class="nav-grid">
        <a href="#section1" class="nav-btn">ğŸ“Š éš¾åº¦åˆ†æ</a>
        <a href="#section2" class="nav-btn">ğŸ§± åŸºç¡€æ¦‚å¿µ</a>
        <a href="#section3" class="nav-btn">ğŸ› ï¸ å¸¸ç”¨æ“ä½œ</a>
        <a href="#section4" class="nav-btn">ğŸš€ é«˜çº§æŠ€å·§</a>
        <a href="#section5" class="nav-btn">ğŸ”¥ é¿å‘æŒ‡å—</a>
    </div>

    <div id="section1" class="card">
        <div class="card-title"><span class="icon">ğŸ“Š</span> ç¬¬ä¸€éƒ¨åˆ†ï¼šå…³å¡éš¾åº¦åˆ†æ</div>
        <div class="stat-grid">
            <div class="stat-item">
                <span class="stat-name">åŸºæœ¬æ¦‚å¿µ <span class="stat-tag tag-high">é«˜é¢‘</span></span>
                <div class="stat-stars">â˜…â˜†â˜†â˜†</div>
            </div>
            <div class="stat-item">
                <span class="stat-name">å­ä¸²ä¸å­åºåˆ— <span class="stat-tag tag-high">é«˜é¢‘</span></span>
                <div class="stat-stars">â˜…â˜…â˜†â˜†</div>
            </div>
            <div class="stat-item">
                <span class="stat-name">å¤§å°å†™è½¬æ¢ <span class="stat-tag tag-high">é«˜é¢‘</span></span>
                <div class="stat-stars">â˜…â˜…â˜†â˜†</div>
            </div>
            <div class="stat-item">
                <span class="stat-name">å¾ªç¯ç§»ä½ <span class="stat-tag tag-mid">ä¸­é¢‘</span></span>
                <div class="stat-stars">â˜…â˜…â˜…â˜†</div>
            </div>
            <div class="stat-item">
                <span class="stat-name">è§„åˆ™å±•å¼€ <span class="stat-tag tag-low">ä½é¢‘</span></span>
                <div class="stat-stars">â˜…â˜…â˜…â˜…</div>
            </div>
            <div class="stat-item">
                <span class="stat-name">æœ€é•¿å…¬å…±å­åºåˆ— <span class="stat-tag tag-high">é«˜é¢‘</span></span>
                <div class="stat-stars">â˜…â˜…â˜…â˜…</div>
            </div>
        </div>
    </div>

    <div id="section2" class="card">
        <div class="card-title"><span class="icon">ğŸ§±</span> ç¬¬äºŒéƒ¨åˆ†ï¼šåŸºç¡€æ¦‚å¿µ</div>
        
        <h3>1. å­—ç¬¦ä¸²çš„å®šä¹‰ä¸å­˜å‚¨</h3>
        <div class="visual-diagram">
            <div>
                <p style="text-align:center; font-weight:bold; margin-bottom:5px;">char æ•°ç»„ (éœ€æ‰‹åŠ¨ \0)</p>
                <div class="memory-bar">
                    <div class="memory-cell">H</div>
                    <div class="memory-cell">e</div>
                    <div class="memory-cell">l</div>
                    <div class="memory-cell">l</div>
                    <div class="memory-cell">o</div>
                    <div class="memory-cell cell-null">\0</div>
                </div>
                <div class="memory-bar" style="border:none;">
                    <div class="cell-index">0</div>
                    <div class="cell-index">1</div>
                    <div class="cell-index">2</div>
                    <div class="cell-index">3</div>
                    <div class="cell-index">4</div>
                    <div class="cell-index">5</div>
                </div>
            </div>
            <div style="align-self:center; color:#aaa;">VS</div>
            <div>
                <p style="text-align:center; font-weight:bold; margin-bottom:5px;">string ç±» (æ¨è)</p>
                <div style="border:2px solid var(--secondary-color); padding:10px; border-radius:8px; color:var(--secondary-color); font-weight:bold;">
                    string s = "Hello"; <br>
                    <span style="font-size:0.8rem; font-weight:normal;">(è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œæ›´å®‰å…¨)</span>
                </div>
            </div>
        </div>

        <div class="magic-rule">
            <span class="magic-title">ğŸŒŸ é­”æ³•å£è¯€ï¼š</span>
            C++ ä¸­å°½é‡ä½¿ç”¨ <code>string</code> ç±»ï¼Œå®ƒèƒ½è‡ªåŠ¨å˜å¤§å˜å°ï¼Œä¸ä¼šå› ä¸ºå¿˜è®°å†™ <code>\0</code> è€Œçˆ†ç‚¸ï¼
        </div>

<pre class="code-source">
// charæ•°ç»„å®šä¹‰ (å±é™©)
char str1[20] = "Hello"; 

// stringç±»å®šä¹‰ (å®‰å…¨ï¼Œæ¨è)
#include <string>
string str2 = "World";

// è¾“å…¥å¯¹æ¯”
char s1[100]; 
cin.getline(s1, sizeof(s1)); // charæ•°ç»„è¾“å…¥
string s2;
getline(cin, s2);  // stringç±»æ•´è¡Œè¾“å…¥
</pre>

        <h3>2. å­ä¸² VS å­åºåˆ—</h3>
        <div class="concept-box">
            <ul>
                <li><strong>å­ä¸² (Substring)ï¼š</strong> å¿…é¡»æ˜¯<strong>è¿ç»­</strong>çš„ã€‚æ¯”å¦‚ "abc" çš„å­ä¸²æœ‰ "ab", "bc"ã€‚</li>
                <li><strong>å­åºåˆ— (Subsequence)ï¼š</strong> å¯ä»¥<strong>ä¸è¿ç»­</strong>ï¼Œä½†é¡ºåºä¸èƒ½ä¹±ã€‚æ¯”å¦‚ "abc" çš„å­åºåˆ—å¯ä»¥æ˜¯ "ac"ã€‚</li>
            </ul>
        </div>
        <div class="visual-diagram">
            <div style="text-align:center;">
                <div>åŸä¸²: <span style="font-size:1.5rem; letter-spacing:5px;">ABCDE</span></div>
                <br>
                <span style="background:#dff9fb; padding:5px 10px; border-radius:5px; border:2px solid #54a0ff;">BCD</span>
                <span style="color:#54a0ff; font-weight:bold;">â† å­ä¸² (è¿ç»­)</span>
                <br><br>
                <span style="background:#ffeaa7; padding:5px 10px; border-radius:5px; border:2px solid #f1c40f;">A D E</span>
                <span style="color:#f1c40f; font-weight:bold;">â† å­åºåˆ— (è·³ç€é€‰)</span>
            </div>
        </div>
        <div class="magic-rule">
            <span class="magic-title">ğŸ”¢ è®¡æ•°å…¬å¼ï¼š</span>
            é•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œéç©ºå­ä¸²çš„æ•°é‡ = <strong>n * (n + 1) / 2</strong>
        </div>
    </div>

    <div id="section3" class="card">
        <div class="card-title"><span class="icon">ğŸ› ï¸</span> ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŸºæœ¬æ“ä½œè£…å¤‡åŒ…</div>

        <h3>1. å¤§å°å†™è½¬æ¢</h3>
        <div class="concept-box">
            <p><strong>åŸç†ï¼š</strong> <code>'a' - 'A' = 32</code>ã€‚å°å†™å­—æ¯çš„ ASCII ç æ¯”å¤§å†™çš„å¤§ 32ã€‚</p>
        </div>
<pre class="code-source">
string s = "Hello123";
for(char &c : s) {
    if(isalpha(c)) {       // å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯å­—æ¯
        c = tolower(c);    // å˜æˆå°å†™
    }
}
// ç»“æœï¼š"hello123"
</pre>

        <h3>2. å­—ç¬¦ç»Ÿè®¡ (æ‰¾å”¯ä¸€å­—ç¬¦)</h3>
        <div class="magic-rule">
            <span class="magic-title">ğŸŒŸ é­”æ³•å£è¯€ï¼š</span>
            ç”¨ä¸€ä¸ªå¤§å°ä¸º 256 çš„æ•°ç»„ <code>cnt</code> å½“ä½œè®¡æ•°å™¨ï¼Œå­—ç¬¦çš„ ASCII ç å°±æ˜¯å®ƒçš„åº§ä½å·ã€‚
        </div>
<pre class="code-source">
int cnt[256] = {0}; // åˆå§‹åŒ–ä¸º0
string s = "banana";

// ç¬¬ä¸€æ­¥ï¼šç»Ÿè®¡
for(char c : s) cnt[c]++;

// ç¬¬äºŒæ­¥ï¼šæŸ¥æ‰¾
for(char c : s) {
    if(cnt[c] == 1) {
        cout << "ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦æ˜¯: " << c << endl;
        break;
    }
}
</pre>

        <h3>3. å­—ç¬¦ä¸²é€†åº</h3>
<pre class="code-source">
// æ–¹æ³•ä¸€ï¼šSTL å¤§æ³• (æ¨è)
#include <algorithm>
reverse(s.begin(), s.end());

// æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆæ³•
int l = 0, r = s.size() - 1;
while(l < r) {
    swap(s[l++], s[r--]);
}
</pre>
    </div>

    <div id="section4" class="card">
        <div class="card-title"><span class="icon">ğŸš€</span> ç¬¬å››éƒ¨åˆ†ï¼šé«˜çº§æŠ€å·§ (æ‹‰å¼€åˆ†å·®çš„å…³é”®)</div>

        <h3>1. å¾ªç¯ç§»ä½åˆ¤æ–­</h3>
        <div class="visual-diagram">
            <div style="text-align:center;">
                <p>åˆ¤æ–­ <code>cdeab</code> æ˜¯ä¸æ˜¯ <code>abcde</code> çš„ç§»ä½ï¼Ÿ</p>
                <div style="font-family:monospace; font-size:1.2rem;">
                    abcde + abcde = <span style="color:#e056fd; font-weight:bold;">abcdeabcde</span>
                </div>
                <div style="margin-top:5px;">
                    åœ¨æ‹¼æ¥ä¸²ä¸­æ‰¾ï¼š<span style="color:transparent;">ab</span><span style="background:#ffeaa7; padding:2px;">cdeab</span><span style="color:transparent;">cde</span>
                </div>
                <p style="color:#27ae60; font-weight:bold; margin-top:10px;">âœ… æ‰¾åˆ°äº†ï¼</p>
            </div>
        </div>
<pre class="code-source">
bool isRotation(string x, string y) {
    if(x.size() != y.size()) return false; // é•¿åº¦å¿…é¡»ä¸€æ ·
    // æŠ€å·§ï¼šx+x åŒ…å«äº† x çš„æ‰€æœ‰å¾ªç¯ç§»ä½æƒ…å†µ
    return (x + x).find(y) != string::npos;
}
</pre>

        <h3>2. è§„åˆ™å±•å¼€ (å¦‚ a-d)</h3>
        <div class="mine-field">
            <span class="magic-title">ğŸ’£ å°å¿ƒåœ°é›·ï¼š</span>
            å¤„ç† <code>a-d</code> æ—¶ï¼Œè¦ç¡®ä¿ <code>-</code> ä¸¤è¾¹åŒæ˜¯å­—æ¯æˆ–åŒæ˜¯æ•°å­—ï¼Œä¸”å·¦è¾¹ < å³è¾¹ã€‚åˆ«å¿˜äº†å¼€å¤´æˆ–ç»“å°¾çš„ <code>-</code> ä¸èƒ½å±•å¼€ï¼
        </div>

        <h3>3. æœ€é•¿å…¬å…±å­åºåˆ— (LCS)</h3>
        <p>è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œç»å¸¸è€ƒï¼</p>
<pre class="code-source">
int lcs(string x, string y) {
    int m = x.size(), n = y.size();
    // dp[i][j] è¡¨ç¤º xå‰iä¸ª å’Œ yå‰jä¸ª çš„LCSé•¿åº¦
    vector<vector<int>> dp(m+1, vector<int>(n+1, 0));
    
    for(int i=1; i<=m; ++i) {
        for(int j=1; j<=n; ++j) {
            if(x[i-1] == y[j-1])
                dp[i][j] = dp[i-1][j-1] + 1; // å­—ç¬¦ç›¸åŒï¼ŒåŠ 1
            else
                dp[i][j] = max(dp[i-1][j], dp[i][j-1]); // å­—ç¬¦ä¸åŒï¼Œç»§æ‰¿æœ€å¤§çš„
        }
    }
    return dp[m][n];
}
</pre>

        <h3>4. å­—å…¸åºæœ€å°çš„å¾ªç¯ç§»ä½</h3>
        <table class="data-table">
            <tr>
                <th>ä½ç§» i</th> <td>0</td> <td>1</td> <td>2</td> <td>3</td> <td>4</td> <td>5</td> <td>6</td> <td>7</td>
            </tr>
            <tr>
                <th>åŸä¸²</th> <td>C</td> <td>B</td> <td>B</td> <td>A</td> <td>D</td> <td>A</td> <td>D</td> <td>A</td>
            </tr>
            <tr>
                <th>æ–°ä¸²å¤´</th> <td>C</td> <td>B</td> <td>B</td> <td style="background:#ffeaa7; font-weight:bold;">A</td> <td>D</td> <td style="background:#dff9fb;">A</td> <td>D</td> <td style="background:#fab1a0;">A</td>
            </tr>
        </table>
        <p><strong>æ€è·¯ï¼š</strong> æ„é€  <code>s + s</code>ï¼Œç„¶åéå†é•¿åº¦ä¸º n çš„å­ä¸²ï¼Œæ¯”è¾ƒè°æœ€å°ã€‚</p>
    </div>

    <div id="section5" class="card" style="border-left-color: var(--danger-color);">
        <div class="card-title"><span class="icon">ğŸ”¥</span> ç¬¬äº”éƒ¨åˆ†ï¼šé¿å‘æŒ‡å—</div>
        
        <div class="mine-field">
            <span class="magic-title">ğŸ’£ é™·é˜± 1ï¼šè¾¹ç•Œæ¡ä»¶</span>
            <p><strong>é”™è¯¯ä»£ç ï¼š</strong> <code>if(s[0] == 'A')</code> <br>å¦‚æœä¸æ£€æŸ¥ <code>s</code> æ˜¯å¦ä¸ºç©ºï¼Œå½“å­—ç¬¦ä¸²ä¸ºç©ºæ—¶ï¼Œç¨‹åºä¼šç›´æ¥å¥”æºƒï¼<br>
            <strong>æ­£ç¡®å†™æ³•ï¼š</strong> <code>if(!s.empty() && s[0] == 'A')</code></p>
        </div>

        <div class="mine-field">
            <span class="magic-title">ğŸ’£ é™·é˜± 2ï¼šå­—ç¬¦è½¬æ•°å­—</span>
            <p><strong>é”™è¯¯ç†è§£ï¼š</strong> <code>int num = '5';</code> ç»“æœæ˜¯ 53 (ASCIIç )ã€‚<br>
            <strong>æ­£ç¡®è½¬æ¢ï¼š</strong> <code>int num = '5' - '0';</code> ç»“æœæ‰æ˜¯ 5ã€‚</p>
        </div>

        <div class="mine-field">
            <span class="magic-title">ğŸ’£ é™·é˜± 3ï¼šå¤§å°å†™æ¯”è¾ƒ</span>
            <p>è®¡ç®—æœºé‡Œ <code>"Hello"</code> å’Œ <code>"hello"</code> æ˜¯ä¸ä¸€æ ·çš„ï¼æ¯”è¾ƒå‰è¦ç»Ÿä¸€è½¬æˆå°å†™æˆ–å¤§å†™ã€‚</p>
        </div>
    </div>

    <footer>
        <p>ğŸ‰ ç¥ä½ åœ¨å­—ç¬¦ä¸²çš„å†’é™©ä¸­æ»¡åˆ†é€šå…³ï¼ ğŸŒŸ</p>
    </footer>
</div>

<script>
    // ä¿®å¤ç‰ˆä»£ç é«˜äº®å¼•æ“
    function highlightCode() {
        const codes = document.querySelectorAll('.code-source');
        
        codes.forEach(block => {
            let html = block.textContent;
            
            // 1. è½¬ä¹‰HTMLå­—ç¬¦
            html = html.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            // 2. å­—ç¬¦ä¸²ä¿æŠ¤
            const strings = [];
            html = html.replace(/(".*?"|'.*?')/g, function(match) {
                strings.push(match);
                return '___STR' + (strings.length - 1) + '___';
            });

            // 3. æ³¨é‡Š (ç°è‰²)
            html = html.replace(/(\/\/.*$|\/\*[\s\S]*?\*\/)/gm, '<span class="hljs-comment">$1</span>');

            // 4. é¢„å¤„ç†æŒ‡ä»¤ (è“è‰²)
            html = html.replace(/(#include\s*(?:&lt;.*?&gt;|___STR\d+___))/g, '<span class="hljs-meta">$1</span>');

            // 5. å…³é”®å­— (ç´«è‰²)
            const keywords = "\\b(int|char|void|if|else|while|for|return|using|namespace|string|bool|break|do|const|vector|auto)\\b";
            html = html.replace(new RegExp(keywords, 'g'), '<span class="hljs-keyword">$1</span>');

            // 6. å†…ç½®å¯¹è±¡ (é»„è‰²)
            const builtins = "\\b(cin|cout|endl|std|strlen|getline|max|min|swap|toupper|tolower|isalpha|isdigit|reverse|push_back|pop_back|empty|size|find|substr|npos)\\b";
            html = html.replace(new RegExp(builtins, 'g'), '<span class="hljs-built_in">$1</span>');

            // 7. æ•°å­— (æ©™è‰²)
            html = html.replace(/\b(\d+)\b/g, '<span class="hljs-number">$1</span>');

            // 8. è¿˜åŸå­—ç¬¦ä¸²
            strings.forEach((str, index) => {
                const placeholder = '___STR' + index + '___';
                const highlightedString = '<span class="hljs-string">' + str + '</span>';
                html = html.split(placeholder).join(highlightedString);
            });

            block.innerHTML = html;
        });
    }

    window.onload = function() {
        highlightCode();
    };
</script>

</body>
</html>