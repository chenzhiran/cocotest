<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ ç¬¬8-13å…³ï¼šåæ ‡ä¸å±æ€§ (ä¿®æ­£ç‰ˆ)</title>
    <style>
        /* --- 1. åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-space: #0f0f1a;       /* æ·±é‚ƒå®‡å®™ */
            --map-bg: #1e1e2e;         /* æ§åˆ¶å°èƒŒæ™¯ */
            --primary: #ff0055;        /* éœ“è™¹çº¢ */
            --secondary: #00d2ff;      /* å…¨æ¯è“ */
            --accent: #7d5fff;         /* è™šç©ºç´« */
            --highlight: #ffe600;      /* è­¦ç¤ºé»„ */
            --text-main: #ecf0f1;
            
            /* C++ ä»£ç é«˜äº® (Dracula Theme é£æ ¼) */
            --code-bg: #282a36;
            --code-fg: #f8f8f2;
            --tok-kw: #ff79c6;         /* å…³é”®å­— auto, if, while */
            --tok-func: #8be9fd;       /* å‡½æ•° findNearest */
            --tok-var: #f8f8f2;        /* å˜é‡ */
            --tok-num: #bd93f9;        /* æ•°å­— */
            --tok-str: #f1fa8c;        /* å­—ç¬¦ä¸² */
            --tok-cm: #6272a4;         /* æ³¨é‡Š */
            --tok-prop: #50fa7b;       /* å±æ€§ .pos .x */
            --tok-type: #ffb86c;       /* ç±»å‹ int, float */
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', 'Consolas', sans-serif;
            background-color: var(--bg-space);
            background-image: 
                radial-gradient(white 1px, transparent 1px),
                radial-gradient(rgba(255,255,255,0.3) 1px, transparent 1px);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden; user-select: none; color: var(--text-main);
        }

        /* --- 2. èˆå°ä¸å®¹å™¨ --- */
        .stage {
            display: flex; align-items: center; justify-content: center; gap: 40px;
            width: 98vw; max-width: 1400px; position: relative; z-index: 10;
        }

        .terminal-container {
            width: 1000px; height: 680px;
            background: var(--map-bg);
            border-radius: 12px;
            border: 2px solid #333;
            box-shadow: 0 0 40px rgba(0, 210, 255, 0.15);
            position: relative; overflow: hidden; display: flex; flex-direction: column;
        }

        /* é¡¶éƒ¨çŠ¶æ€æ  */
        .status-bar {
            height: 40px; background: #111; border-bottom: 1px solid #444;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; font-family: monospace; font-size: 14px; color: #888;
        }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; background: #ff5f56; display: inline-block; margin-right: 5px; }
        .status-dot:nth-child(2) { background: #ffbd2e; }
        .status-dot:nth-child(3) { background: #27c93f; }

        /* å¹»ç¯ç‰‡å†…å®¹ */
        .slide {
            display: none; flex: 1; padding: 40px; flex-direction: column;
            animation: fadeIn 0.4s ease-out; overflow-y: auto;
        }
        .slide.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .header {
            display: flex; align-items: center; margin-bottom: 30px;
            border-bottom: 2px solid #444; padding-bottom: 15px;
        }
        .icon { font-size: 40px; margin-right: 15px; }
        h1 { margin: 0; font-size: 32px; color: var(--secondary); text-transform: uppercase; letter-spacing: 2px; }

        .layout { display: flex; gap: 30px; height: 100%; }
        .col-text { flex: 1; font-size: 18px; line-height: 1.6; color: #d1d8e0; }
        .col-visual { 
            flex: 1; background: #151515; border-radius: 8px; border: 1px solid #444;
            display: flex; justify-content: center; align-items: center; position: relative;
            overflow: hidden; flex-direction: column;
        }

        /* C++ ä»£ç å—ä¼˜åŒ– */
        .code-box {
            background: var(--code-bg); color: var(--code-fg);
            padding: 20px; border-radius: 6px;
            font-family: 'Consolas', 'Monaco', monospace; font-size: 16px;
            line-height: 1.5; /* å¢åŠ è¡Œé«˜ */
            margin-top: 20px; border-left: 4px solid var(--tok-func);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            white-space: pre; /* ä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œ */
            overflow-x: auto;
            tab-size: 4; /* è®¾ç½® Tab ä¸º 4 ä¸ªç©ºæ ¼ */
        }
        
        .k { color: var(--tok-kw); font-weight: bold; }
        .f { color: var(--tok-func); }
        .v { color: var(--tok-var); }
        .n { color: var(--tok-num); }
        .s { color: var(--tok-str); }
        .c { color: var(--tok-cm); font-style: italic; }
        .p { color: var(--tok-prop); }
        .t { color: var(--tok-type); }

        /* å¯¼èˆªæŒ‰é’® */
        .nav-btn {
            width: 60px; height: 60px; border-radius: 50%; border: none;
            background: rgba(255,255,255,0.1); color: white; font-size: 24px;
            cursor: pointer; transition: all 0.2s; backdrop-filter: blur(5px);
        }
        .nav-btn:hover { background: var(--secondary); color: black; transform: scale(1.1); }
        .disabled { opacity: 0.2; pointer-events: none; }

        /* è¿›åº¦æ¡ */
        .progress-container { height: 4px; background: #333; width: 100%; position: absolute; bottom: 0; }
        .progress-bar { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }

        /* å°æç¤ºå¡ç‰‡ */
        .card {
            background: rgba(255, 255, 255, 0.05); border-left: 4px solid var(--highlight);
            padding: 15px; margin-top: 15px; font-size: 16px; color: #ccc;
        }

        /* äº¤äº’æ¼”ç¤ºï¼šç½‘æ ¼ */
        .grid-demo {
            width: 100%; height: 100%; position: relative; cursor: crosshair;
            background-image: 
                linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        .axis { position: absolute; background: var(--secondary); opacity: 0.5; }
        .axis-x { bottom: 20px; left: 20px; width: 300px; height: 2px; }
        .axis-y { bottom: 20px; left: 20px; width: 2px; height: 300px; }
        .point {
            width: 12px; height: 12px; background: var(--primary); border-radius: 50%;
            position: absolute; transform: translate(-50%, 50%); box-shadow: 0 0 10px var(--primary);
        }
        .coord-label {
            position: absolute; background: #000; padding: 2px 6px; border-radius: 4px;
            font-family: monospace; font-size: 12px; color: var(--secondary); transform: translateY(-25px);
        }

    </style>
</head>
<body>

<div class="stage">
    <button class="nav-btn" id="btnPrev" onclick="moveSlide(-1)">â®</button>

    <div class="terminal-container">
        <div class="status-bar">
            <div><span class="status-dot"></span><span class="status-dot"></span><span class="status-dot"></span></div>
            <div>CODECOMBAT_CPP_MODULE_02.EXE</div>
            <div>LEVELS 8-13</div>
        </div>

        <div class="slide active" style="justify-content: center; align-items: center; text-align: center;">
            <div style="font-size: 100px; margin-bottom: 20px; filter: drop-shadow(0 0 20px var(--secondary));">ğŸ›°ï¸</div>
            <h1>C++ åæ ‡ä¸ä½ç½®å±æ€§</h1>
            <h2 style="color: #888; font-weight: normal; margin-top: 10px;">Coordinates & Properties</h2>
            <div style="margin-top: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 80%;">
                <div style="padding: 20px; background: #282a36; border: 1px solid #444; border-radius: 8px;">
                    <div style="color: var(--tok-prop); font-weight: bold; font-size: 20px;">.pos</div>
                    <div style="color: #6272a4; font-size: 14px;">å¯¹è±¡ä½ç½®å±æ€§</div>
                </div>
                <div style="padding: 20px; background: #282a36; border: 1px solid #444; border-radius: 8px;">
                    <div style="color: var(--tok-prop); font-weight: bold; font-size: 20px;">.x / .y</div>
                    <div style="color: #6272a4; font-size: 14px;">ç²¾ç¡®åæ ‡è¿ç®—</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸŒ</div>
                <h1>åæ ‡ç³»ç»Ÿ (Coordinate System)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>CodeCombat çš„åœ°å›¾æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç½‘æ ¼ã€‚æ¯ä¸ªç‚¹éƒ½ç”± <b>(X, Y)</b> å†³å®šã€‚</p>
                    <ul>
                        <li><span style="color:var(--secondary)">X è½´ (Horizontal)</span>ï¼šä»å·¦åˆ°å³ï¼Œæ•°å€¼å˜å¤§ã€‚</li>
                        <li><span style="color:var(--primary)">Y è½´ (Vertical)</span>ï¼šä»ä¸‹åˆ°ä¸Šï¼Œæ•°å€¼å˜å¤§ã€‚</li>
                    </ul>
                    <div class="code-box"><span class="c">// ç§»åŠ¨åˆ°å…·ä½“åæ ‡ (X=30, Y=40)</span>
<span class="v">hero</span>.<span class="f">moveXY</span>(<span class="n">30</span>, <span class="n">40</span>);</div>
                </div>
                <div class="col-visual">
                    <div class="grid-demo" onmousemove="updateGrid(event)">
                        <div class="axis-x"></div>
                        <div class="axis-y"></div>
                        <div style="position:absolute; bottom:5px; left:5px; color:#666;">(0,0)</div>
                        <div class="point" id="demoPoint" style="bottom: 20px; left: 20px;"></div>
                        <div class="coord-label" id="demoLabel"></div>
                    </div>
                    <script>
                        function updateGrid(e) {
                            const box = e.currentTarget.getBoundingClientRect();
                            let x = Math.round((e.clientX - box.left) / box.width * 100);
                            let y = Math.round((box.bottom - e.clientY) / box.height * 100);
                            x = Math.max(5, Math.min(95, x)); y = Math.max(5, Math.min(95, y));
                            const pt = document.getElementById('demoPoint');
                            const lb = document.getElementById('demoLabel');
                            pt.style.left = x + '%'; pt.style.bottom = y + '%';
                            lb.style.left = x + '%'; lb.style.bottom = (y + 4) + '%';
                            lb.innerText = `(${x}, ${y})`;
                        }
                    </script>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“¦</div>
                <h1>å¯¹è±¡ä¸å±æ€§ (Objects & Properties)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>åœ¨ C++ ä¸­ï¼Œç‰©å“ï¼ˆItemï¼‰å’Œæ•Œäººï¼ˆEnemyï¼‰éƒ½æ˜¯<b>å¯¹è±¡</b>ã€‚å¯¹è±¡é‡Œé¢å­˜ç€æ•°æ®ï¼Œå«<b>å±æ€§</b>ã€‚</p>
                    <p>ä½¿ç”¨ <b>ç‚¹å· (.)</b> æ¥è®¿é—®å±æ€§ï¼š</p>
                    <div class="code-box"><span class="k">auto</span> <span class="v">item</span> <span class="o">=</span> <span class="v">hero</span>.<span class="f">findNearestItem</span>();
<span class="k">if</span> (<span class="v">item</span>) {
    <span class="c">// è®¿é—® item çš„ pos å±æ€§</span>
    <span class="k">auto</span> <span class="v">position</span> <span class="o">=</span> <span class="v">item</span>.<span class="p">pos</span>;
    
    <span class="c">// è®¿é—® pos é‡Œçš„ x å’Œ y</span>
    <span class="v">hero</span>.<span class="f">moveXY</span>(<span class="v">position</span>.<span class="p">x</span>, <span class="v">position</span>.<span class="p">y</span>);
}</div>
                </div>
                <div class="col-visual" style="justify-content: center; gap: 10px;">
                    <div style="font-family: monospace; font-size: 24px;">item<span style="color:var(--tok-prop)">.pos</span><span style="color:var(--secondary)">.x</span></div>
                    <div style="font-size: 40px;">â¬‡ï¸</div>
                    <div style="background: #333; padding: 10px 20px; border-radius: 5px; border: 1px solid var(--tok-prop);">
                        pos: { <span style="color:var(--secondary)">x: 45</span>, <span style="color:var(--primary)">y: 32</span> }
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’°</div>
                <h1>å®æˆ˜ï¼šå¸å±‘ (Coinucopia)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ç›´æ¥é€šè¿‡å±æ€§é“¾è®¿é—®åæ ‡ï¼Œå¿«é€Ÿç§»åŠ¨æ”¶é›†é‡‘å¸ï¼</p>
                    <div class="card">
                        æç¤ºï¼š<code>item.pos.x</code> å°±æ˜¯é‡‘å¸çš„æ¨ªåæ ‡ã€‚
                    </div>
                    <div class="code-box"><span class="k">int</span> <span class="f">main</span>() {
    <span class="k">while</span> (<span class="k">true</span>) {
        <span class="k">auto</span> <span class="v">item</span> <span class="o">=</span> <span class="v">hero</span>.<span class="f">findNearestItem</span>();
        <span class="k">if</span> (<span class="v">item</span>) {
            <span class="c">// ç›´æ¥è¯»å– x å’Œ y</span>
            <span class="k">auto</span> <span class="v">ix</span> <span class="o">=</span> <span class="v">item</span>.<span class="p">pos</span>.<span class="p">x</span>;
            <span class="k">auto</span> <span class="v">iy</span> <span class="o">=</span> <span class="v">item</span>.<span class="p">pos</span>.<span class="p">y</span>;
            
            <span class="v">hero</span>.<span class="f">moveXY</span>(<span class="v">ix</span>, <span class="v">iy</span>);
        }
    }
    <span class="k">return</span> <span class="n">0</span>;
}</div>
                </div>
                <div class="col-visual">
                    <div style="font-size: 80px;">ğŸƒ ğŸ’¨ ğŸª™</div>
                    <p style="color: #888;">Follow the properties</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ‡</div>
                <h1>å˜é‡å­˜å‚¨åæ ‡ (Variables)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>åœ¨<b>ç™½å…”</b>å’Œ<b>ä¼ªè£…è€…</b>å…³å¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠåæ ‡å­˜åœ¨å˜é‡é‡Œï¼Œæ–¹ä¾¿å¤šæ¬¡ä½¿ç”¨ã€‚</p>
                    <div class="code-box"><span class="k">auto</span> <span class="v">item</span> <span class="o">=</span> <span class="v">hero</span>.<span class="f">findNearestItem</span>();
<span class="k">if</span> (<span class="v">item</span>) {
    <span class="k">auto</span> <span class="v">pos</span> <span class="o">=</span> <span class="v">item</span>.<span class="p">pos</span>; <span class="c">// å­˜ä¸‹ä½ç½®å¯¹è±¡</span>
    <span class="t">float</span> <span class="v">x</span> <span class="o">=</span> <span class="v">pos</span>.<span class="p">x</span>;     <span class="c">// æå– X</span>
    <span class="t">float</span> <span class="v">y</span> <span class="o">=</span> <span class="v">pos</span>.<span class="p">y</span>;     <span class="c">// æå– Y</span>
    
    <span class="v">hero</span>.<span class="f">moveXY</span>(<span class="v">x</span>, <span class="v">y</span>);
}</div>
                </div>
                <div class="col-visual">
                     <div style="font-size: 80px;">ğŸ“¦ = ğŸ“</div>
                     <div style="margin-top: 20px; text-align: center; color: #aaa; font-size: 14px;">
                         (æŠŠä½ç½®å­˜è¿›ç›’å­é‡Œ)
                     </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ¯</div>
                <h1>åæ ‡è¿ç®—ï¼šé£å‘æ ¡æ­£</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æœ‰æ—¶å€™ç›´æ¥ç„å‡†æ˜¯ä¸å¤Ÿçš„ï¼æˆ‘ä»¬éœ€è¦é¢„åˆ¤æˆ–è€…ä¿®æ­£ä½ç½®ã€‚</p>
                    <p>åœ¨<b>é£å‘æ ¡æ­£</b>å…³å¡ä¸­ï¼Œå¤§ç‚®éœ€è¦ç„å‡†æ•Œäºº<b>ä¸‹æ–¹</b>ä¸€ç‚¹ç‚¹ã€‚</p>
                    <div class="code-box"><span class="k">if</span> (<span class="v">enemy</span>) {
    <span class="c">// è·å–æ•Œäººä½ç½®ï¼Œä½† Y è½´å‡å» 4</span>
    <span class="t">float</span> <span class="v">aimY</span> <span class="o">=</span> <span class="v">enemy</span>.<span class="p">pos</span>.<span class="p">y</span> <span class="o">-</span> <span class="n">4</span>;
    <span class="k">auto</span> <span class="v">aimX</span> <span class="o">=</span> <span class="v">enemy</span>.<span class="p">pos</span>.<span class="p">x</span>;

    <span class="c">// æŠ¥å‘Šåæ ‡ï¼šæ•°å­—ä¼šè‡ªåŠ¨è½¬æ–‡å­—æ‹¼æ¥</span>
    <span class="v">hero</span>.<span class="f">say</span>(<span class="v">aimX</span> <span class="o">+</span> <span class="s">","</span> <span class="o">+</span> <span class="v">aimY</span>);
}</div>
                </div>
                <div class="col-visual" style="background: #1a1a1a;">
                    <div style="position: relative; width: 200px; height: 200px; border: 1px dashed #555;">
                        <div style="position: absolute; top: 40px; left: 100px; font-size: 30px;">ğŸ‘¹</div>
                        <div style="position: absolute; top: 80px; left: 105px; width: 20px; height: 20px; border: 2px solid var(--primary); border-radius: 50%;"></div>
                        <div style="position: absolute; top: 60px; left: 130px; color: var(--highlight); font-size: 14px;">y - 4</div>
                        <div style="position: absolute; height: 40px; border-left: 2px dotted var(--highlight); top: 50px; left: 115px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“</div>
                <h1>æ€»ç»“ (Recap)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <div class="card" style="border-color: var(--tok-prop);">
                        <b>è®¿é—®å±æ€§ï¼š</b><br>
                        <code>object.pos.x</code> (æ¨ªåæ ‡)<br>
                        <code>object.pos.y</code> (çºµåæ ‡)
                    </div>
                    <div class="card" style="border-color: var(--highlight);">
                        <b>åæ ‡ä¿®æ­£ï¼š</b><br>
                        <code>y - 4</code> (å‘ä¸‹ç§»)<br>
                        <code>x + 10</code> (å‘å³ç§»)
                    </div>
                    <div class="card" style="border-color: var(--tok-str);">
                        <b>å­—ç¬¦ä¸²æŠ¥å‘Šï¼š</b><br>
                        <code>hero.say(x + "," + y);</code>
                    </div>
                </div>
                <div class="col-visual" style="border: none; background: transparent;">
                    <div style="font-size: 120px; animation: pulse 2s infinite;">ğŸŒŸ</div>
                </div>
            </div>
        </div>

        <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    </div>

    <button class="nav-btn" id="btnNext" onclick="moveSlide(1)">â¯</button>
</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const progressBar = document.getElementById('progressBar');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    function updateUI() {
        slides.forEach((slide, index) => {
            slide.classList.toggle('active', index === currentSlide);
        });
        btnPrev.classList.toggle('disabled', currentSlide === 0);
        btnNext.classList.toggle('disabled', currentSlide === slides.length - 1);
        progressBar.style.width = `${((currentSlide + 1) / slides.length) * 100}%`;
    }

    function moveSlide(dir) {
        const next = currentSlide + dir;
        if (next >= 0 && next < slides.length) {
            currentSlide = next;
            updateUI();
        }
    }
    
    updateUI();
</script>

</body>
</html>