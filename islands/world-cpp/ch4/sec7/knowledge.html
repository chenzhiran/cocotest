<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬11-12å…³ï¼šè‡ªå®šä¹‰ç›®æ ‡ (C++)</title>
    <style>
        /* --- 1. åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-wood: #5D4037;        /* æ·±æœ¨çº¹ */
            --paper-bg: #FFF3E0;       /* ç¾Šçš®çº¸ */
            --ink-color: #3E2723;      /* å¢¨æ°´è‰² */
            --primary: #D84315;        /* ç«æ¼†çº¢ */
            --accent: #FFB300;         /* é‡‘è‰² */
            --success: #2E7D32;        /* æˆåŠŸç»¿ */
            
            /* ä»£ç é«˜äº® (C++ é£æ ¼) */
            --code-bg: #263238;
            --code-fg: #ECEFF1;
            --tok-func: #82B1FF;       /* å‡½æ•° */
            --tok-str: #C3E88D;        /* å­—ç¬¦ä¸² */
            --tok-kw: #FF8A80;         /* å…³é”®å­— */
            --tok-num: #F48FB1;        /* æ•°å­— */
            --tok-var: #FFCB6B;        /* å˜é‡ */
            --tok-cm: #546E7A;         /* æ³¨é‡Š */
            --tok-type: #BA68C8;       /* auto/void */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', 'Consolas', sans-serif;
            background-color: #3E2723;
            background-image: 
                linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
        }

        /* --- 2. èˆå°å¸ƒå±€ --- */
        .stage {
            display: flex; align-items: center; justify-content: center; gap: 60px;
            width: 98vw; max-width: 1400px; position: relative; z-index: 10;
        }

        /* --- 3. ç«æ¼†å°ç« æŒ‰é’® --- */
        .nav-btn {
            width: 90px; height: 90px; background: #B71C1C; border: 4px solid #D32F2F;
            border-radius: 45% 55% 50% 50% / 50% 45% 55% 50%; /* ä¸è§„åˆ™è¾¹ç¼˜ */
            cursor: pointer; position: relative;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 10px 20px rgba(0,0,0,0.5);
            transition: all 0.1s; display: flex; align-items: center; justify-content: center;
            color: #FFCDD2; font-size: 40px; font-weight: bold;
        }
        
        .nav-btn::before {
            content: ''; position: absolute; width: 70px; height: 70px;
            border: 2px dashed rgba(255,255,255,0.3); border-radius: 50%;
        }

        .nav-btn:hover { transform: scale(1.05); background: #C62828; }
        .nav-btn:active { transform: scale(0.95); box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
        .disabled { opacity: 0.5; filter: grayscale(1); pointer-events: none; }

        /* --- 4. ä»»åŠ¡å…¬å‘Šæ¿å®¹å™¨ --- */
        .board-container {
            width: 960px; height: 600px; background: #6D4C41; border-radius: 15px;
            border: 20px solid #4E342E;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.5), 0 30px 60px rgba(0,0,0,0.7);
            position: relative; overflow: hidden; display: flex; flex-direction: column;
        }

        .wood-texture {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: repeating-linear-gradient(90deg, transparent, transparent 50px, rgba(0,0,0,0.05) 50px, rgba(0,0,0,0.05) 53px);
            pointer-events: none; z-index: 0;
        }

        .title-paper {
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%) rotate(-2deg);
            background: #FFF9C4; padding: 10px 40px; color: #3E2723;
            font-family: 'Courier New', monospace; font-weight: bold; font-size: 20px;
            box-shadow: 2px 5px 10px rgba(0,0,0,0.3); z-index: 20; text-align: center;
        }
        .pin {
            width: 15px; height: 15px; background: #D32F2F; border-radius: 50%;
            position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        /* å¹»ç¯ç‰‡ */
        .slide {
            display: none; flex: 1; margin: 80px 40px 40px 40px;
            background: var(--paper-bg); padding: 40px 50px;
            box-shadow: 5px 10px 20px rgba(0,0,0,0.2); transform: rotate(1deg); z-index: 10;
            flex-direction: column; animation: paperFloat 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow-y: auto; position: relative;
        }
        .slide.active { display: flex; }
        @keyframes paperFloat { 
            0% { opacity: 0; transform: translateY(50px) rotate(5deg); } 
            100% { opacity: 1; transform: translateY(0) rotate(1deg); } 
        }

        /* å†…å®¹å¸ƒå±€ */
        .header {
            display: flex; align-items: center; margin-bottom: 20px;
            border-bottom: 2px solid #8D6E63; padding-bottom: 10px;
        }
        .icon { font-size: 50px; margin-right: 20px; }
        h1 { margin: 0; color: #BF360C; font-size: 34px; letter-spacing: 1px; font-family: cursive; }

        .layout { display: flex; gap: 40px; height: 100%; }
        .col-text { flex: 1.1; font-size: 19px; line-height: 1.7; color: #3E2723; }
        .col-visual { 
            flex: 0.9; background: rgba(0,0,0,0.05); border: 2px dashed #8D6E63;
            border-radius: 10px; display: flex; justify-content: center; align-items: center;
            position: relative; overflow: hidden;
        }

        /* C++ ä»£ç å— */
        .code-box {
            background: var(--code-bg); color: var(--code-fg); padding: 15px 20px;
            border-radius: 5px; font-family: 'Consolas', monospace; font-size: 17px;
            margin-top: 15px; border-left: 5px solid var(--accent);
            box-shadow: 3px 3px 5px rgba(0,0,0,0.2); position: relative; white-space: pre; overflow-x: auto;
        }
        
        .k { color: var(--tok-kw); font-weight: bold; }
        .f { color: var(--tok-func); }
        .v { color: var(--tok-var); }
        .s { color: var(--tok-str); }
        .n { color: var(--tok-num); }
        .c { color: var(--tok-cm); font-style: italic; font-size: 0.9em; }
        .t { color: var(--tok-type); font-weight: bold; }

        /* å¡ç‰‡ */
        .card {
            background: #FFF8E1; border-left: 5px solid var(--primary);
            color: #BF360C; padding: 15px 20px; margin-bottom: 15px;
            font-size: 18px; font-weight: bold; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* ä»»åŠ¡å¡ç‰‡ */
        .quest-card {
            width: 220px; background: white; padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); position: relative;
            font-family: 'Courier New', monospace; font-weight: bold; transition: all 0.3s;
        }
        .quest-header { border-bottom: 2px solid #333; margin-bottom: 10px; padding-bottom: 5px; text-transform: uppercase; font-size: 14px; color: #555; }
        .quest-body { font-size: 16px; color: #333; margin-bottom: 10px; }
        .quest-status { display: flex; justify-content: flex-end; }
        .checkbox { width: 20px; height: 20px; border: 2px solid #333; display: flex; justify-content: center; align-items: center; }
        
        .stamp {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-20deg) scale(2);
            border: 5px solid var(--success); color: var(--success); padding: 10px 20px;
            font-size: 30px; font-weight: bold; text-transform: uppercase; opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: none;
            background: rgba(255,255,255,0.8);
        }
        .quest-card.completed .stamp { opacity: 1; transform: translate(-50%, -50%) rotate(-20deg) scale(1); }
        .quest-card.completed .checkbox::after { content: 'âœ”'; font-size: 20px; color: var(--success); }

        /* åŠ¨ç”» */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

    </style>
</head>
<body>

<div class="stage">
    <button class="nav-btn" id="btnPrev" onclick="moveSlide(-1)">â®</button>

    <div class="board-container">
        <div class="wood-texture"></div>
        <div class="title-paper">
            <div class="pin"></div>
            æ¸¸æˆå¼€å‘ 2 | ç¬¬ 11-12 å…³
        </div>

        <div class="slide active" style="justify-content: center; align-items: center; text-align: center;">
            <div style="font-size: 100px; margin-bottom: 20px; animation: float 3s infinite;">ğŸ“œ</div>
            <h1 style="font-size: 50px; margin: 10px 0; color: #3E2723;">è‡ªå®šä¹‰æ¸¸æˆç›®æ ‡</h1>
            <h2 style="font-size: 24px; color: #D84315; font-weight: bold; margin-top: 0; font-family: 'Courier New';">Custom Game Goals</h2>
            <div style="margin-top: 40px; display: flex; gap: 30px;">
                <div style="padding: 15px 30px; background: #FFECB3; color: #F57F17; border: 2px dashed #F57F17; border-radius: 5px; font-weight: bold; font-size: 20px;">âœï¸ æ‰‹åŠ¨æ·»åŠ </div>
                <div style="padding: 15px 30px; background: #C8E6C9; color: #2E7D32; border: 2px solid #2E7D32; border-radius: 5px; font-weight: bold; font-size: 20px;">âœ… æ ‡è®°å®Œæˆ</div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ¯</div>
                <h1>æ¸¸æˆç›®æ ‡ï¼šå†…ç½® vs è‡ªå®šä¹‰</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»¥å‰æˆ‘ä»¬ç”¨<b>å†…ç½®ç›®æ ‡</b>ï¼ˆç³»ç»Ÿå¸®æˆ‘ä»¬æ”¹ä½œä¸šï¼‰ï¼š</p>
                    <ul style="list-style: none; padding: 0; color: #795548;">
                        <li>ğŸ›¡ï¸ survive (æ´»ä¸‹æ¥)</li>
                        <li>âš”ï¸ defeat (æ‰“å€’å‡ ä¸ª)</li>
                        <li>ğŸ’ collect (æ”¶é›†å‡ ä¸ª)</li>
                    </ul>
                    <div class="card" style="background: #E1F5FE; border-color: #0288D1; color: #01579B;">
                        âœ¨ <b>è‡ªå®šä¹‰ç›®æ ‡ (Manual Goal)ï¼š</b><br>
                        ä½ è‡ªå·±å†™â€œä»»åŠ¡è¯´æ˜â€ï¼Œè‡ªå·±å†™ä»£ç åˆ¤æ–­â€œå®Œæˆæ²¡â€ã€‚<br>
                        å°±åƒä½ è‡ªå·±ç»™è‡ªå·±åˆ—çš„ä»»åŠ¡æ¸…å•ï¼
                    </div>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; gap: 20px; align-items: center;">
                        <div style="background: #EEE; padding: 10px; width: 200px; text-align: center; color: #999;">ç³»ç»Ÿè‡ªåŠ¨æ‰¹æ”¹</div>
                        <div style="font-size: 30px;">ğŸ†š</div>
                        <div class="quest-card">
                            <div class="quest-header">æˆ‘çš„ä»»åŠ¡å•</div>
                            <div class="quest-body">æ‰“è´¥é‚£ä¸ªå¤§é­”ç‹!</div>
                            <div class="quest-status"><div class="checkbox"></div></div>
                            <div style="position:absolute; right: -30px; bottom: -10px; transform: rotate(-15deg); font-size: 40px;">âœï¸</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“Œ</div>
                <h1>æ·»åŠ ä»»åŠ¡å¡: addManualGoal</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æˆ‘ä»¬è¦å…ˆåœ¨å±å¹•ä¸Šè´´ä¸€å¼ â€œä»»åŠ¡å¡â€ã€‚</p>
                    <div class="code-box">
<span class="c">// è¿”å›ä¸€ä¸ªç›®æ ‡å¯¹è±¡(Goal Object)</span>
<span class="t">auto</span> <span class="v">bossGoal</span> = <span class="v">game</span>.<span class="f">addManualGoal</span>(<span class="s">"æ‰“è´¥å¤§é­”ç‹!"</span>);
                    </div>
                    <p style="margin-top: 15px;">
                        1. æ˜¾ç¤ºæ–‡å­—ç»™ç©å®¶çœ‹ã€‚<br>
                        2. æŠŠè¿™å¼ â€œå¡â€å­˜åˆ°å˜é‡ <code>bossGoal</code> é‡Œï¼Œä»¥åè¦ç”¨å®ƒæ¥ç›–ç« ã€‚
                    </p>
                </div>
                <div class="col-visual">
                    <div class="quest-card" id="demoCard1">
                        <div class="quest-header">ä»»åŠ¡ç›®æ ‡</div>
                        <div class="quest-body">æ‰“è´¥å¤§é­”ç‹!</div>
                        <div class="quest-status"><div class="checkbox"></div></div>
                    </div>
                    <div style="position: absolute; bottom: 10px; font-size: 14px; color: #795548;">å˜é‡ bossGoal æ‹¿ç€è¿™å¼ å¡</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’®</div>
                <h1>ç›–ç« ï¼šsetGoalState</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>å½“ä»»åŠ¡è¾¾æˆæ—¶ï¼Œæˆ‘ä»¬è¦å‘Šè¯‰æ¸¸æˆï¼šè¿™å¼ å¡å®Œæˆäº†ï¼</p>
                    <div class="code-box">
<span class="c">// ç›®æ ‡, çŠ¶æ€(true=å®Œæˆ)</span>
<span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">bossGoal</span>, <span class="k">true</span>);
                    </div>
                    <div class="card">
                        true = âœ… å®Œæˆ<br>
                        false = â¬œ æœªå®Œæˆ
                    </div>
                </div>
                <div class="col-visual">
                    <div class="quest-card" id="demoCard2" onclick="toggleStamp(this)" style="cursor: pointer;">
                        <div class="quest-header">ä»»åŠ¡ç›®æ ‡</div>
                        <div class="quest-body">æ‰“è´¥å¤§é­”ç‹!</div>
                        <div class="quest-status"><div class="checkbox"></div></div>
                        <div class="stamp">SUCCESS</div>
                    </div>
                    <div style="position: absolute; bottom: 10px; font-size: 14px; color: #795548;">ç‚¹å‡»å¡ç‰‡æ¨¡æ‹Ÿä»£ç æ‰§è¡Œ</div>
                    <script>
                        function toggleStamp(el) {
                            el.classList.toggle('completed');
                        }
                    </script>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ¹</div>
                <h1>å®ä¾‹ Iï¼šæ‰“å…‰ä¾¦å¯Ÿå…µ (è®¡æ•°å™¨)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»»åŠ¡ï¼šæ‰“è´¥ 3 ä¸ªä¾¦å¯Ÿå…µã€‚</p>
                    <div class="code-box" style="font-size: 14px;">
<span class="t">auto</span> <span class="v">count</span> = <span class="n">0</span>;
<span class="t">auto</span> <span class="f">onDefeat</span>(<span class="t">auto</span> event) {
    <span class="k">if</span>(event.target.type == <span class="s">"scout"</span>) {
        <span class="v">count</span> += <span class="n">1</span>;
    }
    <span class="k">if</span>(<span class="v">count</span> >= <span class="n">3</span>) {
        <span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">scoutGoal</span>, <span class="k">true</span>);
    }
}
                    </div>
                    <p style="margin-top: 10px;">æ¯æ¬¡æ‰“å€’ä¸€ä¸ªï¼Œè®¡æ•°å™¨ +1ï¼Œå¤Ÿäº†å°±ç›–ç« ï¼</p>
                </div>
                <div class="col-visual">
                    
                    <div style="font-size: 40px;">ğŸ’‚â€â™‚ï¸ ğŸ’‚â€â™‚ï¸ ğŸ’‚â€â™‚ï¸ â¡ï¸ âœ…</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ‘¹</div>
                <h1>å®ä¾‹ IIï¼šæ‰“è´¥å¤§ Boss</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä»»åŠ¡ï¼šåªè¦æ‰“å€’é‚£ä¸ªå¤§å®¶ä¼™ï¼</p>
                    <div class="code-box" style="font-size: 14px;">
<span class="t">auto</span> <span class="f">onDefeat</span>(<span class="t">auto</span> event) {
    <span class="t">auto</span> <span class="v">unit</span> = event.target;
    <span class="c">// æ£€æŸ¥ç±»å‹æ˜¯ä¸æ˜¯ Boss</span>
    <span class="k">if</span>(<span class="v">unit</span>.type == <span class="s">"ogre"</span>) {
        <span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">bossGoal</span>, <span class="k">true</span>);
        <span class="v">hero</span>.<span class="f">say</span>(<span class="s">"Bosså·²æ­»!"</span>);
    }
}
                    </div>
                </div>
                <div class="col-visual">
                    
                    <div style="font-size: 60px;">ğŸ‘¹ ğŸ’€</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ›‘</div>
                <h1>å®ä¾‹ IIIï¼šç›®æ ‡ä¾èµ– (åˆ«ç¢°ä»–ä»¬)</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æœ‰äº›ç›®æ ‡éœ€è¦ç­‰åˆ°æœ€åæ‰ç®—èµ¢ã€‚</p>
                    <p>ä»»åŠ¡ï¼šä¸è¦æ‰“çŸ®äºº (munchkin)ã€‚</p>
                    <div class="code-box" style="font-size: 13px;">
<span class="t">auto</span> <span class="f">checkGoals</span>() {
    <span class="c">// 1. å¦‚æœå¦‚æœä¸å°å¿ƒæ‰“äº†çŸ®äºº -> å¤±è´¥</span>
    <span class="k">if</span> (<span class="v">game</span>.killedMunchkins > <span class="n">0</span>) {
        <span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">dontTouchGoal</span>, <span class="k">false</span>);
    }
    
    <span class="c">// 2. åªæœ‰å½“å…¶ä»–ç›®æ ‡éƒ½å®Œæˆäº†ï¼Œè¿™ä¸ªæ‰ç®—èµ¢</span>
    <span class="k">if</span> (<span class="v">otherGoal</span>.success) {
        <span class="v">game</span>.<span class="f">setGoalState</span>(<span class="v">dontTouchGoal</span>, <span class="k">true</span>);
    }
}
                    </div>
                </div>
                <div class="col-visual">
                    
                    <div style="font-size: 40px;">ğŸ”— âœ… -> âœ… -> ğŸ†</div>
                </div>
            </div>
        </div>

        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“œ</div>
                <h1>ä»»åŠ¡å¤§å¸ˆå£è¯€</h1>
            </div>
            <div class="layout">
                <div class="col-text" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                    <div class="card" style="background: #FFF3E0; border-color: #FF9800; color: #E65100;">
                        "å…ˆå†™ <b>ManualGoal</b> ä»»åŠ¡å¡ï¼Œ<br>
                        å†™ä¸Šè¯´æ˜æŒ‚å¢™ä¸Šã€‚"
                    </div>
                    <div class="card" style="background: #E8F5E9; border-color: #4CAF50; color: #1B5E20; margin-top: 20px;">
                        "å†™å¥½åˆ¤æ–­ <b>if</b> æ¡ä»¶ï¼Œ<br>
                        è¾¾æˆæ¡ä»¶ <b>true</b> ç›–ç« ï¼"
                    </div>
                </div>
                <div class="col-visual" style="border: none; background: transparent; box-shadow: none;">
                    <div style="font-size: 120px; animation: paperFloat 3s infinite;">ğŸ…</div>
                </div>
            </div>
        </div>

    </div>

    <button class="nav-btn" id="btnNext" onclick="moveSlide(1)">â¯</button>

</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    function updateUI() {
        slides.forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });

        btnPrev.classList.toggle('disabled', currentSlide === 0);
        btnNext.classList.toggle('disabled', currentSlide === totalSlides - 1);
    }

    function moveSlide(dir) {
        const nextIndex = currentSlide + dir;
        if (nextIndex >= 0 && nextIndex < totalSlides) {
            currentSlide = nextIndex;
            updateUI();
        }
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') moveSlide(-1);
        if (e.key === 'ArrowRight') moveSlide(1);
    });

    updateUI();
</script>

</body>
</html>