<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬9-10å…³ æ¸¸æˆäº‹ä»¶ï¼šdefeat</title>
    <style>
        /* --- 1. åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-color: #2d3436;       /* åœ°ç‰¢ç° */
            --board-bg: #f5f6fa;       /* å·è½´ç™½ */
            --primary: #d63031;        /* é²œè¡€çº¢ (Defeat) */
            --secondary: #feca57;      /* é‡‘å¸é»„ */
            --accent: #0984e3;         /* é­”æ³•è“ */
            --text-main: #2d3436;
            --text-sub: #636e72;
            
            /* ä»£ç é«˜äº® */
            --code-bg: #1e272e;
            --code-fg: #d2dae2;
            --tok-def: #ff7675;        /* def */
            --tok-func: #74b9ff;       /* å‡½æ•°å */
            --tok-var: #ffeaa7;        /* å˜é‡ */
            --tok-kw: #a29bfe;         /* å…³é”®å­— */
            --tok-num: #55efc4;        /* æ•°å­— */
            --tok-cm: #b2bec3;         /* æ³¨é‡Š */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', 'Comic Sans MS', sans-serif;
            background-color: var(--bg-color);
            /* åœ°ç‰¢ç –å—èƒŒæ™¯ */
            background-image: 
                linear-gradient(335deg, rgba(0,0,0,0.3) 23px, transparent 23px),
                linear-gradient(155deg, rgba(0,0,0,0.3) 23px, transparent 23px),
                linear-gradient(335deg, rgba(0,0,0,0.3) 23px, transparent 23px),
                linear-gradient(155deg, rgba(0,0,0,0.3) 23px, transparent 23px);
            background-size: 58px 58px;
            background-position: 0px 2px, 4px 35px, 29px 31px, 34px 6px;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
        }

        /* --- 2. èˆå°å¸ƒå±€ --- */
        .stage {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 60px;
            width: 98vw;
            max-width: 1400px;
            position: relative;
            z-index: 10;
        }

        /* --- 3. RPG é£æ ¼æŒ‰é’® (å¤–éƒ¨) --- */
        .nav-btn {
            width: 90px;
            height: 90px;
            background: none;
            border: none;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5));
        }

        .nav-btn span {
            font-size: 60px;
            z-index: 2;
            transition: transform 0.2s;
        }

        .nav-btn:hover span { transform: scale(1.2); }
        .nav-btn:active { transform: scale(0.95) translateY(5px); }
        
        .btn-prev span { transform: rotate(-15deg); } /* ç›¾ç‰Œ */
        .btn-next span { transform: rotate(45deg); } /* å‰‘ */

        .disabled { opacity: 0.3; filter: grayscale(1); pointer-events: none; }

        /* --- 4. é­”æ³•å·è½´å®¹å™¨ --- */
        .scroll-container {
            width: 960px;
            height: 600px;
            background: var(--board-bg);
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            /* å·è½´è¾¹ç¼˜æ•ˆæœ */
            border-top: 20px solid #d2b48c;
            border-bottom: 20px solid #d2b48c;
            border-radius: 5px;
        }
        
        /* å·è½´è½´å¤´ */
        .scroll-container::before, .scroll-container::after {
            content: '';
            position: absolute;
            left: -40px;
            width: 1040px; /* å®½äºå®¹å™¨ */
            height: 30px;
            background: #8b4513;
            border-radius: 15px;
            box-shadow: inset 0 5px 10px rgba(0,0,0,0.3), 5px 5px 10px rgba(0,0,0,0.3);
            z-index: 20;
        }
        .scroll-container::before { top: -35px; }
        .scroll-container::after { bottom: -35px; }

        /* åœ°å›¾å¾½ç«  */
        .map-badge {
            position: absolute;
            top: -10px;
            left: 30px;
            background: #2d3436;
            color: #fab1a0;
            padding: 5px 20px;
            font-family: monospace;
            font-weight: bold;
            border-radius: 0 0 10px 10px;
            z-index: 15;
            border: 2px solid #d2b48c;
            border-top: none;
            box-shadow: 0 5px 5px rgba(0,0,0,0.2);
        }

        /* å¹»ç¯ç‰‡ */
        .slide {
            display: none;
            flex: 1;
            padding: 40px 70px;
            flex-direction: column;
            animation: fadeIn 0.6s ease-out;
            overflow-y: auto;
            background-image: radial-gradient(#ccc 1px, transparent 1px); /* çº¸å¼ çº¹ç† */
            background-size: 20px 20px;
        }
        .slide.active { display: flex; }

        @keyframes fadeIn { 
            0% { opacity: 0; } 
            100% { opacity: 1; } 
        }

        /* å†…å®¹å¸ƒå±€ */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 3px double #8b4513;
            padding-bottom: 10px;
        }
        .icon { font-size: 50px; margin-right: 20px; filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.2)); }
        h1 { margin: 0; color: #2c3e50; font-size: 36px; letter-spacing: 1px; }
        .page-num { margin-left: auto; font-family: 'Courier New', monospace; font-weight: bold; color: #8b4513; }

        .layout { display: flex; gap: 40px; height: 100%; }
        .col-text { flex: 1.1; font-size: 19px; line-height: 1.7; color: var(--text-main); }
        .col-visual { 
            flex: 0.9; 
            background: #34495e;
            border-radius: 15px; 
            border: 4px solid #2c3e50; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
        }

        /* ä»£ç å— */
        .code-box {
            background: var(--code-bg);
            color: var(--code-fg);
            padding: 15px 20px;
            border-radius: 5px;
            font-family: 'Consolas', monospace;
            font-size: 17px;
            margin-top: 15px;
            border-left: 5px solid var(--primary);
            box-shadow: 5px 5px 10px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .k { color: var(--tok-kw); font-weight: bold; } 
        .f { color: var(--tok-func); } 
        .v { color: var(--tok-var); } 
        .n { color: var(--tok-num); }
        .c { color: var(--tok-cm); font-style: italic; font-size: 0.9em; } 
        .d { color: var(--tok-def); font-weight: bold; }

        /* å¡ç‰‡ */
        .card {
            background: #fff5e6;
            border-left: 5px solid var(--secondary);
            color: #d35400;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 0 5px 5px 0;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* --- 5. è§†è§‰åŒ–ç»„ä»¶ --- */
        
        /* å‡»è´¥äº‹ä»¶æ¼”ç¤º */
        .battle-scene {
            position: relative; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .enemy {
            font-size: 60px; cursor: pointer; transition: all 0.2s; position: absolute;
            animation: idle 2s infinite;
        }
        .enemy:hover { transform: scale(1.1); }
        .coin {
            font-size: 30px; position: absolute; animation: drop 0.5s forwards;
        }
        
        @keyframes idle { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        @keyframes drop { 0% { transform: translateY(0) scale(0.5); opacity: 0; } 50% { transform: translateY(-20px) scale(1.2); opacity: 1; } 100% { transform: translateY(0) scale(1); opacity: 1; } }
        @keyframes die { 0% { transform: scale(1) rotate(0); opacity: 1; } 100% { transform: scale(0) rotate(180deg); opacity: 0; } }

        /* éšæœºèŒƒå›´æ¼”ç¤º */
        .grid-box {
            width: 200px; height: 200px; border: 2px dashed rgba(255,255,255,0.3);
            position: relative; background: rgba(255,255,255,0.05);
        }
        .center-unit {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 40px; z-index: 2;
        }
        .drop-zone {
            position: absolute; top: 50%; left: 50%; width: 100px; height: 100px;
            background: rgba(254, 202, 87, 0.2); transform: translate(-50%, -50%);
            border: 1px solid var(--secondary); box-sizing: border-box;
        }
        .random-coin {
            position: absolute; font-size: 20px; animation: pop 0.3s;
        }

        /* è®¡æ•°å™¨æ¼”ç¤º */
        .counter-box {
            background: #222; padding: 10px 20px; border-radius: 10px; color: var(--secondary);
            font-family: monospace; font-size: 24px; border: 2px solid #444; margin-bottom: 10px;
        }
        .btn-action {
            padding: 5px 15px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; color: white; margin: 5px;
        }
        .btn-add { background: var(--accent); }
        .btn-sub { background: var(--primary); }

        /* Hydra æ¼”ç¤º */
        .hydra-container {
            width: 100%; height: 100%; position: relative;
        }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            width: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            width: 0%;
            transition: width 0.3s;
        }

        @keyframes pop { 0% { transform: scale(0); } 80% { transform: scale(1.2); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

<div class="stage">
    <!-- å·¦æŒ‰é’® -->
    <button class="nav-btn btn-prev" id="btnPrev" onclick="moveSlide(-1)">
        <span>ğŸ›¡ï¸</span>
    </button>

    <!-- å·è½´å®¹å™¨ -->
    <div class="scroll-container">
        <div class="map-badge">ğŸ—ºï¸ æ¸¸æˆå¼€å‘ 2 | ç¬¬ 9-10 å…³</div>

        <!-- Slide 1: å°é¢ -->
        <div class="slide active" style="justify-content: center; align-items: center; text-align: center;">
            <div style="font-size: 100px; margin-bottom: 20px; animation: idle 2s infinite;">â˜ ï¸</div>
            <h1 style="font-size: 50px; margin: 10px 0; color: var(--primary);">æ¸¸æˆäº‹ä»¶ï¼šDefeat</h1>
            <h2 style="font-size: 26px; color: var(--text-main); font-weight: bold; margin-top: 0;">è¢«å‡»è´¥çš„è‰ºæœ¯</h2>
            <div style="margin-top: 40px; display: flex; gap: 30px;">
                <div style="padding: 15px 30px; background: var(--secondary); color: #d35400; border-radius: 10px; font-weight: bold; font-size: 20px; box-shadow: 0 5px 0 #e67e22;">ğŸ’° æ‰è½é‡‘å¸</div>
                <div style="padding: 15px 30px; background: var(--accent); color: white; border-radius: 10px; font-weight: bold; font-size: 20px; box-shadow: 0 5px 0 #0984e3;">ğŸ² ä¹å¤´è›‡</div>
            </div>
        </div>

        <!-- Slide 2: ä»€ä¹ˆæ˜¯ defeat -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ’€</div>
                <h1>ä»€ä¹ˆæ˜¯ "defeat" äº‹ä»¶ï¼Ÿ</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p><b>Defeat</b> æ„å‘³ç€ä¸€ä¸ªå•ä½çš„ç”Ÿå‘½å€¼å˜æˆäº† 0ã€‚</p>
                    <p>å½“å°æ€ªå…½å€’ä¸‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è§¦å‘ä¸€ä¸ªâ€œé—è¨€è„šæœ¬â€ï¼š</p>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 10px;">âœ¨ <b>æ‰è½ç‰©å“</b>ï¼šçˆ†å‡ºä¸€åœ°é‡‘å¸ï¼</li>
                        <li style="margin-bottom: 10px;">ğŸ‘» <b>åˆ†è£‚é‡ç”Ÿ</b>ï¼šåƒä¹å¤´è›‡ä¸€æ ·å˜å‡ºä¸¤ä¸ªï¼</li>
                        <li>ğŸ“Š <b>æ›´æ–°æ•°æ®</b>ï¼šè®¡åˆ†æ¿ +1ã€‚</li>
                    </ul>
                </div>
                <div class="col-visual">
                    <div class="battle-scene" id="basicDemo">
                        <div class="enemy" onclick="killEnemy(this)" style="cursor: pointer;">ğŸ‘¾</div>
                        <div style="position: absolute; bottom: 20px; color: #bdc3c7; font-size: 14px;">ç‚¹å‡»æ€ªå…½å‡»è´¥å®ƒ!</div>
                    </div>
                    <script>
                        function killEnemy(el) {
                            // æ­»äº¡åŠ¨ç”»
                            el.style.animation = 'die 0.5s forwards';
                            // æ‰é‡‘å¸
                            const coin = document.createElement('div');
                            coin.className = 'coin';
                            coin.innerHTML = 'ğŸª™';
                            coin.style.left = el.style.left || 'auto';
                            coin.style.top = el.style.top || 'auto';
                            el.parentNode.appendChild(coin);
                            
                            // é‡ç”Ÿ
                            setTimeout(() => {
                                el.style.animation = 'idle 2s infinite';
                                coin.remove();
                            }, 1500);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 3: onDefeat å‡½æ•° -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ“œ</div>
                <h1>onDefeatï¼šé—è¨€è„šæœ¬</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥å¤„ç†â€œèº«åäº‹â€ã€‚</p>
                    <div class="code-box">
                        <span class="d">def</span> <span class="f">onDefeat</span>(event):<br>
                        &nbsp;&nbsp;<span class="c"># event.target æ˜¯è°è¢«æ‰“å€’äº†ï¼Ÿ</span><br>
                        &nbsp;&nbsp;<span class="v">unit</span> = event.target<br>
                        &nbsp;&nbsp;<span class="c"># åœ¨å°¸ä½“ä½ç½®ç”Ÿæˆé‡‘å¸</span><br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"gold-coin"</span>, <span class="v">unit</span>.pos.x, <span class="v">unit</span>.pos.y)
                    </div>
                    <div class="card">
                        event.target = å€’éœ‰è›‹ (ä¸»è§’)<br>
                        unit.pos = å€’ä¸‹çš„åœ°ç‚¹
                    </div>
                </div>
                <div class="col-visual">
                    <div style="text-align: center;">
                        <div style="font-size: 60px;">âš°ï¸ â¡ï¸ ğŸ’°</div>
                        <p style="color: #bdc3c7;">ç‰ºç‰²å°æ€ªï¼Œé€ ç¦ç©å®¶</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: éšæœºæ‰è½ä½ç½® -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ²</div>
                <h1>é‡‘å¸æ‰åœ¨â€œé™„è¿‘â€</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>ä¸ºäº†æ›´çœŸå®ï¼Œé‡‘å¸ä¸åº”è¯¥è·Ÿå°¸ä½“å®Œå…¨é‡å ï¼Œè€Œæ˜¯â€œçˆ†â€åœ¨æ—è¾¹ã€‚</p>
                    <div class="code-box">
                        <span class="c"># åŸåœ° x åŠ ä¸Š -5 åˆ° 5 çš„éšæœºåç§»</span><br>
                        <span class="v">x</span> = <span class="v">unit</span>.pos.x + <span class="v">game</span>.<span class="f">randomInteger</span>(<span class="n">-5</span>, <span class="n">5</span>)<br>
                        <span class="v">y</span> = <span class="v">unit</span>.pos.y + <span class="v">game</span>.<span class="f">randomInteger</span>(<span class="n">-5</span>, <span class="n">5</span>)<br>
                        <span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"gold-coin"</span>, <span class="v">x</span>, <span class="v">y</span>)
                    </div>
                </div>
                <div class="col-visual">
                    <div class="grid-box" id="dropZone">
                        <div class="drop-zone"></div>
                        <div class="center-unit">ğŸ‘¾</div>
                    </div>
                    <div style="position: absolute; bottom: 10px;">
                        <button class="btn-action btn-add" onclick="spawnRandomCoin()">çˆ†é‡‘å¸!</button>
                    </div>
                    <script>
                        function spawnRandomCoin() {
                            const zone = document.getElementById('dropZone');
                            const coin = document.createElement('div');
                            coin.className = 'random-coin';
                            coin.innerHTML = 'ğŸª™';
                            // Random within 100x100 center area (visualizing -5 to 5 range)
                            const offset = 50; 
                            const randX = Math.random() * 100 - 50;
                            const randY = Math.random() * 100 - 50;
                            
                            coin.style.left = (100 + randX) + 'px';
                            coin.style.top = (100 + randY) + 'px';
                            zone.appendChild(coin);
                            setTimeout(() => coin.remove(), 1000);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 5: æ‰¹é‡åº”ç”¨è„šæœ¬ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ”—</div>
                <h1>å…¨å‘˜åº”ç”¨ï¼šsetActionFor</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>å†™å¥½è„šæœ¬åï¼Œåˆ«å¿˜äº†æŒ‚è½½åˆ°äº‹ä»¶ä¸Šã€‚</p>
                    <div class="code-box">
                        <span class="v">game</span>.<span class="f">setActionFor</span>(<span class="s">"munchkin"</span>, <span class="s">"defeat"</span>, onDefeat)
                    </div>
                    <p style="margin-top: 20px;">
                        è¿™å¥è¯çš„æ„æ€æ˜¯ï¼š<br>
                        â€œæ‰€æœ‰ <b>munchkin</b>ï¼Œåªè¦ <b>defeat</b> (è¢«æ‰“è´¥)ï¼Œå°±æ‰§è¡Œ <b>onDefeat</b>ã€‚â€
                    </p>
                    <div class="card" style="background: #e3f2fd; color: #0984e3; border-color: #0984e3;">
                        å¯¹æ¯”ï¼š<br>
                        "spawn" ç®¡å‡ºç”Ÿï¼ˆè®¾ç½®å±æ€§ï¼‰<br>
                        "defeat" ç®¡æ­»äº¡ï¼ˆæ‰è½å¥–åŠ±ï¼‰
                    </div>
                </div>
                <div class="col-visual">
                    <div style="font-size: 50px;">ğŸ“ ğŸ“ ğŸ’€</div>
                </div>
            </div>
        </div>

        <!-- Slide 6: è¿›é˜¶ - è®¡æ•°å™¨ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ§®</div>
                <h1>è¿›é˜¶ï¼šæ¸¸æˆè®¡æ•°å™¨</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>æˆ‘ä»¬éœ€è¦å˜é‡æ¥ç»Ÿè®¡æˆ˜å†µï¼š</p>
                    <div class="code-box">
                        <span class="v">game</span>.defeated += <span class="n">1</span>  <span class="c"># æ‰“è´¥æ•° +1 (ç´¯è®¡)</span><br>
                        <span class="v">game</span>.toDefeat -= <span class="n">1</span>  <span class="c"># å‰©ä½™æ•° -1 (å€’æ•°)</span>
                    </div>
                    <p style="margin-top: 15px;">
                        <b>+= 1</b>ï¼šåœ¨åŸæ¥åŸºç¡€ä¸ŠåŠ ä¸€<br>
                        <b>-= 1</b>ï¼šåœ¨åŸæ¥åŸºç¡€ä¸Šå‡ä¸€
                    </p>
                </div>
                <div class="col-visual">
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div class="counter-box" id="scoreDisplay">Kill: 0</div>
                        <div class="counter-box" id="remainDisplay">Left: 10</div>
                        <div>
                            <button class="btn-action btn-add" onclick="updateCount(1)">å‡»æ€ (+1)</button>
                            <button class="btn-action btn-sub" onclick="updateCount(-1)">æ’¤é”€</button>
                        </div>
                    </div>
                    <script>
                        let kills = 0;
                        let left = 10;
                        function updateCount(change) {
                            kills += change;
                            left -= change;
                            if(kills < 0) { kills = 0; left = 10; }
                            document.getElementById('scoreDisplay').innerText = `Kill: ${kills}`;
                            document.getElementById('remainDisplay').innerText = `Left: ${left}`;
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 7: ä¹å¤´è›‡é­”æ³• (Hydra) -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ²</div>
                <h1>ä¹å¤´è›‡é­”æ³•ï¼šä¸€å˜äºŒï¼</h1>
            </div>
            <div class="layout">
                <div class="col-text">
                    <p>åœ¨ <code>onDefeat</code> é‡Œç”Ÿæˆä¸¤ä¸ªæ–°æ•Œäººï¼Œå°±èƒ½å®ç°â€œç æ‰ä¸€ä¸ªå¤´ï¼Œé•¿å‡ºä¸¤ä¸ªå¤´â€çš„æ•ˆæœï¼</p>
                    <div class="code-box" style="font-size: 14px;">
                        <span class="d">def</span> <span class="f">onDefeat</span>(event):<br>
                        &nbsp;&nbsp;<span class="v">unit</span> = event.target<br>
                        &nbsp;&nbsp;<span class="c"># ç”Ÿæˆä¸¤ä¸ªæ–°çš„</span><br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"munchkin"</span>, <span class="v">x1</span>, <span class="v">y</span>)<br>
                        &nbsp;&nbsp;<span class="v">game</span>.<span class="f">spawnXY</span>(<span class="s">"munchkin"</span>, <span class="v">x2</span>, <span class="v">y</span>)
                    </div>
                </div>
                <div class="col-visual">
                    <div class="hydra-container" id="hydraBox" style="display: flex; justify-content: center; align-items: center;">
                        <div class="enemy" onclick="splitHydra(this)">ğŸ‘¾</div>
                        <div style="position: absolute; bottom: 10px; color: #bdc3c7;">ç‚¹å‡»æ€ªç‰©åˆ†è£‚</div>
                    </div>
                    <script>
                        function splitHydra(el) {
                            el.style.animation = 'die 0.2s forwards';
                            const parent = el.parentNode;
                            
                            setTimeout(() => {
                                el.remove();
                                // Spawn 2
                                for(let i=0; i<2; i++) {
                                    const m = document.createElement('div');
                                    m.className = 'enemy';
                                    m.innerHTML = 'ğŸ‘¾';
                                    // Random offset position relative to center visually
                                    const rX = Math.random() * 100 - 50;
                                    const rY = Math.random() * 100 - 50;
                                    m.style.transform = `translate(${rX}px, ${rY}px)`;
                                    m.onclick = function() { splitHydra(this); };
                                    parent.appendChild(m);
                                }
                            }, 200);
                        }
                    </script>
                </div>
            </div>
        </div>

        <!-- Slide 8: æ€»ç»“ -->
        <div class="slide">
            <div class="header">
                <div class="icon">ğŸ†</div>
                <h1>å‡»è´¥äº‹ä»¶å£è¯€</h1>
            </div>
            <div class="layout">
                <div class="col-text" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                    <div class="card" style="background: #fff0f6; border-color: var(--primary); color: var(--primary);">
                        "çŸ®äººå€’åœ¨å“ª (pos)ï¼Œ<br>é‡‘å¸å°±ä»é™„è¿‘å¼¹å‡ºæ¥ (random)ï¼"
                    </div>
                    <div class="card" style="background: #e3f2fd; border-color: var(--accent); color: #0984e3; margin-top: 20px;">
                        "è¿˜è¦æ‰“çš„å‡ä¸€åª (-=)ï¼Œ<br>å·²ç»æ‰“çš„åŠ ä¸€åª (+=)ï¼"
                    </div>
                </div>
                <div class="col-visual" style="border: none; background: transparent; box-shadow: none;">
                    <div style="font-size: 100px; animation: idle 2s infinite;">ğŸ…</div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨è¿›åº¦æ¡ -->
        <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

    </div>

    <!-- å³æŒ‰é’® -->
    <button class="nav-btn btn-next" id="btnNext" onclick="moveSlide(1)">
        <span>âš”ï¸</span>
    </button>

</div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const progressBar = document.getElementById('progressBar');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    function updateUI() {
        slides.forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });

        btnPrev.classList.toggle('disabled', currentSlide === 0);
        btnNext.classList.toggle('disabled', currentSlide === totalSlides - 1);

        const percentage = ((currentSlide + 1) / totalSlides) * 100;
        progressBar.style.width = `${percentage}%`;
    }

    function moveSlide(dir) {
        const nextIndex = currentSlide + dir;
        if (nextIndex >= 0 && nextIndex < totalSlides) {
            currentSlide = nextIndex;
            updateUI();
        }
    }

    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') moveSlide(-1);
        if (e.key === 'ArrowRight') moveSlide(1);
    });

    updateUI();
</script>

</body>
</html>