<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSP-J3105 æ­Œå£°ç‹å†  - ç¼–ç¨‹é­”æ³•è¯¾å ‚</title>
    <style>
        /* --- å…¨å±€é£æ ¼è®¾ç½® --- */
        :root {
            --bg-color: #2e003e; /* èˆå°æ·±ç´« */
            --card-bg: #fff; /* äº®ç™½ */
            --text-color: #4a148c; /* æ·±ç´«æ–‡å­— */
            --cpp-color: #6a1b9a; /* ä»£ç ç´« */
            --py-color: #ffb300; /* é‡‘ç‰Œé»„ */
            --accent-stage: #ff007f; /* éœ“è™¹ç²‰ */
            --border-radius: 15px;
        }

        body {
            /* åœ†æ¶¦æ¸…æ™°çš„å­—ä½“ï¼Œæ— é‡å½± */
            font-family: "Comic Sans MS", "YouYuan", "å¹¼åœ†", "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            transition: background-color 0.3s;
            background-image: radial-gradient(circle, #4a148c 1px, transparent 1px);
            background-size: 30px 30px;
        }

        /* å®¹å™¨ */
        .container {
            max-width: 850px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 0 30px rgba(255, 0, 127, 0.3);
            border: 4px solid var(--accent-stage);
        }

        /* é“¾æ¥å°å­—æ ·å¼ */
        .link-text {
            text-align: center;
            font-size: 0.9em;
            color: #880e4f;
            margin-top: 5px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .link-text a {
            color: var(--cpp-color);
            text-decoration: none;
            border-bottom: 2px dashed var(--cpp-color);
            transition: color 0.2s;
        }
        .link-text a:hover {
            color: var(--accent-stage);
            border-bottom-color: var(--accent-stage);
        }

        /* --- é¡¶éƒ¨åˆ‡æ¢æŒ‰é’® --- */
        .toggle-bar {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .toggle-btn {
            padding: 10px 30px;
            font-size: 1.1em;
            border: 2px solid var(--text-color);
            border-radius: 50px;
            cursor: pointer;
            margin: 0 10px;
            font-family: inherit;
            font-weight: bold;
            background: #f3e5f5;
            transition: all 0.2s;
            color: var(--text-color);
        }

        .btn-cpp.active { background-color: var(--cpp-color); color: #fff; transform: scale(1.05); box-shadow: 0 5px 15px rgba(106, 27, 154, 0.4); }
        .btn-py.active { background-color: var(--py-color); color: #fff; transform: scale(1.05); box-shadow: 0 5px 15px rgba(255, 179, 0, 0.4); }

        /* --- æ ‡é¢˜æ ·å¼ --- */
        h1 {
            text-align: center;
            font-size: 2.4em;
            margin-bottom: 10px;
            color: var(--text-color);
            text-shadow: 2px 2px 0 #ffeb3b;
            font-weight: 800;
            letter-spacing: 2px;
            border-bottom: 4px solid var(--accent-stage);
            display: inline-block;
            padding-bottom: 10px;
        }
        .header-container { text-align: center; margin-bottom: 30px; }
        .subtitle {
            color: #ad1457;
            font-size: 1.2em;
            margin-top: 10px;
        }
        .badge {
            background: var(--accent-stage);
            color: #fff;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.6em;
            vertical-align: middle;
            margin-right: 10px;
        }

        h2 {
            color: var(--cpp-color);
            border-left: 6px solid var(--py-color);
            padding-left: 15px;
            margin-top: 30px;
            font-size: 1.6em;
            font-weight: bold;
        }

        /* --- å¡ç‰‡æ ·å¼ --- */
        .card {
            background-color: #f3e5f5;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid #e1bee7;
        }
        
        /* --- å›¾è§£åŒºåŸŸ --- */
        .visual-box {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #ab47bc;
        }

        .score-card {
            width: 50px;
            height: 50px;
            border: 2px solid #8e24aa;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 1.2em;
            color: #4a148c;
            background: #fff;
            position: relative;
        }

        .score-card.removed {
            background: #bdbdbd;
            border-color: #9e9e9e;
            color: #fff;
            text-decoration: line-through;
            opacity: 0.6;
        }
        
        .score-card.removed::after {
            content: "âœ–";
            position: absolute;
            color: red;
            font-size: 1.5em;
            opacity: 0.8;
        }

        .calc-arrow {
            font-size: 2em;
            color: var(--accent-stage);
            margin: 0 10px;
        }

        .result-star {
            background: #ffeb3b;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            color: #e65100;
            box-shadow: 0 0 10px #ffeb3b;
        }

        /* å›¾ç‰‡æ ·å¼ */
        .img-placeholder {
            width: 60%;
            height: auto;
            max-height: 300px;
            object-fit: contain;
            border-radius: 15px;
            margin: 15px auto;
            display: block;
            border: 2px solid #ce93d8;
        }

        /* --- ä»£ç å— --- */
        pre {
            background-color: #1a1a1a; /* èˆå°é»‘ */
            color: #f8f8f2; /* è§å…‰å­— */
            padding: 20px;
            border-radius: 15px;
            font-family: Consolas, "Courier New", monospace;
            overflow-x: auto;
            font-size: 1.2em;
            border-left: 6px solid var(--accent-stage);
        }
        
        .inline-code {
            font-family: Consolas, "Courier New", monospace;
            color: #c2185b;
            background-color: #fce4ec;
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 1em;
            font-weight: bold;
        }

        /* ä»£ç é«˜äº® */
        .c-kw { color: #ff4081; font-weight: bold; } /* å…³é”®å­— */
        .c-type { color: #00e5ff; } /* ç±»å‹ */
        .c-num { color: #ffea00; } /* æ•°å­— */
        .c-com { color: #9e9e9e; font-style: italic; } /* æ³¨é‡Š */
        .c-str { color: #a5d6a7; } /* å­—ç¬¦ä¸² */

        /* --- è¯­è¨€åˆ‡æ¢æ§åˆ¶ --- */
        .cpp-content { display: none; }
        .py-content { display: none; }
        body.mode-cpp .cpp-content { display: block; }
        body.mode-py .py-content { display: block; }
        body.mode-cpp .container { border-color: var(--cpp-color); }
        body.mode-py .container { border-color: var(--py-color); }

    </style>
</head>
<body class="mode-cpp"> <div class="toggle-bar">
        <button class="toggle-btn btn-cpp active" onclick="switchLang('cpp')">ğŸ“˜ C++ è¯„åˆ†ç³»ç»Ÿ</button>
        <button class="toggle-btn btn-py" onclick="switchLang('py')">ğŸ“’ Python è¯„åˆ†ç³»ç»Ÿ</button>
    </div>

    <div class="container">
        <div class="header-container">
            <h1><span class="badge">CSP-J3105</span>æ­Œå£°ç‹å† </h1>
            <div class="link-text">
                ç»ƒä¹ é¢˜ç›®é“¾æ¥ï¼š<a href="https://oj.koudashijie.com/collection/26/type/course/problem/113" target="_blank">https://oj.koudashijie.com/collection/26/type/course/problem/113</a>
            </div>
            <div class="subtitle">ğŸ¤ æ£®æ—éŸ³ä¹ç«æŠ€åœº Â· å…¬å¹³æ‰“åˆ†</div>
        </div>

        <div class="card">
            <h2>ğŸµ å¯»æ‰¾æœ€å¼ºæ­Œå”±è‹±é›„ (é¢˜ç›®æè¿°)</h2>
            <p>
                æœ‰ $n$ ä½è‹±é›„å‚åŠ å”±æ­Œæ¯”èµ›ï¼Œæ¯äººæœ‰ $m$ ä¸ªè¯„å§”æ‰“åˆ†ã€‚
                <br>ä¸ºäº†é˜²æ­¢é»‘å¹•ï¼Œè§„åˆ™æ˜¯ï¼š
                <br>1. <strong>å»æ‰ä¸€ä¸ªæœ€é«˜åˆ†</strong>ã€‚
                <br>2. <strong>å»æ‰ä¸€ä¸ªæœ€ä½åˆ†</strong>ã€‚
                <br>3. å‰©ä¸‹çš„ $m-2$ ä¸ªåˆ†æ•°å– <strong>å¹³å‡å€¼</strong>ã€‚
            </p>
            <p>
                ğŸ‘‰ <strong>ä»»åŠ¡ï¼š</strong> ç®—å‡ºæ‰€æœ‰é€‰æ‰‹ä¸­ï¼Œ<strong>æœ€é«˜</strong> çš„é‚£ä¸ªå¹³å‡åˆ†æ˜¯å¤šå°‘ï¼Ÿ
                <br>ï¼ˆç»“æœä¿ç•™ 2 ä½å°æ•°ï¼‰
            </p>

            
            <img src="CSP-J3105.png" alt="å»å¤´å»å°¾å¹³å‡åˆ†ç¤ºæ„å›¾" class="img-placeholder">

            <div class="visual-box">
                <div style="width:100%; text-align:center; font-weight:bold; margin-bottom:10px;">
                    ç¤ºä¾‹è¯„åˆ†: 10, 8, 9, 5, 10
                </div>
                
                <div class="score-card">8</div>
                <div class="score-card">9</div>
                <div class="score-card">5</div>
                <div class="score-card removed">10<div style="position:absolute; bottom:-20px; font-size:0.5em; color:#666;">æœ€é«˜</div></div>
                <div class="score-card removed">5<div style="position:absolute; bottom:-20px; font-size:0.5em; color:#666;">æœ€ä½</div></div>
                
                <div class="calc-arrow">â¡</div>
                
                <div class="result-star">
                    å¹³å‡: (8+9+5) Ã· 3 = 7.33
                </div>
            </div>
        </div>

        <div class="card magic">
            <h2>ğŸ§  é­”æ³•åŸç† (Logic)</h2>
            <p>è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„â€œå¥¥æ—åŒ¹å…‹æ‰“åˆ†æ³•â€ã€‚</p>
            
            <div style="background:#fff; padding:15px; border-left:4px solid var(--accent-stage); margin:10px 0; border-radius: 8px;">
                <strong>ğŸ“ è®¡ç®—å…¬å¼ï¼š</strong><br>
                æˆ‘ä»¬ä¸éœ€è¦çœŸçš„å»â€œåˆ é™¤â€æ•°ç»„é‡Œçš„å…ƒç´ ï¼ˆé‚£æ ·å¤ªæ…¢äº†ï¼‰ã€‚<br>
                èªæ˜çš„åšæ³•æ˜¯ï¼š<br>
                1. ç®—å‡ºæ‰€æœ‰åˆ†æ•°çš„ <strong>æ€»å’Œ (sum)</strong>ã€‚<br>
                2. æ‰¾å‡º <strong>æœ€å¤§å€¼ (max)</strong> å’Œ <strong>æœ€å°å€¼ (min)</strong>ã€‚<br>
                3. æœ‰æ•ˆæ€»åˆ† = <span class="inline-code">sum - max - min</span>ã€‚<br>
                4. å¹³å‡åˆ† = <span class="inline-code">æœ‰æ•ˆæ€»åˆ† / (m - 2)</span>ã€‚
            </div>

            <div class="cpp-content">
                <h3>C++ å®ç°ç»†èŠ‚</h3>
                <p>
                    <strong>è¾¹è¯»è¾¹ç®—ï¼š</strong> æˆ‘ä»¬ä¸éœ€è¦å¼€ä¸€ä¸ªæ•°ç»„æŠŠæ‰€æœ‰åˆ†æ•°å­˜ä¸‹æ¥ã€‚
                    <br>è¯»ä¸€ä¸ªæ•°ï¼Œå°±åŠ åˆ° sum é‡Œï¼Œé¡ºä¾¿çœ‹çœ‹æ˜¯ä¸æ˜¯æ–°çš„ max æˆ– minã€‚è¿™æ ·æœ€çœç©ºé—´ï¼
                    <br><strong>å°æ•°ç²¾åº¦ï¼š</strong> è®°å¾—ç”¨ <span class="inline-code">fixed << setprecision(2)</span>ã€‚
                </p>
            </div>

            <div class="py-content">
                <h3>Python å®ç°ç»†èŠ‚</h3>
                <p>
                    <strong>åˆ—è¡¨ç¥å™¨ï¼š</strong> Python å¤„ç†è¿™ä¸ªå¤ªç®€å•äº†ã€‚
                    <br>è¯»å…¥åˆ—è¡¨åï¼Œç›´æ¥ç”¨ <span class="inline-code">sum(scores)</span>, <span class="inline-code">max(scores)</span>, <span class="inline-code">min(scores)</span> ä¸‰ä¸ªå‡½æ•°æå®šã€‚
                </p>
            </div>
        </div>

        <div class="cpp-content card">
            <h2>âš”ï¸ C++ è§£é¢˜ä»£ç </h2>
            <p>ä½¿ç”¨â€œæ“‚å°æ³•â€è¾¹è¯»è¾¹æ‰¾æœ€å¤§æœ€å°ï¼Œé«˜æ•ˆçœç©ºé—´ã€‚</p>
<pre>
<span class="c-kw">#include</span> &lt;iostream&gt;
<span class="c-kw">#include</span> &lt;iomanip&gt; <span class="c-com">// ç”¨äºä¿ç•™å°æ•°</span>
<span class="c-kw">#include</span> &lt;climits&gt; <span class="c-com">// ç”¨äº INT_MAX ç­‰</span>
<span class="c-kw">using namespace</span> <span class="c-kw">std</span>;

<span class="c-kw">int</span> <span class="c-kw">main</span>() {
    <span class="c-kw">int</span> n, m;
    <span class="c-kw">cin</span> >> n >> m;
    
    <span class="c-type">double</span> max_avg = <span class="c-num">0.0</span>; <span class="c-com">// è®°å½•å…¨åœºæœ€é«˜çš„å¹³å‡åˆ†</span>
    
    <span class="c-com">// éå†æ¯ä¸€ä½é€‰æ‰‹</span>
    <span class="c-kw">for</span> (<span class="c-kw">int</span> i = <span class="c-num">0</span>; i < n; i++) {
        <span class="c-kw">int</span> sum = <span class="c-num">0</span>;
        <span class="c-kw">int</span> max_val = -<span class="c-num">1</span>;      <span class="c-com">// åˆå§‹åŒ–ä¸ºæå°å€¼</span>
        <span class="c-kw">int</span> min_val = <span class="c-num">10000</span>;   <span class="c-com">// åˆå§‹åŒ–ä¸ºæå¤§å€¼</span>
        
        <span class="c-com">// è¯»å…¥è¯¥é€‰æ‰‹çš„ m ä¸ªè¯„åˆ†</span>
        <span class="c-kw">for</span> (<span class="c-kw">int</span> j = <span class="c-num">0</span>; j < m; j++) {
            <span class="c-kw">int</span> score;
            <span class="c-kw">cin</span> >> score;
            
            sum += score; <span class="c-com">// ç´¯åŠ æ€»åˆ†</span>
            
            <span class="c-com">// æ›´æ–°æœ€å¤§å€¼å’Œæœ€å°å€¼</span>
            <span class="c-kw">if</span> (score > max_val) max_val = score;
            <span class="c-kw">if</span> (score < min_val) min_val = score;
        }
        
        <span class="c-com">// è®¡ç®—å¹³å‡åˆ†ï¼š(æ€»åˆ† - æœ€é«˜ - æœ€ä½) / (äººæ•° - 2)</span>
        <span class="c-com">// æ³¨æ„è¦ * 1.0 è½¬ä¸ºå°æ•°é™¤æ³•</span>
        <span class="c-type">double</span> avg = (sum - max_val - min_val) * <span class="c-num">1.0</span> / (m - <span class="c-num">2</span>);
        
        <span class="c-com">// PKï¼šçœ‹çœ‹æ˜¯ä¸æ˜¯å½“å‰æœ€é«˜çš„</span>
        <span class="c-kw">if</span> (avg > max_avg) {
            max_avg = avg;
        }
    }
    
    <span class="c-com">// è¾“å‡ºç»“æœï¼Œä¿ç•™2ä½å°æ•°</span>
    <span class="c-kw">cout</span> << <span class="c-kw">fixed</span> << <span class="c-kw">setprecision</span>(<span class="c-num">2</span>) << max_avg << <span class="c-kw">endl</span>;
    
    <span class="c-kw">return</span> <span class="c-num">0</span>;
}
</pre>
        </div>

        <div class="py-content card">
            <h2>ğŸ Python è§£é¢˜ä»£ç </h2>
            <p>æ— å‡½æ•°è„šæœ¬ï¼Œåˆ©ç”¨å†…ç½®å‡½æ•°å¿«é€Ÿè®¡ç®—ã€‚</p>
<pre>
<span class="c-com"># 1. è¯»å…¥ n å’Œ m</span>
line1 = <span class="c-kw">input</span>().split()
n = <span class="c-kw">int</span>(line1[<span class="c-num">0</span>])
m = <span class="c-kw">int</span>(line1[<span class="c-num">1</span>])

max_avg = <span class="c-num">0.0</span> <span class="c-com"># è®°å½•å…¨åœºæœ€é«˜åˆ†</span>

<span class="c-com"># 2. éå†æ¯ä¸€ä½é€‰æ‰‹</span>
<span class="c-kw">for</span> i <span class="c-kw">in</span> <span class="c-kw">range</span>(n):
    <span class="c-com"># è¯»å…¥ä¸€è¡Œåˆ†æ•°ï¼Œè½¬ä¸ºæ•´æ•°åˆ—è¡¨</span>
    scores = <span class="c-kw">list</span>(<span class="c-kw">map</span>(<span class="c-kw">int</span>, <span class="c-kw">input</span>().split()))
    
    <span class="c-com"># åˆ©ç”¨å†…ç½®å‡½æ•°è®¡ç®—</span>
    total = <span class="c-kw">sum</span>(scores)
    high = <span class="c-kw">max</span>(scores)
    low = <span class="c-kw">min</span>(scores)
    
    <span class="c-com"># è®¡ç®—æœ‰æ•ˆå¹³å‡åˆ†</span>
    <span class="c-com"># å…¬å¼ï¼š(æ€»å’Œ - æœ€å¤§ - æœ€å°) / (æ•°é‡ - 2)</span>
    avg = (total - high - low) / (m - <span class="c-num">2</span>)
    
    <span class="c-com"># æ›´æ–°æœ€å¤§å€¼</span>
    <span class="c-kw">if</span> avg > max_avg:
        max_avg = avg

<span class="c-com"># 3. è¾“å‡ºç»“æœï¼Œä¿ç•™2ä½å°æ•°</span>
<span class="c-kw">print</span>(f<span class="c-str">"{max_avg:.2f}"</span>)
</pre>
        </div>

        <div class="card" style="border-left: 6px solid var(--accent-stage);">
            <h2>ğŸŒŸ é­”æ³•ç¬”è®° (é‡ç‚¹å¤ä¹ )</h2>
            <ul>
                <li>âš–ï¸ <strong>å…¬å¹³ç®—æ³•ï¼š</strong> è¿™ç§å»æ‰æå€¼çš„ç®—æ³•åœ¨æ•°æ®å¤„ç†ä¸­éå¸¸å¸¸ç”¨ï¼Œèƒ½é˜²æ­¢ä¸€ä¸ªæ£ä¹±çš„è¯„å§”æ¯æ‰æ¯”èµ›ã€‚</li>
                <li>ğŸ”„ <strong>è¾¹è¯»è¾¹ç®—ï¼š</strong> åœ¨ C++ ä¸­ï¼Œå°½é‡é¿å… <span class="inline-code">cin</span> è¯»å…¥æ•´ä¸ªå¤§æ•°ç»„åå†å¤„ç†ã€‚è¯»ä¸€ä¸ªå¤„ç†ä¸€ä¸ªï¼Œæ—¢å¿«åˆçœå†…å­˜ã€‚</li>
                <li>ğŸ¯ <strong>ç±»å‹è½¬æ¢ï¼š</strong> åœ¨åšé™¤æ³•æ±‚å¹³å‡å€¼æ—¶ï¼Œåƒä¸‡åˆ«å¿˜äº†æŠŠè¢«é™¤æ•°è½¬æˆå°æ•°ï¼ˆæ¯”å¦‚ä¹˜ä»¥ 1.0ï¼‰ï¼Œå¦åˆ™æ•´æ•°é™¤æ³•ä¼šä¸¢æ‰å°æ•°éƒ¨åˆ†ï¼</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 40px; color: #880e4f; font-size: 0.9em; border-top: 1px dashed #ff007f; padding-top: 20px;">
            ğŸ‰ å† å†›è¯ç”Ÿï¼ç‹å† å±äºå¾—åˆ†æœ€é«˜çš„è‹±é›„ï¼ <br>
            â€”â€” æ‰£å“’ä¸–ç•Œæ•™ç ”å›¢é˜Ÿ ğŸ’–
        </div>
    </div>

    <script>
        function switchLang(lang) {
            document.body.className = 'mode-' + lang;
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector('.btn-' + lang).classList.add('active');
        }
    </script>
</body>
</html>